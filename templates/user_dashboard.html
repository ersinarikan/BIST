<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIST AI - Hisse Takip Sistemi</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Socket.IO -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <!-- Chart.js (grafik iÃ§in) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        body { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
        }
        
        .user-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
        }
        
        .user-card:hover {
            transform: translateY(-5px);
        }
        
        .signal-buy { color: #28a745; font-weight: bold; }
        .signal-sell { color: #dc3545; font-weight: bold; }
        .signal-hold { color: #6c757d; font-weight: bold; }
        
        .stock-item {
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 5px solid #007bff;
            transition: all 0.3s ease;
        }
        
        .stock-item:hover {
            background: rgba(0, 123, 255, 0.1);
        }
        
        /* âœ… FIX: Prediction bÃ¶lÃ¼mÃ¼ iÃ§in consistent hizalama */
        #watchlist [id^="pred-"] {
            min-height: 50px;  /* Minimum yÃ¼kseklik garantisi */
        }
        
        /* âœ… FIX: "En iyi" badge'Ä± her zaman aynÄ± hizada */
        #watchlist [id^="pred-"] .d-flex {
            align-items: baseline;  /* Baseline alignment */
        }
        
        .price-change-positive { color: #28a745; }
        .price-change-negative { color: #dc3545; }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            min-width: 300px;
        }
        
        .connection-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 15px;
            border-radius: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
        }
        
        .stock-search-item {
            transition: background-color 0.2s ease;
        }
        
        .stock-search-item:hover {
            background-color: rgba(0, 123, 255, 0.1);
        }
        
        .stock-search-item:last-child {
            border-bottom: none !important;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    {# âœ… FIX: Always inject user_id script (even if None) so frontend can handle it properly #}
    <script id="app-user" type="application/json">{{ user_id|tojson if user_id is not none else 'null' }}</script>
    <script>
        try{
            const el = document.getElementById('app-user');
            if(el){ 
                const userIdValue = JSON.parse(el.textContent || 'null');
                window.APP_USER_ID = (userIdValue !== null && userIdValue !== undefined) ? userIdValue : null;
                console.log('ğŸ” User ID injected:', window.APP_USER_ID);
            }
        }catch(e){
            console.error('âŒ Error parsing user ID:', e);
            window.APP_USER_ID = null;
        }
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-chart-line me-2"></i>BIST AI Hisse Takip
            </a>
            <!-- âœ… FIX: YardÄ±m butonu en saÄŸa taÅŸÄ±ndÄ± -->
            <div class="navbar-nav ms-auto">
                <span class="navbar-text me-3" id="user-info">
                    <i class="fas fa-user me-2"></i>{{ user_name if user_name else 'KullanÄ±cÄ±' }}
                </span>
                <a class="nav-link" href="/logout"><i class="fas fa-right-from-bracket me-1"></i>Ã‡Ä±kÄ±ÅŸ</a>
                <span class="navbar-text me-3" id="connection-status">
                    <i class="fas fa-wifi text-warning"></i> BaÄŸlanÄ±yor...
                </span>
                <button class="btn btn-outline-light btn-sm" data-bs-toggle="modal" data-bs-target="#helpModal" 
                        title="YardÄ±m ve KullanÄ±m Rehberi">
                    <i class="fas fa-question-circle me-1"></i>YardÄ±m
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-4">
        <div class="row">
            <!-- Stock Watchlist -->
            <div class="col-lg-8">
                <div class="user-card p-4 mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4><i class="fas fa-star text-warning me-2"></i>Takip Edilen Hisseler</h4>
                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#addStockModal">
                            <i class="fas fa-plus me-2"></i>Hisse Ekle
                        </button>
                    </div>
                    <!-- âœ… FIX: Filtreler baÅŸlÄ±k ile hisse kartlarÄ± arasÄ±na taÅŸÄ±ndÄ± -->
                    <div class="mb-3 pb-3 border-bottom">
                        <div class="row g-2 align-items-center">
                            <div class="col-6 col-md-3">
                                <label class="form-label small mb-0">SÄ±rala (Tahmin Ufku)</label>
                                <select id="pred-sort-horizon" class="form-select form-select-sm">
                                    <option value="1d">1 GÃ¼n</option>
                                    <option value="3d">3 GÃ¼n</option>
                                    <option value="7d" selected>7 GÃ¼n</option>
                                    <option value="14d">14 GÃ¼n</option>
                                    <option value="30d">30 GÃ¼n</option>
                                </select>
                            </div>
                            <div class="col-6 col-md-2">
                                <label class="form-label small mb-0">SÄ±ra</label>
                                <select id="pred-sort-order" class="form-select form-select-sm">
                                    <option value="desc" selected>Azalan</option>
                                    <option value="asc">Artan</option>
                                </select>
                            </div>
                            <div class="col-6 col-md-3">
                                <label class="form-label small mb-0">YÃ¶n Filtresi</label>
                                <select id="pred-dir" class="form-select form-select-sm">
                                    <option value="all" selected>Hepsi</option>
                                    <option value="bullish">YÃ¼kseliÅŸ</option>
                                    <option value="bearish">DÃ¼ÅŸÃ¼ÅŸ</option>
                                </select>
                            </div>
                            <div class="col-6 col-md-4">
                                <label class="form-label small mb-0">Min deÄŸiÅŸim % (mutlak): <span id="pred-min-abs-val">0</span></label>
                                <input type="range" min="0" max="50" step="1" value="0" id="pred-min-abs" class="form-range">
                            </div>
                        </div>
                    </div>
                    <div id="watchlist">
                        <!-- Takip edilen hisseler burada listelenecek -->
                        <div class="text-center text-muted py-4">
                            <i class="fas fa-chart-bar fa-3x mb-3"></i>
                            <p>HenÃ¼z takip edilen hisse bulunmuyor.<br>Hisse eklemek iÃ§in yukarÄ±daki butonu kullanÄ±n.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Signals & Notifications -->
            <div class="col-lg-4">
                <!-- Live Signals -->
                <div class="user-card p-4 mb-4">
                    <h5><i class="fas fa-bell text-primary me-2"></i>CanlÄ± Sinyaller</h5>
                    <div id="live-signals" class="mt-3">
                        <div class="text-center text-muted py-3">
                            <i class="fas fa-signal fa-2x mb-2"></i>
                            <p>Sinyal bekleniyor...</p>
                        </div>
                    </div>
                </div>
                
                <!-- System Status -->
                <div class="user-card p-4">
                    <h6><i class="fas fa-heartbeat text-success me-2"></i>Sistem Durumu</h6>
                    <div class="mt-3">
                        <div class="d-flex justify-content-between">
                            <span>BaÄŸlantÄ±:</span>
                            <span id="system-connection" class="text-warning">Kontrol ediliyor...</span>
                        </div>
                        <div class="d-flex justify-content-between mt-2">
                            <span>Veri AkÄ±ÅŸÄ±:</span>
                            <span id="data-stream" class="text-warning">Kontrol ediliyor...</span>
                        </div>
                        <div class="d-flex justify-content-between mt-2">
                            <span>Son GÃ¼ncelleme:</span>
                            <span id="last-update" class="text-muted">--:--:--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Stock Modal -->
    <div class="modal fade" id="addStockModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Hisse Ekle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="stockSearch" class="form-label">Hisse Ara</label>
                        <input type="text" class="form-control" id="stockSearch" 
                               placeholder="Hisse kodu veya ÅŸirket adÄ± girin..." 
                               oninput="searchStocks(this.value)">
                        <div class="form-text">Ã–rn: THYAO, TÃ¼rk Hava, bankacÄ±lÄ±k</div>
                    </div>
                    
                    <!-- Search Results -->
                    <div id="stockSearchResults" class="mb-3" style="display: none;">
                        <label class="form-label">Arama SonuÃ§larÄ±:</label>
                        <div class="border rounded p-2" style="max-height: 200px; overflow-y: auto;">
                            <div id="searchResultsList">
                                <!-- Arama sonuÃ§larÄ± burada gÃ¶sterilecek -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Selected Stock -->
                    <div class="mb-3">
                        <label for="selectedStock" class="form-label">SeÃ§ilen Hisse</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="selectedStock" 
                                   placeholder="YukarÄ±dan hisse seÃ§in veya kod girin" readonly>
                            <button class="btn btn-outline-secondary" type="button" 
                                    onclick="clearSelectedStock()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="alertType" class="form-label">Sinyal TÃ¼rÃ¼</label>
                        <select class="form-select" id="alertType">
                            <option value="all">TÃ¼m Sinyaller</option>
                            <option value="buy">Sadece AlÄ±m Sinyalleri</option>
                            <option value="sell">Sadece SatÄ±m Sinyalleri</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ä°ptal</button>
                    <button type="button" class="btn btn-primary" onclick="addStock()">Ekle</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Detail Modal -->
    <div class="modal fade" id="detailModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><span id="detailTitle">Detay</span></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-12 col-md-6 mb-3">
                            <div class="border rounded p-2" style="height: 300px;">
                                <canvas id="detailSpark" style="height: 250px !important;"></canvas>
                            </div>
                                <div id="detailSparkStats" class="small text-muted mt-1"></div>
                                <div id="detailPatternStats" class="small text-danger mt-1"></div>
                            <div class="border rounded p-2 mt-2">
                                <div class="d-flex justify-content-between align-items-center mb-1">
                                    <div class="small text-muted">Hacim Segmenti</div>
                                    <span class="badge bg-light text-dark" id="detailVolumeTier">-</span>
                                </div>
                                <div class="small text-muted" id="detailAvgVolume">-</div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6 mb-3">
                            <div class="border rounded p-2" style="max-height:180px;overflow:auto;">
                                <div class="small text-muted mb-1">Formasyonlar</div>
                                <div id="detailPatterns">YÃ¼kleniyor...</div>
                            </div>
                            <div class="border rounded p-2 mt-2" style="max-height:180px;overflow:auto;">
                                <div class="small text-muted mb-1">ML Ã–zet (BirleÅŸik)</div>
                                <div id="detailMlUnified" class="small text-muted">-</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Kapat</button>
                </div>
            </div>
        </div>
    </div>

    <!-- âœ… YARDIM MODAL: DetaylÄ± KullanÄ±m Rehberi -->
    <div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="helpModalLabel">
                        <i class="fas fa-question-circle me-2"></i>YardÄ±m ve KullanÄ±m Rehberi
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="font-size: 0.95rem;">
                    <!-- 1. Hisse Takibe Ekleme/Ã‡Ä±karma -->
                    <div class="mb-4">
                        <h5 class="text-primary mb-3">
                            <i class="fas fa-star me-2"></i>1. Hisse Takibe NasÄ±l Eklenir/Ã‡Ä±karÄ±lÄ±r?
                        </h5>
                        <div class="card border-primary">
                            <div class="card-body">
                                <h6 class="text-success"><i class="fas fa-plus-circle me-1"></i>Hisse Ekleme:</h6>
                                <ol>
                                    <li><strong>"Takip Edilen Hisseler"</strong> kutucuÄŸunun saÄŸ Ã¼st kÃ¶ÅŸesindeki <strong>"+ Hisse Ekle"</strong> butonuna tÄ±klayÄ±n.</li>
                                    <li>AÃ§Ä±lan pencerede, takip etmek istediÄŸiniz hissenin <strong>kodunu</strong> (Ã¶rneÄŸin: <code>AEFES</code>, <code>THYAO</code>) yazÄ±n veya ÅŸirket adÄ±nÄ± girin.</li>
                                    <li>Listeden doÄŸru hisseyi seÃ§ip <strong>"Ekle"</strong> butonuna basÄ±n.</li>
                                    <li>Hisse, listenize eklenecek ve yapay zeka analizleri kÄ±sa sÃ¼re iÃ§inde gÃ¶rÃ¼nmeye baÅŸlayacaktÄ±r.</li>
                                </ol>
                                <h6 class="text-danger mt-3"><i class="fas fa-minus-circle me-1"></i>Hisse Ã‡Ä±karma:</h6>
                                <ol>
                                    <li>Takip listenizden Ã§Ä±karmak istediÄŸiniz hissenin Ã¼zerine gelin.</li>
                                    <li>Hissenin yanÄ±nda belirecek olan <strong>"X"</strong> veya <strong>"Ã‡Ä±kar"</strong> butonuna tÄ±klayÄ±n.</li>
                                    <li>OnaylamanÄ±z istendiÄŸinde <strong>"Evet"</strong> diyerek hisseyi listenizden Ã§Ä±karabilirsiniz.</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <!-- 2. GÃ¶rÃ¼nen Rozetler (Sinyaller) -->
                    <div class="mb-4">
                        <h5 class="text-primary mb-3">
                            <i class="fas fa-bell me-2"></i>2. GÃ¶rÃ¼nen Rozetler (Sinyaller) Nedir?
                        </h5>
                        <div class="card border-primary">
                            <div class="card-body">
                                <p>Takip ettiÄŸiniz hisselerin yanÄ±nda gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z <strong>renkli rozetler</strong>, yapay zekamÄ±zÄ±n o hisse iÃ§in yaptÄ±ÄŸÄ± anlÄ±k deÄŸerlendirmelerdir. Bu rozetler, hissenin gelecekteki olasÄ± hareket yÃ¶nÃ¼nÃ¼ ve bu tahmine ne kadar gÃ¼vendiÄŸimizi gÃ¶sterir.</p>
                                
                                <div class="row mt-3">
                                    <div class="col-md-4 mb-3">
                                        <div class="card border-success">
                                            <div class="card-body text-center">
                                                <i class="fas fa-arrow-up fa-2x text-success mb-2"></i>
                                                <h6 class="text-success">YeÅŸil Rozet</h6>
                                                <p class="mb-0"><strong>YÃ¼kseliÅŸ</strong></p>
                                                <small class="text-muted">Yapay zekamÄ±z, hissenin fiyatÄ±nÄ±n belirli bir sÃ¼re iÃ§inde <strong>yÃ¼kseleceÄŸini</strong> tahmin ediyor.</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <div class="card border-danger">
                                            <div class="card-body text-center">
                                                <i class="fas fa-arrow-down fa-2x text-danger mb-2"></i>
                                                <h6 class="text-danger">KÄ±rmÄ±zÄ± Rozet</h6>
                                                <p class="mb-0"><strong>DÃ¼ÅŸÃ¼ÅŸ</strong></p>
                                                <small class="text-muted">Yapay zekamÄ±z, hissenin fiyatÄ±nÄ±n belirli bir sÃ¼re iÃ§inde <strong>dÃ¼ÅŸeceÄŸini</strong> tahmin ediyor.</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <div class="card border-secondary">
                                            <div class="card-body text-center">
                                                <i class="fas fa-pause fa-2x text-secondary mb-2"></i>
                                                <h6 class="text-secondary">Gri/SarÄ± Rozet</h6>
                                                <p class="mb-0"><strong>Bekleme</strong></p>
                                                <small class="text-muted">Yapay zekamÄ±z, hissenin fiyat hareketinin <strong>belirsiz</strong> olduÄŸunu veya yeterli sinyal bulunmadÄ±ÄŸÄ±nÄ± gÃ¶steriyor.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="alert alert-info mt-3">
                                    <strong><i class="fas fa-info-circle me-1"></i>YÃ¼zde DeÄŸeri:</strong> Rozetin Ã¼zerindeki yÃ¼zde (%) deÄŸeri, yapay zekamÄ±zÄ±n bu tahmine olan <strong>gÃ¼ven seviyesini</strong> gÃ¶sterir. Ã–rneÄŸin <strong>"%53"</strong> deÄŸeri, tahminin %53 gÃ¼ven seviyesinde olduÄŸunu ifade eder. YÃ¼zde ne kadar yÃ¼ksekse, tahminin gerÃ§ekleÅŸme olasÄ±lÄ±ÄŸÄ± o kadar artar. <strong>%70 ve Ã¼zeri</strong> gÃ¼ven seviyeleri genellikle daha gÃ¼venilir tahminler olarak deÄŸerlendirilir.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 3. Formasyonlar ve AnlamlarÄ± -->
                    <div class="mb-4">
                        <h5 class="text-primary mb-3">
                            <i class="fas fa-shapes me-2"></i>3. TÃ¼m Formasyonlar ve AnlamlarÄ±
                        </h5>
                        <div class="card border-primary">
                            <div class="card-body">
                                <p>Yapay zekamÄ±z, hisse grafiklerinde oluÅŸan ve gelecekteki fiyat hareketleri hakkÄ±nda ipuÃ§larÄ± veren Ã¶zel ÅŸekilleri (formasyonlarÄ±) tespit eder. Bu formasyonlar, deneyimli yatÄ±rÄ±mcÄ±larÄ±n kullandÄ±ÄŸÄ± teknik analiz yÃ¶ntemlerinin temelini oluÅŸturur.</p>
                                
                                <div class="alert alert-warning">
                                    <strong><i class="fas fa-exclamation-triangle me-1"></i>Ã–nemli Not:</strong> Her formasyonun bir "yÃ¼kseliÅŸ" veya "dÃ¼ÅŸÃ¼ÅŸ" sinyali vardÄ±r, ancak hiÃ§bir zaman %100 kesin deÄŸildir. Yapay zekamÄ±z, bu formasyonlarÄ± diÄŸer verilerle birleÅŸtirerek daha gÃ¼venilir tahminler sunmaya Ã§alÄ±ÅŸÄ±r.
                                </div>

                                <!-- YÃ¼kseliÅŸ FormasyonlarÄ± -->
                                <h6 class="text-success mt-4"><i class="fas fa-arrow-trend-up me-1"></i>YÃ¼kseliÅŸ FormasyonlarÄ± (Genellikle Fiyat ArtÄ±ÅŸÄ± Beklenir):</h6>
                                <div class="table-responsive mt-2">
                                    <table class="table table-sm table-bordered">
                                        <thead class="table-success">
                                            <tr>
                                                <th>Formasyon AdÄ±</th>
                                                <th>AÃ§Ä±klama</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr><td><strong>Ã‡ekiÃ§ (Hammer)</strong></td><td>Genellikle dÃ¼ÅŸÃ¼ÅŸ trendinin sonunda gÃ¶rÃ¼lÃ¼r, fiyatÄ±n yukarÄ± dÃ¶neceÄŸine iÅŸaret edebilir.</td></tr>
                                            <tr><td><strong>Ters Ã‡ekiÃ§ (Inverted Hammer)</strong></td><td>DÃ¼ÅŸÃ¼ÅŸ sonrasÄ± potansiyel bir yÃ¼kseliÅŸin habercisi olabilir.</td></tr>
                                            <tr><td><strong>BoÄŸa Yutan (Bullish Engulfing)</strong></td><td>Ã–nceki dÃ¼ÅŸÃ¼ÅŸ mumunu tamamen yutan bÃ¼yÃ¼k bir yÃ¼kseliÅŸ mumu, gÃ¼Ã§lÃ¼ bir alÄ±m sinyali.</td></tr>
                                            <tr><td><strong>Sabah YÄ±ldÄ±zÄ± (Morning Star)</strong></td><td>DÃ¼ÅŸÃ¼ÅŸ trendinin sonunda oluÅŸan Ã¼Ã§ mumlu bir formasyon, yÃ¼kseliÅŸin baÅŸlangÄ±cÄ± olabilir.</td></tr>
                                            <tr><td><strong>ÃœÃ§ Beyaz Asker (Three White Soldiers)</strong></td><td>Art arda gelen Ã¼Ã§ gÃ¼Ã§lÃ¼ yÃ¼kseliÅŸ mumu, gÃ¼Ã§lÃ¼ bir yÃ¼kseliÅŸ trendinin devamÄ±nÄ± gÃ¶sterir.</td></tr>
                                            <tr><td><strong>YÃ¼kselen ÃœÃ§gen (Ascending Triangle)</strong></td><td>FiyatÄ±n belirli bir direnÃ§ seviyesini kÄ±rmaya Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± ve yukarÄ± yÃ¶nlÃ¼ bir kÄ±rÄ±lma olabileceÄŸini gÃ¶sterir.</td></tr>
                                            <tr><td><strong>Ters Omuz BaÅŸ Omuz (Inverse Head and Shoulders)</strong></td><td>DÃ¼ÅŸÃ¼ÅŸ trendinin sonunda oluÅŸan, gÃ¼Ã§lÃ¼ bir yÃ¼kseliÅŸ dÃ¶nÃ¼ÅŸ formasyonu.</td></tr>
                                            <tr><td><strong>Ã‡ift Dip (Double Bottom)</strong></td><td>FiyatÄ±n iki kez aynÄ± seviyeye dÃ¼ÅŸmesi ve bu seviyeyi destek olarak kullanmasÄ±, yÃ¼kseliÅŸ sinyali.</td></tr>
                                            <tr><td><strong>YÃ¼kseliÅŸ BayraÄŸÄ± (Bullish Flag)</strong></td><td>YÃ¼kseliÅŸ trendi iÃ§inde kÄ±sa bir dÃ¼ÅŸÃ¼ÅŸ dÃ¼zeltmesi, trend devam sinyali.</td></tr>
                                            <tr><td><strong>Fincan ve Kulp (Cup and Handle)</strong></td><td>Uzun vadeli yÃ¼kseliÅŸ formasyonu, fiyatÄ±n toparlanÄ±p yÃ¼kselmeye devam edeceÄŸini gÃ¶sterir.</td></tr>
                                        </tbody>
                                    </table>
                                </div>

                                <!-- DÃ¼ÅŸÃ¼ÅŸ FormasyonlarÄ± -->
                                <h6 class="text-danger mt-4"><i class="fas fa-arrow-trend-down me-1"></i>DÃ¼ÅŸÃ¼ÅŸ FormasyonlarÄ± (Genellikle Fiyat AzalÄ±ÅŸÄ± Beklenir):</h6>
                                <div class="table-responsive mt-2">
                                    <table class="table table-sm table-bordered">
                                        <thead class="table-danger">
                                            <tr>
                                                <th>Formasyon AdÄ±</th>
                                                <th>AÃ§Ä±klama</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr><td><strong>AsÄ±lan Adam (Hanging Man)</strong></td><td>Genellikle yÃ¼kseliÅŸ trendinin sonunda gÃ¶rÃ¼lÃ¼r, fiyatÄ±n aÅŸaÄŸÄ± dÃ¶neceÄŸine iÅŸaret edebilir.</td></tr>
                                            <tr><td><strong>DÃ¼ÅŸen YÄ±ldÄ±z (Shooting Star)</strong></td><td>YÃ¼kseliÅŸ sonrasÄ± potansiyel bir dÃ¼ÅŸÃ¼ÅŸÃ¼n habercisi olabilir.</td></tr>
                                            <tr><td><strong>AyÄ± Yutan (Bearish Engulfing)</strong></td><td>Ã–nceki yÃ¼kseliÅŸ mumunu tamamen yutan bÃ¼yÃ¼k bir dÃ¼ÅŸÃ¼ÅŸ mumu, gÃ¼Ã§lÃ¼ bir satÄ±ÅŸ sinyali.</td></tr>
                                            <tr><td><strong>AkÅŸam YÄ±ldÄ±zÄ± (Evening Star)</strong></td><td>YÃ¼kseliÅŸ trendinin sonunda oluÅŸan Ã¼Ã§ mumlu bir formasyon, dÃ¼ÅŸÃ¼ÅŸÃ¼n baÅŸlangÄ±cÄ± olabilir.</td></tr>
                                            <tr><td><strong>ÃœÃ§ Kara Karga (Three Black Crows)</strong></td><td>Art arda gelen Ã¼Ã§ gÃ¼Ã§lÃ¼ dÃ¼ÅŸÃ¼ÅŸ mumu, gÃ¼Ã§lÃ¼ bir dÃ¼ÅŸÃ¼ÅŸ trendinin devamÄ±nÄ± gÃ¶sterir.</td></tr>
                                            <tr><td><strong>AlÃ§alan ÃœÃ§gen (Descending Triangle)</strong></td><td>FiyatÄ±n belirli bir destek seviyesini kÄ±rmaya Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± ve aÅŸaÄŸÄ± yÃ¶nlÃ¼ bir kÄ±rÄ±lma olabileceÄŸini gÃ¶sterir.</td></tr>
                                            <tr><td><strong>Omuz BaÅŸ Omuz (Head and Shoulders)</strong></td><td>YÃ¼kseliÅŸ trendinin sonunda oluÅŸan, gÃ¼Ã§lÃ¼ bir dÃ¼ÅŸÃ¼ÅŸ dÃ¶nÃ¼ÅŸ formasyonu.</td></tr>
                                            <tr><td><strong>Ã‡ift Tepe (Double Top)</strong></td><td>FiyatÄ±n iki kez aynÄ± seviyeye Ã§Ä±kmasÄ± ve bu seviyeyi direnÃ§ olarak kullanmasÄ±, dÃ¼ÅŸÃ¼ÅŸ sinyali.</td></tr>
                                            <tr><td><strong>DÃ¼ÅŸÃ¼ÅŸ BayraÄŸÄ± (Bearish Flag)</strong></td><td>DÃ¼ÅŸÃ¼ÅŸ trendi iÃ§inde kÄ±sa bir yÃ¼kseliÅŸ dÃ¼zeltmesi, trend devam sinyali.</td></tr>
                                            <tr><td><strong>KaranlÄ±k Bulut (Dark Cloud Cover)</strong></td><td>YÃ¼kseliÅŸ trendinin sonunda oluÅŸan, gÃ¼Ã§lÃ¼ bir satÄ±ÅŸ baskÄ±sÄ± sinyali.</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 4. Modal DetaylarÄ± -->
                    <div class="mb-4">
                        <h5 class="text-primary mb-3">
                            <i class="fas fa-info-circle me-2"></i>4. Detay ModalÄ±nda GÃ¶rÃ¼nenler Nedir?
                        </h5>
                        <div class="card border-primary">
                            <div class="card-body">
                                <p>Bir hissenin Ã¼zerine tÄ±kladÄ±ÄŸÄ±nÄ±zda aÃ§Ä±lan detay penceresi (modal), yapay zekamÄ±zÄ±n o hisse iÃ§in yaptÄ±ÄŸÄ± tÃ¼m analizleri daha derinlemesine gÃ¶sterir. Burada gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z bilgiler, yapay zekanÄ±n tahminini nasÄ±l oluÅŸturduÄŸuna dair "kanÄ±tlar" sunar.</p>
                                
                                <h6 class="text-info mt-3"><i class="fas fa-calendar-alt me-1"></i>Bar AralÄ±klarÄ± (Horizon):</h6>
                                <p>Yapay zekanÄ±n tahmin yaptÄ±ÄŸÄ± <strong>zaman dilimleridir</strong>:</p>
                                <ul>
                                    <li><strong>1 GÃ¼n (1D):</strong> En kÄ±sa vadeli tahmin. Genellikle gÃ¼nlÃ¼k iÅŸlemler iÃ§in kullanÄ±lÄ±r.</li>
                                    <li><strong>3 GÃ¼n (3D):</strong> KÄ±sa vadeli tahmin. Hafta iÃ§i hareketleri Ã¶ngÃ¶rÃ¼r.</li>
                                    <li><strong>7 GÃ¼n (7D):</strong> Orta vadeli tahmin. Bir haftalÄ±k periyodu kapsar.</li>
                                    <li><strong>14 GÃ¼n (14D):</strong> Biraz daha uzun vadeli tahmin. Ä°ki haftalÄ±k hareketleri Ã¶ngÃ¶rÃ¼r.</li>
                                    <li><strong>30 GÃ¼n (30D):</strong> Uzun vadeli tahmin. Bir aylÄ±k periyodu kapsar.</li>
                                </ul>
                                <p>Her zaman dilimi iÃ§in ayrÄ± bir tahmin ve gÃ¼ven seviyesi gÃ¶rebilirsiniz.</p>

                                <h6 class="text-info mt-3"><i class="fas fa-chart-bar me-1"></i>Hacim Segmenti (Volume Segment):</h6>
                                <p>Hissenin <strong>iÅŸlem hacminin</strong> (kaÃ§ adet hissenin alÄ±nÄ±p satÄ±ldÄ±ÄŸÄ±) ne kadar yoÄŸun olduÄŸunu gÃ¶sterir:</p>
                                <ul>
                                    <li><strong>DÃ¼ÅŸÃ¼k Hacim:</strong> Hissede az iÅŸlem yapÄ±lÄ±yor. Fiyat hareketleri daha ani ve tahmin etmesi zor olabilir.</li>
                                    <li><strong>Orta Hacim:</strong> Normal seviyede iÅŸlem yapÄ±lÄ±yor. Fiyat hareketleri genellikle daha Ã¶ngÃ¶rÃ¼lebilir.</li>
                                    <li><strong>YÃ¼ksek Hacim:</strong> Hissede Ã§ok yoÄŸun iÅŸlem yapÄ±lÄ±yor. Genellikle bÃ¼yÃ¼k yatÄ±rÄ±mcÄ±larÄ±n ilgisini gÃ¶sterir ve fiyat hareketleri daha gÃ¼venilir olabilir.</li>
                                </ul>

                                <h6 class="text-info mt-3"><i class="fas fa-shapes me-1"></i>Formasyonlar (Patterns):</h6>
                                <p>Yapay zekanÄ±n hisse grafiÄŸinde <strong>tespit ettiÄŸi tÃ¼m formasyonlarÄ±</strong> burada gÃ¶rebilirsiniz. Her formasyonun yanÄ±nda bir sinyal (YÃ¼kseliÅŸ/DÃ¼ÅŸÃ¼ÅŸ) ve gÃ¼ven seviyesi bulunur. Bu, yapay zekanÄ±n tahminini destekleyen gÃ¶rsel kanÄ±tlardÄ±r.</p>

                                <h6 class="text-info mt-3"><i class="fas fa-brain me-1"></i>ML Ã–zet (BirleÅŸik) (ML Summary - Unified):</h6>
                                <p>Yapay zekamÄ±zÄ±n <strong>farklÄ± modelleri</strong> (XGBoost, LightGBM, CatBoost gibi) kullanarak yaptÄ±ÄŸÄ± tahminlerin bir Ã¶zetidir. Bu bÃ¶lÃ¼m, tÃ¼m modellerin ortak gÃ¶rÃ¼ÅŸÃ¼nÃ¼ ve genel birleÅŸik sinyali gÃ¶sterir:</p>
                                <ul>
                                    <li><strong>Sinyal:</strong> YÃ¼kseliÅŸ, DÃ¼ÅŸÃ¼ÅŸ veya NÃ¶tr.</li>
                                    <li><strong>GÃ¼ven:</strong> BirleÅŸik tahminin gÃ¼ven seviyesi (yÃ¼zde olarak).</li>
                                    <li><strong>Tahmini Getiri:</strong> Yapay zekanÄ±n o hisse iÃ§in beklediÄŸi yÃ¼zde (%) getiri oranÄ±. Ã–rneÄŸin "+%5.2" deÄŸeri, fiyatÄ±n %5.2 artacaÄŸÄ±nÄ± Ã¶ngÃ¶rÃ¼r.</li>
                                </ul>

                                <h6 class="text-info mt-3"><i class="fas fa-search me-1"></i>KanÄ±t (Evidence):</h6>
                                <p>Yapay zekanÄ±n nihai tahminini oluÅŸtururken kullandÄ±ÄŸÄ± tÃ¼m <strong>"kanÄ±tlarÄ±"</strong> burada bulabilirsiniz. Bu, tahminin arkasÄ±ndaki mantÄ±ÄŸÄ± anlamanÄ±za yardÄ±mcÄ± olur:</p>
                                <ul>
                                    <li><strong>Pat (Pattern Score):</strong> Tespit edilen formasyonlarÄ±n toplam gÃ¼cÃ¼nÃ¼ ve yÃ¶nÃ¼nÃ¼ gÃ¶sterir. <strong>Pozitif deÄŸerler</strong> yÃ¼kseliÅŸ, <strong>negatif deÄŸerler</strong> dÃ¼ÅŸÃ¼ÅŸ formasyonlarÄ±nÄ±n aÄŸÄ±rlÄ±ÄŸÄ±nÄ± belirtir.</li>
                                    <li><strong>Sent (Sentiment Score):</strong> Hisselerle ilgili haberlerin ve sosyal medya paylaÅŸÄ±mlarÄ±nÄ±n genel duygu durumunu (olumlu/olumsuz) gÃ¶sterir. <strong>Pozitif deÄŸerler</strong> olumlu, <strong>negatif deÄŸerler</strong> olumsuz duygu durumuna iÅŸaret eder.</li>
                                    <li><strong>YOLO (Visual Pattern):</strong> Yapay zekanÄ±n grafiklerdeki karmaÅŸÄ±k gÃ¶rsel desenleri (YOLO teknolojisi ile) tespit edip etmediÄŸini gÃ¶sterir. Bu, formasyonlarÄ± daha da gÃ¼Ã§lendiren bir kanÄ±ttÄ±r.</li>
                                    <li><strong>1D Booster:</strong> Ã–zellikle 1 gÃ¼nlÃ¼k kÄ±sa vadeli tahminler iÃ§in kullanÄ±lan ek bir gÃ¼Ã§lendirici sinyaldir.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 5. Hisse KartÄ±nda GÃ¶rÃ¼nenler -->
                    <div class="mb-4">
                        <h5 class="text-primary mb-3">
                            <i class="fas fa-id-card me-2"></i>5. Hisse KartÄ±nda GÃ¶rÃ¼nenler Nedir?
                        </h5>
                        <div class="card border-primary">
                            <div class="card-body">
                                <p>Takip listenizdeki her hisse iÃ§in gÃ¶rÃ¼ntÃ¼lenen <strong>hisse kartÄ±</strong>, o hisse hakkÄ±nda temel bilgileri ve yapay zeka tahminlerini gÃ¶sterir:</p>
                                
                                <div class="row mt-3">
                                    <div class="col-md-6 mb-3">
                                        <div class="card border-info">
                                            <div class="card-body">
                                                <h6 class="text-info"><i class="fas fa-tag me-1"></i>Hisse Kodu</h6>
                                                <p class="mb-0">Hissenin <strong>BIST borsasÄ±ndaki kÄ±sa kodudur</strong> (Ã¶rneÄŸin: AEFES, THYAO, AKBNK). Bu kodla borsada iÅŸlem yapÄ±lÄ±r.</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="card border-info">
                                            <div class="card-body">
                                                <h6 class="text-info"><i class="fas fa-lira-sign me-1"></i>Fiyat</h6>
                                                <p class="mb-0">Hissenin <strong>gÃ¼ncel fiyatÄ±dÄ±r</strong> (Ã¶rneÄŸin: â‚º14.46). Bu fiyat, son iÅŸlem fiyatÄ±nÄ± veya kapanÄ±ÅŸ fiyatÄ±nÄ± gÃ¶sterir.</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="card border-info">
                                            <div class="card-body">
                                                <h6 class="text-info"><i class="fas fa-signal me-1"></i>Sinyal Durumu</h6>
                                                <p class="mb-0">Yapay zekanÄ±n o hisse iÃ§in verdiÄŸi <strong>tahmin sinyali</strong> (YÃ¼kseliÅŸ/DÃ¼ÅŸÃ¼ÅŸ/Bekleme) ve gÃ¼ven seviyesi.</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="card border-info">
                                            <div class="card-body">
                                                <h6 class="text-info"><i class="fas fa-clock me-1"></i>Son GÃ¼ncelleme</h6>
                                                <p class="mb-0">Yapay zeka tahmininin <strong>son ne zaman gÃ¼ncellendiÄŸini</strong> gÃ¶sterir. Tahminler genellikle her 5 dakikada bir gÃ¼ncellenir.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="alert alert-info mt-3">
                                    <strong><i class="fas fa-info-circle me-1"></i>DetaylÄ± Bilgi Ä°Ã§in:</strong> Hisse kartÄ±na <strong>tÄ±klayarak</strong> detay modalÄ±nÄ± aÃ§abilir ve daha fazla analiz bilgisi gÃ¶rebilirsiniz.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 6. YÃ¼zde DeÄŸerleri -->
                    <div class="mb-4">
                        <h5 class="text-primary mb-3">
                            <i class="fas fa-percentage me-2"></i>6. YÃ¼zde DeÄŸerleri Neyi Ä°fade Eder?
                        </h5>
                        <div class="card border-primary">
                            <div class="card-body">
                                <p>Uygulamada gÃ¶receÄŸiniz yÃ¼zde (%) deÄŸerleri, <strong>farklÄ± anlamlar taÅŸÄ±yabilir</strong>. Ä°ÅŸte en yaygÄ±n kullanÄ±mlarÄ±:</p>
                                
                                <h6 class="text-success mt-3"><i class="fas fa-check-circle me-1"></i>GÃ¼ven Seviyesi (Confidence):</h6>
                                <p>Bir hissenin sinyal rozetinde gÃ¶rÃ¼nen yÃ¼zde (Ã¶rneÄŸin: <strong>"Bekleme (%53)"</strong>), yapay zekanÄ±n o tahmine olan <strong>gÃ¼ven seviyesidir</strong>:</p>
                                <ul>
                                    <li><strong>%0-40:</strong> DÃ¼ÅŸÃ¼k gÃ¼ven. Tahmin belirsizdir, yatÄ±rÄ±m yapmadan Ã¶nce ek bilgi beklenmelidir.</li>
                                    <li><strong>%40-60:</strong> Orta gÃ¼ven. Tahmin makul ama kesin deÄŸildir. Dikkatli yaklaÅŸÄ±lmalÄ±dÄ±r.</li>
                                    <li><strong>%60-80:</strong> YÃ¼ksek gÃ¼ven. Tahmin gÃ¼venilirdir, ancak yine de risk faktÃ¶rÃ¼ bulunur.</li>
                                    <li><strong>%80-100:</strong> Ã‡ok yÃ¼ksek gÃ¼ven. Tahmin oldukÃ§a gÃ¼venilir olarak deÄŸerlendirilebilir.</li>
                                </ul>

                                <h6 class="text-info mt-3"><i class="fas fa-chart-line me-1"></i>Tahmini Getiri (Predicted Return):</h6>
                                <p>Detay modalÄ±nda veya bazÄ± kartlarda gÃ¶rÃ¼nen yÃ¼zde (Ã¶rneÄŸin: <strong>"+%5.2"</strong> veya <strong>"-%3.1"</strong>), yapay zekanÄ±n o hisse iÃ§in <strong>beklediÄŸi fiyat deÄŸiÅŸim oranÄ±dÄ±r</strong>:</p>
                                <ul>
                                    <li><strong>Pozitif deÄŸer (+%5.2):</strong> FiyatÄ±n <strong>artacaÄŸÄ±nÄ±</strong> Ã¶ngÃ¶rÃ¼r. Ã–rneÄŸin, â‚º100 olan bir hisse iÃ§in "+%5.2" deÄŸeri, fiyatÄ±n yaklaÅŸÄ±k â‚º105.20'ye Ã§Ä±kacaÄŸÄ±nÄ± gÃ¶sterir.</li>
                                    <li><strong>Negatif deÄŸer (-%3.1):</strong> FiyatÄ±n <strong>azalacaÄŸÄ±nÄ±</strong> Ã¶ngÃ¶rÃ¼r. Ã–rneÄŸin, â‚º100 olan bir hisse iÃ§in "-%3.1" deÄŸeri, fiyatÄ±n yaklaÅŸÄ±k â‚º96.90'a dÃ¼ÅŸeceÄŸini gÃ¶sterir.</li>
                                </ul>

                                <h6 class="text-warning mt-3"><i class="fas fa-exclamation-triangle me-1"></i>Ã–nemli HatÄ±rlatmalar:</h6>
                                <div class="alert alert-warning">
                                    <ul class="mb-0">
                                        <li>YÃ¼zde deÄŸerleri <strong>tahmindir</strong>, kesin sonuÃ§ deÄŸildir.</li>
                                        <li>Borsa yatÄ±rÄ±mlarÄ± her zaman <strong>risk iÃ§erir</strong> ve kayÄ±p olasÄ±lÄ±ÄŸÄ± bulunur.</li>
                                        <li>Bu uygulama sadece bir <strong>analiz aracÄ±dÄ±r</strong> ve yatÄ±rÄ±m tavsiyesi deÄŸildir.</li>
                                        <li>YatÄ±rÄ±m kararlarÄ±nÄ±zÄ± kendi <strong>araÅŸtÄ±rmalarÄ±nÄ±z</strong> ve <strong>risk toleransÄ±nÄ±z</strong> doÄŸrultusunda vermelisiniz.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Genel HatÄ±rlatmalar -->
                    <div class="mb-4">
                        <h5 class="text-primary mb-3">
                            <i class="fas fa-lightbulb me-2"></i>Genel HatÄ±rlatmalar
                        </h5>
                        <div class="card border-warning">
                            <div class="card-body">
                                <ul>
                                    <li><strong>GÃ¼venilirlik:</strong> Yapay zeka tahminleri yÃ¼ksek teknoloji kullanÄ±r, ancak <strong>%100 kesin deÄŸildir</strong>. Borsa dinamikleri sÃ¼rekli deÄŸiÅŸir.</li>
                                    <li><strong>Risk YÃ¶netimi:</strong> YatÄ±rÄ±m yaparken mutlaka <strong>risk yÃ¶netimi</strong> yapmalÄ±, sadece kaybetmeyi gÃ¶ze alabileceÄŸiniz miktarlarla iÅŸlem yapmalÄ±sÄ±nÄ±z.</li>
                                    <li><strong>Ã‡eÅŸitlendirme:</strong> TÃ¼m yatÄ±rÄ±mÄ±nÄ±zÄ± tek bir hisseye yapmayÄ±n. <strong>PortfÃ¶yÃ¼nÃ¼zÃ¼ Ã§eÅŸitlendirin</strong>.</li>
                                    <li><strong>GÃ¼ncel Bilgi:</strong> Tahminler <strong>gerÃ§ek zamanlÄ± olarak gÃ¼ncellenir</strong>, ancak piyasa koÅŸullarÄ± hÄ±zla deÄŸiÅŸebilir.</li>
                                    <li><strong>Destek:</strong> SorularÄ±nÄ±z veya sorunlarÄ±nÄ±z iÃ§in <strong>destek ekibimize</strong> ulaÅŸabilirsiniz.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times me-1"></i>Kapat
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container" class="notification"></div>
    
    <!-- Connection Status -->
    <div class="connection-status" id="bottom-connection-status">
        <i class="fas fa-wifi me-2"></i>BaÄŸlantÄ± durumu...
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/pattern_translations.js"></script>
    
    <!-- ===== REFACTORED: Modular JavaScript ===== -->
    <script type="module" src="/static/js/user-dashboard.js"></script>
    
    <!-- Legacy inline functions for onclick compatibility -->
    <script>
        // Compatibility shims for inline onclick handlers
        // These delegate to the modular dashboard instance
        
        function searchStocks(query) {
            if (window.dashboard) {
                window.dashboard.searchStocks(query);
            }
        }
        
        function selectStock(symbol, name, sector) {
            if (window.dashboard) {
                window.dashboard.selectStock(symbol, name, sector);
            }
        }
        
        function clearSelectedStock() {
            if (window.dashboard) {
                window.dashboard.clearSelectedStock();
            }
        }
        
        function addStock() {
            if (window.dashboard) {
                window.dashboard.addStock();
            }
        }
        
        function removeStock(symbol) {
            if (window.dashboard) {
                window.dashboard.removeStock(symbol);
            }
        }
        
        function openDetailModal(symbol) {
            if (window.dashboard) {
                window.dashboard.openDetailModal(symbol);
            }
        }
    </script>
</body>
</html>

