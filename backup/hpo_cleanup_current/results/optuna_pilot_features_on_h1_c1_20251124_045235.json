{
  "best_value": 57.926963319993945,
  "best_dirhit": 0.0,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "model_choice": "all",
    "ml_loss_mse_weight": 0.6524379063430816,
    "ml_loss_threshold": 0.006443129025878438,
    "ml_dir_penalty": 2.7213219091999914,
    "n_seeds": 5,
    "ml_adaptive_k_1d": 1.350037856070874,
    "ml_pattern_weight_scale_1d": 1.3566954452922215,
    "enable_talib_patterns_short": true,
    "external_min_days": 35,
    "external_smooth_alpha": 0.24115833512040688,
    "regime_scale_low": 0.9209310334835623,
    "regime_scale_high": 1.1931823461798714,
    "xgb_n_estimators": 404,
    "xgb_max_depth": 6,
    "xgb_learning_rate": 0.13243336452339366,
    "xgb_subsample": 0.5134320011101096,
    "xgb_colsample_bytree": 0.6350438436700342,
    "xgb_reg_alpha": 0.0006209177738460148,
    "xgb_reg_lambda": 12.430721963848208,
    "xgb_min_child_weight": 10,
    "xgb_gamma": 0.7366297666049,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 312,
    "lgb_n_estimators": 362,
    "lgb_max_depth": 8,
    "lgb_learning_rate": 0.011328184257460653,
    "lgb_num_leaves": 55,
    "lgb_subsample": 0.535882893706101,
    "lgb_colsample_bytree": 0.7557959709201417,
    "lgb_reg_alpha": 0.08408111645531907,
    "lgb_reg_lambda": 4.572032256749615,
    "lgb_min_data_in_leaf": 58,
    "lgb_feature_fraction_bynode": 0.6302275473409121,
    "lgb_bagging_freq": 5,
    "lgb_min_gain_to_split": 0.39048707534571125,
    "cat_iterations": 313,
    "cat_depth": 4,
    "cat_learning_rate": 0.06382143949584303,
    "cat_l2_leaf_reg": 7.482440746724458,
    "cat_subsample": 0.6127303819916063,
    "cat_rsm": 0.508494503075673,
    "cat_border_count": 25,
    "cat_random_strength": 3.5128981333191374,
    "cat_leaf_estimation_iterations": 20,
    "cat_bootstrap_type": "No"
  },
  "best_trial": {
    "number": 1283,
    "value": 57.926963319993945,
    "state": "1"
  },
  "n_trials": 1391,
  "pruned_count": 0,
  "avg_trial_time": 187.84444032517985,
  "top_k_trials": [
    {
      "number": 1283,
      "value": 57.926963319993945,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.6524379063430816,
        "ml_loss_threshold": 0.006443129025878438,
        "ml_dir_penalty": 2.7213219091999914,
        "n_seeds": 5,
        "ml_adaptive_k_1d": 1.350037856070874,
        "ml_pattern_weight_scale_1d": 1.3566954452922215,
        "enable_talib_patterns_short": true,
        "external_min_days": 35,
        "external_smooth_alpha": 0.24115833512040688,
        "regime_scale_low": 0.9209310334835623,
        "regime_scale_high": 1.1931823461798714,
        "xgb_n_estimators": 404,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.13243336452339366,
        "xgb_subsample": 0.5134320011101096,
        "xgb_colsample_bytree": 0.6350438436700342,
        "xgb_reg_alpha": 0.0006209177738460148,
        "xgb_reg_lambda": 12.430721963848208,
        "xgb_min_child_weight": 10,
        "xgb_gamma": 0.7366297666049,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 312,
        "lgb_n_estimators": 362,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.011328184257460653,
        "lgb_num_leaves": 55,
        "lgb_subsample": 0.535882893706101,
        "lgb_colsample_bytree": 0.7557959709201417,
        "lgb_reg_alpha": 0.08408111645531907,
        "lgb_reg_lambda": 4.572032256749615,
        "lgb_min_data_in_leaf": 58,
        "lgb_feature_fraction_bynode": 0.6302275473409121,
        "lgb_bagging_freq": 5,
        "lgb_min_gain_to_split": 0.39048707534571125,
        "cat_iterations": 313,
        "cat_depth": 4,
        "cat_learning_rate": 0.06382143949584303,
        "cat_l2_leaf_reg": 7.482440746724458,
        "cat_subsample": 0.6127303819916063,
        "cat_rsm": 0.508494503075673,
        "cat_border_count": 25,
        "cat_random_strength": 3.5128981333191374,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 91.66666666666666,
        "avg_nrmse": 1.039950557778786,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 558,
      "value": 55.069892826169195,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.6643624001691486,
        "ml_loss_threshold": 0.007923613214314708,
        "ml_dir_penalty": 4.399369466270135,
        "ml_adaptive_k_1d": 1.2270566254955317,
        "ml_pattern_weight_scale_1d": 1.2231513508075418,
        "enable_talib_patterns_short": true,
        "external_min_days": 39,
        "external_smooth_alpha": 0.16512493770849374,
        "xgb_n_estimators": 414,
        "xgb_max_depth": 3,
        "xgb_learning_rate": 0.12025781810530572,
        "xgb_subsample": 0.511899621591155,
        "xgb_colsample_bytree": 0.6455261418003886,
        "xgb_reg_alpha": 0.0008439064655533111,
        "xgb_reg_lambda": 0.3765489099635776,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.8421252788795802,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 297,
        "lgb_n_estimators": 228,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.011510298300901455,
        "lgb_num_leaves": 24,
        "lgb_subsample": 0.5386232779431415,
        "lgb_colsample_bytree": 0.8380789649782985,
        "lgb_reg_alpha": 4.349860632696783e-06,
        "lgb_reg_lambda": 4.982237919369366,
        "lgb_min_data_in_leaf": 60,
        "lgb_feature_fraction_bynode": 0.6195304508394415,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.2431013519943295,
        "cat_iterations": 339,
        "cat_depth": 3,
        "cat_learning_rate": 0.03527051392714226,
        "cat_l2_leaf_reg": 1.5953459041658995,
        "cat_subsample": 0.6780925281914408,
        "cat_rsm": 0.6706109379292672,
        "cat_border_count": 24,
        "cat_random_strength": 3.7023088805922058,
        "cat_leaf_estimation_iterations": 17,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 87.5,
        "avg_nrmse": 1.0300178623051328,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 1342,
      "value": 52.160450680859284,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "all",
        "n_seeds": 4,
        "ml_adaptive_k_1d": 1.2457412805837869,
        "ml_pattern_weight_scale_1d": 1.6816770661832077,
        "enable_talib_patterns_short": true,
        "external_min_days": 39,
        "external_smooth_alpha": 0.2690615886180198,
        "regime_scale_low": 0.920798396822828,
        "regime_scale_high": 1.1650752175292678,
        "fingpt_confidence_threshold": 0.385839365662638,
        "xgb_n_estimators": 540,
        "xgb_max_depth": 2,
        "xgb_learning_rate": 0.1435851008822209,
        "xgb_subsample": 0.8595627099989326,
        "xgb_colsample_bytree": 0.6408386247623012,
        "xgb_reg_alpha": 0.0015081239619215072,
        "xgb_reg_lambda": 1.9551172080244468,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.845591273507383,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 413,
        "lgb_n_estimators": 324,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.011596604245287311,
        "lgb_num_leaves": 55,
        "lgb_subsample": 0.5174517109222957,
        "lgb_colsample_bytree": 0.705911717703189,
        "lgb_reg_alpha": 2.2754314927800743e-06,
        "lgb_reg_lambda": 0.02303747565194521,
        "lgb_min_data_in_leaf": 63,
        "lgb_feature_fraction_bynode": 0.6465583727979988,
        "lgb_bagging_freq": 5,
        "lgb_min_gain_to_split": 0.9028413067603654,
        "cat_iterations": 340,
        "cat_depth": 4,
        "cat_learning_rate": 0.012865494068189043,
        "cat_l2_leaf_reg": 1.0072081279697316,
        "cat_subsample": 0.6460527473693979,
        "cat_rsm": 0.6805948399774427,
        "cat_border_count": 26,
        "cat_random_strength": 4.647454643965846,
        "cat_leaf_estimation_iterations": 5,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 83.33333333333333,
        "avg_nrmse": 1.028813775412341,
        "model_choice": "all"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ARCLK_h1_c1",
  "symbols": [
    "ARCLK"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.6524379063430816,
    "ml_loss_threshold": 0.006443129025878438,
    "ml_dir_penalty": 2.7213219091999914,
    "n_seeds": 5,
    "ml_adaptive_k_1d": 1.350037856070874,
    "ml_pattern_weight_scale_1d": 1.3566954452922215,
    "external_min_days": 35,
    "external_smooth_alpha": 0.24115833512040688,
    "regime_scale_low": 0.9209310334835623,
    "regime_scale_high": 1.1931823461798714
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 404,
    "xgb_max_depth": 6,
    "xgb_learning_rate": 0.13243336452339366,
    "xgb_subsample": 0.5134320011101096,
    "xgb_colsample_bytree": 0.6350438436700342,
    "xgb_reg_alpha": 0.0006209177738460148,
    "xgb_reg_lambda": 12.430721963848208,
    "xgb_min_child_weight": 10,
    "xgb_gamma": 0.7366297666049,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 312,
    "lgb_n_estimators": 362,
    "lgb_max_depth": 8,
    "lgb_learning_rate": 0.011328184257460653,
    "lgb_num_leaves": 55,
    "lgb_subsample": 0.535882893706101,
    "lgb_colsample_bytree": 0.7557959709201417,
    "lgb_reg_alpha": 0.08408111645531907,
    "lgb_reg_lambda": 4.572032256749615,
    "lgb_min_data_in_leaf": 58,
    "lgb_feature_fraction_bynode": 0.6302275473409121,
    "lgb_bagging_freq": 5,
    "lgb_min_gain_to_split": 0.39048707534571125,
    "cat_iterations": 313,
    "cat_depth": 4,
    "cat_learning_rate": 0.06382143949584303,
    "cat_l2_leaf_reg": 7.482440746724458,
    "cat_subsample": 0.6127303819916063,
    "cat_rsm": 0.508494503075673,
    "cat_border_count": 25,
    "cat_random_strength": 3.5128981333191374,
    "cat_leaf_estimation_iterations": 20,
    "cat_bootstrap_type": "No"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ARCLK_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.022983847826890818,
              "rmse": 0.022900094641977908,
              "mape": 1.7577750641360563,
              "confidence": 0.606346148357969
            },
            "lightgbm": {
              "raw_r2": -0.017598495020005062,
              "rmse": 0.022848519203602438,
              "mape": 1.851789676679239,
              "confidence": 0.6107104415580589
            },
            "catboost": {
              "raw_r2": -0.0016127362331401773,
              "rmse": 0.022637765043736047,
              "mape": 1.7569931929859361,
              "confidence": 0.6236896589107532
            }
          },
          "dirhit": 0.0,
          "rmse": 0.023124000476480815,
          "mape": 1191433.6855178354,
          "nrmse": 1.043095418611154,
          "mask_count": 0,
          "mask_pct": 0.0
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.008200526461511037,
              "rmse": 0.022926666363359823,
              "mape": 1.7440392062536376,
              "confidence": 0.6183380055780918
            },
            "lightgbm": {
              "raw_r2": -0.005567980420702501,
              "rmse": 0.022894848130143655,
              "mape": 1.816025853818764,
              "confidence": 0.6204763080821827
            },
            "catboost": {
              "raw_r2": 0.00394642365091243,
              "rmse": 0.022798960880660073,
              "mape": 1.7807542559237743,
              "confidence": 0.6282063651821168
            }
          },
          "dirhit": 0.0,
          "rmse": 0.018906874420719377,
          "mape": 100.19215407010569,
          "nrmse": 1.0267400033231355,
          "mask_count": 0,
          "mask_pct": 0.0
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0031278986441907928,
              "rmse": 0.02253541116426163,
              "mape": 1.8736526571545007,
              "confidence": 0.622458634151567
            },
            "lightgbm": {
              "raw_r2": -0.0022418221872747925,
              "rmse": 0.022525474688590823,
              "mape": 1.9488396039998988,
              "confidence": 0.6231785385441334
            },
            "catboost": {
              "raw_r2": 0.050117904203544415,
              "rmse": 0.02195546231332797,
              "mape": 1.6492321729017265,
              "confidence": 0.6655090379057984
            }
          },
          "dirhit": 0.0,
          "rmse": 0.023270489891202367,
          "mape": 125.15745624303266,
          "nrmse": 1.0473548636134533,
          "mask_count": 0,
          "mask_pct": 0.0
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.002454227874438534,
              "rmse": 0.02272855044051216,
              "mape": 1.8559023674044421,
              "confidence": 0.6230059648739165
            },
            "lightgbm": {
              "raw_r2": -0.0019280061524586205,
              "rmse": 0.022723939960124697,
              "mape": 1.9533023111223677,
              "confidence": 0.6234335071323156
            },
            "catboost": {
              "raw_r2": 0.008401272300703791,
              "rmse": 0.02261377150386061,
              "mape": 1.7230587023027917,
              "confidence": 0.6318250301904517
            }
          },
          "dirhit": 0.0,
          "rmse": 0.016769549189308,
          "mape": 502855.5963320873,
          "nrmse": 1.000757830122132,
          "mask_count": 0,
          "mask_pct": 0.0
        }
      ],
      "avg_dirhit": 0.0,
      "avg_nrmse": 1.0294870289174687,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.009191625201757795,
          "rmse": 0.022772680652527882,
          "mape": 1.8078423237371593,
          "confidence": 0.6175371882403861
        },
        "lightgbm": {
          "raw_r2": -0.006834075945110245,
          "rmse": 0.022748195495615405,
          "mape": 1.8924893614050673,
          "confidence": 0.6194496988291727
        },
        "catboost": {
          "raw_r2": 0.015213215980505115,
          "rmse": 0.022501489935396173,
          "mape": 1.7275095810285572,
          "confidence": 0.63730752304728
        }
      }
    }
  }
}