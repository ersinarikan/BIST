{
  "best_value": 59.409040055161505,
  "best_dirhit": 48.92857142857142,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "model_choice": "all",
    "ml_adaptive_k_1d": 1.5215925430639654,
    "ml_pattern_weight_scale_1d": 1.8964365693147134,
    "enable_talib_patterns_short": true,
    "external_min_days": 25,
    "external_smooth_alpha": 0.21340969220866804,
    "regime_scale_low": 0.8974125502456,
    "regime_scale_high": 1.1236550444124727,
    "fingpt_confidence_threshold": 0.2474658142764049,
    "xgb_n_estimators": 592,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.0897102282508209,
    "xgb_subsample": 0.527115807693721,
    "xgb_colsample_bytree": 0.6700411166665157,
    "xgb_reg_alpha": 0.00043325714093133706,
    "xgb_reg_lambda": 0.03243880231249931,
    "xgb_min_child_weight": 14,
    "xgb_gamma": 0.0011959758496204013,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 361,
    "lgb_n_estimators": 350,
    "lgb_max_depth": 4,
    "lgb_learning_rate": 0.0320285913362332,
    "lgb_num_leaves": 51,
    "lgb_subsample": 0.8591431657551124,
    "lgb_colsample_bytree": 0.5753146735962735,
    "lgb_reg_alpha": 0.01083690768448093,
    "lgb_reg_lambda": 0.004391528353586933,
    "lgb_min_data_in_leaf": 36,
    "lgb_feature_fraction_bynode": 0.7888039134574334,
    "lgb_bagging_freq": 7,
    "lgb_min_gain_to_split": 0.8148216865304945,
    "cat_iterations": 131,
    "cat_depth": 5,
    "cat_learning_rate": 0.025476285362335174,
    "cat_l2_leaf_reg": 4.18505144300444,
    "cat_subsample": 0.5827126945816218,
    "cat_rsm": 0.7815147145674672,
    "cat_border_count": 44,
    "cat_random_strength": 0.12755875757622168,
    "cat_leaf_estimation_iterations": 4,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 1215,
    "value": 59.409040055161505,
    "state": "1"
  },
  "n_trials": 1355,
  "pruned_count": 0,
  "avg_trial_time": 192.83060649630724,
  "top_k_trials": [
    {
      "number": 1215,
      "value": 59.409040055161505,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.5215925430639654,
        "ml_pattern_weight_scale_1d": 1.8964365693147134,
        "enable_talib_patterns_short": true,
        "external_min_days": 25,
        "external_smooth_alpha": 0.21340969220866804,
        "regime_scale_low": 0.8974125502456,
        "regime_scale_high": 1.1236550444124727,
        "fingpt_confidence_threshold": 0.2474658142764049,
        "xgb_n_estimators": 592,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.0897102282508209,
        "xgb_subsample": 0.527115807693721,
        "xgb_colsample_bytree": 0.6700411166665157,
        "xgb_reg_alpha": 0.00043325714093133706,
        "xgb_reg_lambda": 0.03243880231249931,
        "xgb_min_child_weight": 14,
        "xgb_gamma": 0.0011959758496204013,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 361,
        "lgb_n_estimators": 350,
        "lgb_max_depth": 4,
        "lgb_learning_rate": 0.0320285913362332,
        "lgb_num_leaves": 51,
        "lgb_subsample": 0.8591431657551124,
        "lgb_colsample_bytree": 0.5753146735962735,
        "lgb_reg_alpha": 0.01083690768448093,
        "lgb_reg_lambda": 0.004391528353586933,
        "lgb_min_data_in_leaf": 36,
        "lgb_feature_fraction_bynode": 0.7888039134574334,
        "lgb_bagging_freq": 7,
        "lgb_min_gain_to_split": 0.8148216865304945,
        "cat_iterations": 131,
        "cat_depth": 5,
        "cat_learning_rate": 0.025476285362335174,
        "cat_l2_leaf_reg": 4.18505144300444,
        "cat_subsample": 0.5827126945816218,
        "cat_rsm": 0.7815147145674672,
        "cat_border_count": 44,
        "cat_random_strength": 0.12755875757622168,
        "cat_leaf_estimation_iterations": 4,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 93.75,
        "avg_nrmse": 1.0359933241397496,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 377,
      "value": 57.98876557963388,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.7176242661381074,
        "ml_pattern_weight_scale_1d": 1.956956878218136,
        "enable_talib_patterns_short": true,
        "external_min_days": 40,
        "external_smooth_alpha": 0.4460888530911258,
        "regime_scale_low": 0.8423466400736789,
        "regime_scale_high": 1.1547879989765584,
        "fingpt_confidence_threshold": 0.32111416288052835,
        "xgb_n_estimators": 600,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.02720302150942403,
        "xgb_subsample": 0.5527630792543675,
        "xgb_colsample_bytree": 0.6828961311964349,
        "xgb_reg_alpha": 0.0001211578231119767,
        "xgb_reg_lambda": 0.022581240410024253,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.0011397903726898914,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 361,
        "lgb_n_estimators": 355,
        "lgb_max_depth": 4,
        "lgb_learning_rate": 0.020688880303538545,
        "lgb_num_leaves": 54,
        "lgb_subsample": 0.8482515733565669,
        "lgb_colsample_bytree": 0.5919059852871094,
        "lgb_reg_alpha": 0.007097360524641799,
        "lgb_reg_lambda": 0.0017581486899206082,
        "lgb_min_data_in_leaf": 33,
        "lgb_feature_fraction_bynode": 0.8109728910817643,
        "lgb_bagging_freq": 0,
        "lgb_min_gain_to_split": 0.7934008094191124,
        "cat_iterations": 182,
        "cat_depth": 5,
        "cat_learning_rate": 0.025846542922772244,
        "cat_l2_leaf_reg": 9.79835921895309,
        "cat_subsample": 0.9353987179040208,
        "cat_rsm": 0.9146657728676642,
        "cat_border_count": 49,
        "cat_random_strength": 0.14564204362279626,
        "cat_leaf_estimation_iterations": 15,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 91.66666666666666,
        "avg_nrmse": 1.0296501811721295,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 1141,
      "value": 55.891550607525595,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.9989736528027906,
        "ml_pattern_weight_scale_1d": 1.8957431228482355,
        "enable_talib_patterns_short": true,
        "external_min_days": 42,
        "external_smooth_alpha": 0.18799721317387066,
        "regime_scale_low": 0.9378774102424603,
        "regime_scale_high": 1.129726279764611,
        "xgb_n_estimators": 505,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.011850689551577137,
        "xgb_subsample": 0.5508202880343486,
        "xgb_colsample_bytree": 0.6251919191094583,
        "xgb_reg_alpha": 0.000995204761519169,
        "xgb_reg_lambda": 0.0496200647941382,
        "xgb_min_child_weight": 14,
        "xgb_gamma": 0.002308761803793009,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 377,
        "lgb_n_estimators": 344,
        "lgb_max_depth": 4,
        "lgb_learning_rate": 0.024170432978473974,
        "lgb_num_leaves": 55,
        "lgb_subsample": 0.8458408462513668,
        "lgb_colsample_bytree": 0.8761186575424322,
        "lgb_reg_alpha": 0.0004838847714067361,
        "lgb_reg_lambda": 0.006698222245407322,
        "lgb_min_data_in_leaf": 34,
        "lgb_feature_fraction_bynode": 0.7825479706898212,
        "lgb_bagging_freq": 7,
        "lgb_min_gain_to_split": 0.7354731630187559,
        "cat_iterations": 179,
        "cat_depth": 5,
        "cat_learning_rate": 0.020371916829350044,
        "cat_l2_leaf_reg": 2.0620794123733184,
        "cat_subsample": 0.5992415225031801,
        "cat_rsm": 0.8326397701522555,
        "cat_border_count": 49,
        "cat_random_strength": 0.10140578112569433,
        "cat_leaf_estimation_iterations": 16,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 88.75,
        "avg_nrmse": 1.0389082320790664,
        "model_choice": "all"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AGYO_h1_c1",
  "symbols": [
    "AGYO"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_adaptive_k_1d": 1.5215925430639654,
    "ml_pattern_weight_scale_1d": 1.8964365693147134,
    "external_min_days": 25,
    "external_smooth_alpha": 0.21340969220866804,
    "regime_scale_low": 0.8974125502456,
    "regime_scale_high": 1.1236550444124727,
    "fingpt_confidence_threshold": 0.2474658142764049
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 592,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.0897102282508209,
    "xgb_subsample": 0.527115807693721,
    "xgb_colsample_bytree": 0.6700411166665157,
    "xgb_reg_alpha": 0.00043325714093133706,
    "xgb_reg_lambda": 0.03243880231249931,
    "xgb_min_child_weight": 14,
    "xgb_gamma": 0.0011959758496204013,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 361,
    "lgb_n_estimators": 350,
    "lgb_max_depth": 4,
    "lgb_learning_rate": 0.0320285913362332,
    "lgb_num_leaves": 51,
    "lgb_subsample": 0.8591431657551124,
    "lgb_colsample_bytree": 0.5753146735962735,
    "lgb_reg_alpha": 0.01083690768448093,
    "lgb_reg_lambda": 0.004391528353586933,
    "lgb_min_data_in_leaf": 36,
    "lgb_feature_fraction_bynode": 0.7888039134574334,
    "lgb_bagging_freq": 7,
    "lgb_min_gain_to_split": 0.8148216865304945,
    "cat_iterations": 131,
    "cat_depth": 5,
    "cat_learning_rate": 0.025476285362335174,
    "cat_l2_leaf_reg": 4.18505144300444,
    "cat_subsample": 0.5827126945816218,
    "cat_rsm": 0.7815147145674672,
    "cat_border_count": 44,
    "cat_random_strength": 0.12755875757622168,
    "cat_leaf_estimation_iterations": 4,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AGYO_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0017492431531267079,
              "rmse": 0.02798145444305959,
              "mape": 1.6768796880818388,
              "confidence": 0.6235787489981088
            },
            "lightgbm": {
              "raw_r2": -0.026963288026294958,
              "rmse": 0.02834057966266459,
              "mape": 1.6368627276378356,
              "confidence": 0.6031254501365865
            },
            "catboost": {
              "raw_r2": 0.009260567408252244,
              "rmse": 0.02779543783931899,
              "mape": 1.5985845813798343,
              "confidence": 0.6325228670112977
            }
          },
          "dirhit": 50.0,
          "rmse": 0.018299472983215482,
          "mape": 106.42276534953719,
          "nrmse": 1.0465668989646588,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.007362066293591152,
              "rmse": 0.02729940874776199,
              "mape": 1.7647636468796684,
              "confidence": 0.6190189964764377
            },
            "lightgbm": {
              "raw_r2": -0.015722988547928713,
              "rmse": 0.027484580505259617,
              "mape": 1.6536971291606601,
              "confidence": 0.6122316471582773
            },
            "catboost": {
              "raw_r2": 0.01237407676473079,
              "rmse": 0.027163279947749596,
              "mape": 1.6019916291426177,
              "confidence": 0.6350507314391176
            }
          },
          "dirhit": 60.0,
          "rmse": 0.018373966400935523,
          "mape": 665476.8560885699,
          "nrmse": 1.0942895880808197,
          "mask_count": 5,
          "mask_pct": 17.24137931034483
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.01186978583854148,
              "rmse": 0.026863412953522455,
              "mape": 1.7456345046175352,
              "confidence": 0.615358628819842
            },
            "lightgbm": {
              "raw_r2": -0.012797917620763174,
              "rmse": 0.027039152639827733,
              "mape": 1.6921751708883623,
              "confidence": 0.6146052386152976
            },
            "catboost": {
              "raw_r2": 0.00563231735601503,
              "rmse": 0.026806661812093048,
              "mape": 1.6435675045475238,
              "confidence": 0.6295759554327831
            }
          },
          "dirhit": 28.57142857142857,
          "rmse": 0.017308598094730905,
          "mape": 378340.838535936,
          "nrmse": 1.0622493319417972,
          "mask_count": 7,
          "mask_pct": 24.137931034482758
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.011408837256935126,
              "rmse": 0.024890103109921194,
              "mape": 1.615623736509722,
              "confidence": 0.6157328325696276
            },
            "lightgbm": {
              "raw_r2": -0.02366663778117421,
              "rmse": 0.02505327393655857,
              "mape": 1.6917440568787483,
              "confidence": 0.6057932638241559
            },
            "catboost": {
              "raw_r2": 0.011461803100423293,
              "rmse": 0.0245858541963486,
              "mape": 1.6238132252692963,
              "confidence": 0.6343101670253899
            }
          },
          "dirhit": 57.14285714285714,
          "rmse": 0.013299952674427873,
          "mape": 3434601.0400652695,
          "nrmse": 1.0397122513565313,
          "mask_count": 7,
          "mask_pct": 24.137931034482758
        }
      ],
      "avg_dirhit": 48.92857142857142,
      "avg_nrmse": 1.0607045175859517,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.008097483135548617,
          "rmse": 0.026758594813566308,
          "mape": 1.7007253940221911,
          "confidence": 0.618422301716004
        },
        "lightgbm": {
          "raw_r2": -0.019787707994040265,
          "rmse": 0.026979396686077628,
          "mape": 1.6686197711414015,
          "confidence": 0.6089388999335793
        },
        "catboost": {
          "raw_r2": 0.009682191157355339,
          "rmse": 0.026587808448877558,
          "mape": 1.616989235084818,
          "confidence": 0.6328649302271471
        }
      }
    }
  }
}