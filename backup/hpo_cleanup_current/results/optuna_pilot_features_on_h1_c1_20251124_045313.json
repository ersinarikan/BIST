{
  "best_value": 64.02164649684288,
  "best_dirhit": 52.5,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.6940233133872371,
    "ml_loss_threshold": 0.0014186884975139942,
    "ml_dir_penalty": 4.76593411285735,
    "meta_stacking_alpha": 0.026238159839906364,
    "ml_adaptive_k_1d": 2.499462620379838,
    "ml_pattern_weight_scale_1d": 1.4958872716233218,
    "enable_talib_patterns_short": false,
    "external_min_days": 33,
    "external_smooth_alpha": 0.32168006773154284,
    "regime_scale_low": 0.9404430523092392,
    "regime_scale_high": 1.0817645449387685,
    "yolo_min_conf": 0.7857753757819191,
    "cat_iterations": 218,
    "cat_depth": 3,
    "cat_learning_rate": 0.01242006961231245,
    "cat_l2_leaf_reg": 6.39921072418222,
    "cat_subsample": 0.7126430717387408,
    "cat_rsm": 0.8303949338256318,
    "cat_border_count": 105,
    "cat_random_strength": 0.2438926918006765,
    "cat_leaf_estimation_iterations": 13,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 178,
    "value": 64.02164649684288,
    "state": "1"
  },
  "n_trials": 1325,
  "pruned_count": 0,
  "avg_trial_time": 197.26038134667672,
  "top_k_trials": [
    {
      "number": 178,
      "value": 64.02164649684288,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.6940233133872371,
        "ml_loss_threshold": 0.0014186884975139942,
        "ml_dir_penalty": 4.76593411285735,
        "meta_stacking_alpha": 0.026238159839906364,
        "ml_adaptive_k_1d": 2.499462620379838,
        "ml_pattern_weight_scale_1d": 1.4958872716233218,
        "enable_talib_patterns_short": false,
        "external_min_days": 33,
        "external_smooth_alpha": 0.32168006773154284,
        "regime_scale_low": 0.9404430523092392,
        "regime_scale_high": 1.0817645449387685,
        "yolo_min_conf": 0.7857753757819191,
        "cat_iterations": 218,
        "cat_depth": 3,
        "cat_learning_rate": 0.01242006961231245,
        "cat_l2_leaf_reg": 6.39921072418222,
        "cat_subsample": 0.7126430717387408,
        "cat_rsm": 0.8303949338256318,
        "cat_border_count": 105,
        "cat_random_strength": 0.2438926918006765,
        "cat_leaf_estimation_iterations": 13,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9963922505261879,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 969,
      "value": 64.01471420772292,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.6484276956431164,
        "ml_loss_threshold": 0.0011335828232690221,
        "ml_dir_penalty": 2.1591560331661235,
        "meta_stacking_alpha": 0.010155069775908198,
        "ml_adaptive_k_1d": 2.179494633097766,
        "ml_pattern_weight_scale_1d": 1.5893215952746487,
        "enable_talib_patterns_short": true,
        "external_min_days": 42,
        "external_smooth_alpha": 0.1724981238485628,
        "regime_scale_low": 0.9404006246522141,
        "regime_scale_high": 1.1012385485261593,
        "cat_iterations": 217,
        "cat_depth": 5,
        "cat_learning_rate": 0.01058604110998713,
        "cat_l2_leaf_reg": 5.655285261233255,
        "cat_subsample": 0.6906606004940592,
        "cat_rsm": 0.8870689976548347,
        "cat_border_count": 170,
        "cat_random_strength": 1.6944141784449869,
        "cat_leaf_estimation_iterations": 9,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.997547632046181,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 620,
      "value": 64.01431260565825,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.22375057488986133,
        "ml_loss_threshold": 0.001351242639089433,
        "ml_dir_penalty": 4.501376396900601,
        "meta_stacking_alpha": 0.015426632321450197,
        "ml_adaptive_k_1d": 2.1841582924379286,
        "ml_pattern_weight_scale_1d": 1.777856717020207,
        "enable_talib_patterns_short": false,
        "external_min_days": 56,
        "external_smooth_alpha": 0.26899564450248953,
        "regime_scale_low": 0.9425565996382452,
        "regime_scale_high": 1.1968221934032062,
        "yolo_min_conf": 0.7321269348689466,
        "cat_iterations": 210,
        "cat_depth": 3,
        "cat_learning_rate": 0.010609880837406183,
        "cat_l2_leaf_reg": 6.055923096819153,
        "cat_subsample": 0.7247171073256633,
        "cat_rsm": 0.8400322088316579,
        "cat_border_count": 146,
        "cat_random_strength": 0.12353641791383049,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9976145657236252,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AKENR_h1_c1",
  "symbols": [
    "AKENR"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.6940233133872371,
    "ml_loss_threshold": 0.0014186884975139942,
    "ml_dir_penalty": 4.76593411285735,
    "meta_stacking_alpha": 0.026238159839906364,
    "ml_adaptive_k_1d": 2.499462620379838,
    "ml_pattern_weight_scale_1d": 1.4958872716233218,
    "external_min_days": 33,
    "external_smooth_alpha": 0.32168006773154284,
    "regime_scale_low": 0.9404430523092392,
    "regime_scale_high": 1.0817645449387685,
    "yolo_min_conf": 0.7857753757819191
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 218,
    "cat_depth": 3,
    "cat_learning_rate": 0.01242006961231245,
    "cat_l2_leaf_reg": 6.39921072418222,
    "cat_subsample": 0.7126430717387408,
    "cat_rsm": 0.8303949338256318,
    "cat_border_count": 105,
    "cat_random_strength": 0.2438926918006765,
    "cat_leaf_estimation_iterations": 13,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AKENR_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -27.589402164169783,
              "rmse": 0.2022215921701545,
              "mape": 1.748748920235302,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": -0.012241024918038542,
              "rmse": 0.046182391012498,
              "mape": 1.7019483385541287,
              "confidence": 0.6150572709046658
            }
          },
          "dirhit": 50.0,
          "rmse": 0.027511292549387296,
          "mape": 542464.8326064018,
          "nrmse": 1.0112577721143676,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -25.61088374894041,
              "rmse": 0.2022109710411185,
              "mape": 1.7528222724119138,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": -0.00243760103890441,
              "rmse": 0.04538544634107276,
              "mape": 1.73181582267394,
              "confidence": 0.6230194736726775
            }
          },
          "dirhit": 0.0,
          "rmse": 0.020738155833777673,
          "mape": 119.77683996525866,
          "nrmse": 1.0044754679827281,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -30.025483403610238,
              "rmse": 0.202296953413653,
              "mape": 1.7587655619258094,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": -0.0160241904699594,
              "rmse": 0.04459015768054761,
              "mape": 1.7241639134578415,
              "confidence": 0.6119873056035954
            }
          },
          "dirhit": 100.0,
          "rmse": 0.022975894605998234,
          "mape": 119.33665123446688,
          "nrmse": 0.9855724551478643,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -31.64663771498715,
              "rmse": 0.20222964032796137,
              "mape": 1.768214917717758,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": -0.007404461890040033,
              "rmse": 0.04330910589326298,
              "mape": 1.6878556115244285,
              "confidence": 0.6189845617877128
            }
          },
          "dirhit": 60.0,
          "rmse": 0.03855370272329465,
          "mape": 1395318.8524933453,
          "nrmse": 1.0131970108462094,
          "mask_count": 5,
          "mask_pct": 17.24137931034483
        }
      ],
      "avg_dirhit": 52.5,
      "avg_nrmse": 1.0036256765227924,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -28.718101757926895,
          "rmse": 0.20223978923822183,
          "mape": 1.7571379180726958,
          "confidence": 0.3
        },
        "catboost": {
          "raw_r2": -0.009526819579235596,
          "rmse": 0.04486677523184534,
          "mape": 1.7114459215525846,
          "confidence": 0.6172621529921629
        }
      }
    }
  }
}