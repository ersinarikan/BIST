{
  "best_value": 63.93776835259809,
  "best_dirhit": 66.66666666666666,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.7151984157888629,
    "ml_loss_threshold": 0.001320897860773302,
    "ml_dir_penalty": 3.37729375479244,
    "n_seeds": 3,
    "meta_stacking_alpha": 0.017230885251704634,
    "ml_adaptive_k_1d": 2.4400447684699014,
    "ml_pattern_weight_scale_1d": 1.766442830264941,
    "enable_talib_patterns_short": true,
    "external_min_days": 40,
    "external_smooth_alpha": 0.12231225798777634,
    "fingpt_confidence_threshold": 0.454970197942922,
    "cat_iterations": 137,
    "cat_depth": 8,
    "cat_learning_rate": 0.012723702686292429,
    "cat_l2_leaf_reg": 4.462691682762269,
    "cat_subsample": 0.5481665815943234,
    "cat_rsm": 0.7352910039070791,
    "cat_border_count": 205,
    "cat_random_strength": 4.364670585745634,
    "cat_leaf_estimation_iterations": 3,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 1034,
    "value": 63.93776835259809,
    "state": "1"
  },
  "n_trials": 1500,
  "pruned_count": 0,
  "avg_trial_time": 158.50175575250168,
  "top_k_trials": [
    {
      "number": 1034,
      "value": 63.93776835259809,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.7151984157888629,
        "ml_loss_threshold": 0.001320897860773302,
        "ml_dir_penalty": 3.37729375479244,
        "n_seeds": 3,
        "meta_stacking_alpha": 0.017230885251704634,
        "ml_adaptive_k_1d": 2.4400447684699014,
        "ml_pattern_weight_scale_1d": 1.766442830264941,
        "enable_talib_patterns_short": true,
        "external_min_days": 40,
        "external_smooth_alpha": 0.12231225798777634,
        "fingpt_confidence_threshold": 0.454970197942922,
        "cat_iterations": 137,
        "cat_depth": 8,
        "cat_learning_rate": 0.012723702686292429,
        "cat_l2_leaf_reg": 4.462691682762269,
        "cat_subsample": 0.5481665815943234,
        "cat_rsm": 0.7352910039070791,
        "cat_border_count": 205,
        "cat_random_strength": 4.364670585745634,
        "cat_leaf_estimation_iterations": 3,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 1.0103719412336514,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 1004,
      "value": 61.358923098395834,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "meta_stacking_alpha": 0.02283787371542712,
        "ml_adaptive_k_1d": 2.4933385216176185,
        "ml_pattern_weight_scale_1d": 1.7216456690771005,
        "enable_talib_patterns_short": true,
        "external_min_days": 37,
        "external_smooth_alpha": 0.07017737946194169,
        "fingpt_confidence_threshold": 0.4766090706633949,
        "cat_iterations": 120,
        "cat_depth": 8,
        "cat_learning_rate": 0.012585921956222467,
        "cat_l2_leaf_reg": 3.699234824677472,
        "cat_subsample": 0.5713663818541633,
        "cat_rsm": 0.7161298602524445,
        "cat_border_count": 113,
        "cat_random_strength": 4.436655724973465,
        "cat_leaf_estimation_iterations": 18,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 96.42857142857143,
        "avg_nrmse": 1.0235128169340277,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 320,
      "value": 60.98069185268014,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "meta_stacking_alpha": 0.054622302274617854,
        "ml_adaptive_k_1d": 2.2936968199483436,
        "ml_pattern_weight_scale_1d": 1.6467145313025031,
        "enable_talib_patterns_short": true,
        "external_min_days": 36,
        "external_smooth_alpha": 0.07928432080738755,
        "smart_consensus_weight": 0.5700770773878918,
        "smart_performance_weight": 0.6134235330563405,
        "smart_sigma": 0.009124992033121176,
        "smart_weight_xgb": 0.9191611746828845,
        "smart_weight_lgbm": 0.9751808984817235,
        "smart_weight_cat": 0.7268973112808181,
        "fingpt_confidence_threshold": 0.490756001173171,
        "cat_iterations": 120,
        "cat_depth": 6,
        "cat_learning_rate": 0.012175978878094362,
        "cat_l2_leaf_reg": 2.410799830619986,
        "cat_subsample": 0.6100891669161657,
        "cat_rsm": 0.6988600760258272,
        "cat_border_count": 199,
        "cat_random_strength": 2.4896951750849396,
        "cat_leaf_estimation_iterations": 17,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 95.83333333333334,
        "avg_nrmse": 1.0171069134422004,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ARTMS_h1_c1",
  "symbols": [
    "ARTMS"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.7151984157888629,
    "ml_loss_threshold": 0.001320897860773302,
    "ml_dir_penalty": 3.37729375479244,
    "n_seeds": 3,
    "meta_stacking_alpha": 0.017230885251704634,
    "ml_adaptive_k_1d": 2.4400447684699014,
    "ml_pattern_weight_scale_1d": 1.766442830264941,
    "external_min_days": 40,
    "external_smooth_alpha": 0.12231225798777634,
    "fingpt_confidence_threshold": 0.454970197942922
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 137,
    "cat_depth": 8,
    "cat_learning_rate": 0.012723702686292429,
    "cat_l2_leaf_reg": 4.462691682762269,
    "cat_subsample": 0.5481665815943234,
    "cat_rsm": 0.7352910039070791,
    "cat_border_count": 205,
    "cat_random_strength": 4.364670585745634,
    "cat_leaf_estimation_iterations": 3,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ARTMS_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 309,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.24767793042604658,
              "rmse": 0.03629988506589466,
              "mape": 1.468674617473405,
              "confidence": 0.44606566940332215
            },
            "catboost": {
              "raw_r2": -0.03974297678954982,
              "rmse": 0.03312303187732937,
              "mape": 1.641205352886997,
              "confidence": 0.5928146718490139
            }
          },
          "dirhit": 66.66666666666666,
          "rmse": 0.017539312498772754,
          "mape": 457789.86473174475,
          "nrmse": 1.0646181256547287,
          "mask_count": 3,
          "mask_pct": 10.344827586206897
        },
        {
          "split_index": 2,
          "train_days": 339,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.23627169958198566,
              "rmse": 0.0336321707826058,
              "mape": 1.500762638174926,
              "confidence": 0.4526252147029357
            },
            "catboost": {
              "raw_r2": -0.029619135923879065,
              "rmse": 0.03078273686663866,
              "mape": 1.632275715793726,
              "confidence": 0.6009783402695239
            }
          },
          "dirhit": 100.0,
          "rmse": 0.032416238470468366,
          "mape": 103.0846475934188,
          "nrmse": 1.0081581162712636,
          "mask_count": 3,
          "mask_pct": 10.344827586206897
        },
        {
          "split_index": 3,
          "train_days": 369,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.19141415535123874,
              "rmse": 0.03347200102988132,
              "mape": 1.3907643105872167,
              "confidence": 0.4803522872503717
            },
            "catboost": {
              "raw_r2": -0.029994049668568296,
              "rmse": 0.031141286079519288,
              "mape": 1.6318975863694647,
              "confidence": 0.600675408082987
            }
          },
          "dirhit": 0.0,
          "rmse": 0.04110448321918289,
          "mape": 98.73890336856047,
          "nrmse": 1.010744969853079,
          "mask_count": 0,
          "mask_pct": 0.0
        },
        {
          "split_index": 4,
          "train_days": 399,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.35870237799903554,
              "rmse": 0.03718769531282088,
              "mape": 1.4582833114086158,
              "confidence": 0.3927177517451847
            },
            "catboost": {
              "raw_r2": -0.041869617847245,
              "rmse": 0.032201591542372836,
              "mape": 1.663433976658222,
              "confidence": 0.5911046384372356
            }
          },
          "dirhit": 100.0,
          "rmse": 0.04607027740068473,
          "mape": 97.50927216139979,
          "nrmse": 1.0003803438759464,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653
        }
      ],
      "avg_dirhit": 66.66666666666666,
      "avg_nrmse": 1.0209753889137545,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.25851654083957665,
          "rmse": 0.03514793804780066,
          "mape": 1.4546212194110408,
          "confidence": 0.4429402307754536
        },
        "catboost": {
          "raw_r2": -0.035306445057310544,
          "rmse": 0.031812161591465035,
          "mape": 1.6422031579271024,
          "confidence": 0.5963932646596901
        }
      }
    }
  }
}