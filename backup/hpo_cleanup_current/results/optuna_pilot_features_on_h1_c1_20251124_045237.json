{
  "best_value": 55.211702469385415,
  "best_dirhit": 49.70238095238095,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "all",
    "ml_adaptive_k_1d": 2.874520308414824,
    "ml_pattern_weight_scale_1d": 0.8010120564409183,
    "enable_talib_patterns_short": true,
    "external_min_days": 46,
    "external_smooth_alpha": 0.26904956459932267,
    "smart_consensus_weight": 0.5009101013472824,
    "smart_performance_weight": 0.6599390481955997,
    "smart_sigma": 0.001468229307475265,
    "smart_weight_xgb": 0.6462856556760421,
    "smart_weight_lgbm": 0.5381951973724398,
    "smart_weight_cat": 1.4643487605806016,
    "fingpt_confidence_threshold": 0.27268942087801123,
    "xgb_n_estimators": 286,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.087991523056899,
    "xgb_subsample": 0.7886240567285216,
    "xgb_colsample_bytree": 0.5990948846436684,
    "xgb_reg_alpha": 0.010624389410270923,
    "xgb_reg_lambda": 0.007857591166859947,
    "xgb_min_child_weight": 11,
    "xgb_gamma": 0.07790216526314898,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 434,
    "lgb_n_estimators": 207,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.01271404854297565,
    "lgb_num_leaves": 24,
    "lgb_subsample": 0.8451419589945072,
    "lgb_colsample_bytree": 0.7531347132260686,
    "lgb_reg_alpha": 0.00029851388984146964,
    "lgb_reg_lambda": 0.00017532463319791712,
    "lgb_min_data_in_leaf": 90,
    "lgb_feature_fraction_bynode": 0.8956227746915882,
    "lgb_bagging_freq": 7,
    "lgb_min_gain_to_split": 0.35287405956972284,
    "cat_iterations": 232,
    "cat_depth": 3,
    "cat_learning_rate": 0.09561056472747766,
    "cat_l2_leaf_reg": 9.280578258018817,
    "cat_subsample": 0.8839975782247979,
    "cat_rsm": 0.5357781522080407,
    "cat_border_count": 25,
    "cat_random_strength": 3.7510507618701485,
    "cat_leaf_estimation_iterations": 20,
    "cat_bootstrap_type": "Bayesian"
  },
  "best_trial": {
    "number": 1297,
    "value": 55.211702469385415,
    "state": "1"
  },
  "n_trials": 1378,
  "pruned_count": 0,
  "avg_trial_time": 189.65172371023965,
  "top_k_trials": [
    {
      "number": 1297,
      "value": 55.211702469385415,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.874520308414824,
        "ml_pattern_weight_scale_1d": 0.8010120564409183,
        "enable_talib_patterns_short": true,
        "external_min_days": 46,
        "external_smooth_alpha": 0.26904956459932267,
        "smart_consensus_weight": 0.5009101013472824,
        "smart_performance_weight": 0.6599390481955997,
        "smart_sigma": 0.001468229307475265,
        "smart_weight_xgb": 0.6462856556760421,
        "smart_weight_lgbm": 0.5381951973724398,
        "smart_weight_cat": 1.4643487605806016,
        "fingpt_confidence_threshold": 0.27268942087801123,
        "xgb_n_estimators": 286,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.087991523056899,
        "xgb_subsample": 0.7886240567285216,
        "xgb_colsample_bytree": 0.5990948846436684,
        "xgb_reg_alpha": 0.010624389410270923,
        "xgb_reg_lambda": 0.007857591166859947,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.07790216526314898,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 434,
        "lgb_n_estimators": 207,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.01271404854297565,
        "lgb_num_leaves": 24,
        "lgb_subsample": 0.8451419589945072,
        "lgb_colsample_bytree": 0.7531347132260686,
        "lgb_reg_alpha": 0.00029851388984146964,
        "lgb_reg_lambda": 0.00017532463319791712,
        "lgb_min_data_in_leaf": 90,
        "lgb_feature_fraction_bynode": 0.8956227746915882,
        "lgb_bagging_freq": 7,
        "lgb_min_gain_to_split": 0.35287405956972284,
        "cat_iterations": 232,
        "cat_depth": 3,
        "cat_learning_rate": 0.09561056472747766,
        "cat_l2_leaf_reg": 9.280578258018817,
        "cat_subsample": 0.8839975782247979,
        "cat_rsm": 0.5357781522080407,
        "cat_border_count": 25,
        "cat_random_strength": 3.7510507618701485,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 87.5,
        "avg_nrmse": 1.0063829217690958,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 1284,
      "value": 52.26840521418962,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.7621058280874364,
        "ml_pattern_weight_scale_1d": 0.7950038145615878,
        "enable_talib_patterns_short": true,
        "external_min_days": 45,
        "external_smooth_alpha": 0.28836433771342673,
        "smart_consensus_weight": 0.4648088764378753,
        "smart_performance_weight": 0.5942712327726745,
        "smart_sigma": 0.001824348941146483,
        "smart_weight_xgb": 0.6574997124368348,
        "smart_weight_lgbm": 0.5627366428310744,
        "smart_weight_cat": 1.4169108670032982,
        "fingpt_confidence_threshold": 0.25666677674673816,
        "xgb_n_estimators": 333,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.08524285147254096,
        "xgb_subsample": 0.7845888490716324,
        "xgb_colsample_bytree": 0.5903008997715672,
        "xgb_reg_alpha": 0.0061798815993914045,
        "xgb_reg_lambda": 0.009930822592279006,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.09136975542888216,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 443,
        "lgb_n_estimators": 213,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.01345849228802981,
        "lgb_num_leaves": 22,
        "lgb_subsample": 0.818923111214263,
        "lgb_colsample_bytree": 0.7333888611183772,
        "lgb_reg_alpha": 0.00014036840907257796,
        "lgb_reg_lambda": 0.0002270811519846552,
        "lgb_min_data_in_leaf": 89,
        "lgb_feature_fraction_bynode": 0.8679591661265875,
        "lgb_bagging_freq": 8,
        "lgb_min_gain_to_split": 0.36053499407587725,
        "cat_iterations": 262,
        "cat_depth": 3,
        "cat_learning_rate": 0.07508887579165,
        "cat_l2_leaf_reg": 9.408158550380998,
        "cat_subsample": 0.8839852615982506,
        "cat_rsm": 0.5262759397139867,
        "cat_border_count": 21,
        "cat_random_strength": 3.920927961624998,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 83.33333333333334,
        "avg_nrmse": 1.010821353190619,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 609,
      "value": 50.97320912846045,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.2035894184641696,
        "ml_pattern_weight_scale_1d": 0.8512666859240307,
        "enable_talib_patterns_short": true,
        "external_min_days": 42,
        "external_smooth_alpha": 0.28956053692512673,
        "fingpt_confidence_threshold": 0.3419075622493955,
        "xgb_n_estimators": 442,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.08614725485502756,
        "xgb_subsample": 0.8225142190633775,
        "xgb_colsample_bytree": 0.6127928420962343,
        "xgb_reg_alpha": 0.009002667155808554,
        "xgb_reg_lambda": 0.045582640526699705,
        "xgb_min_child_weight": 6,
        "xgb_gamma": 0.04189718075835491,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 479,
        "lgb_n_estimators": 414,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.01286276001429379,
        "lgb_num_leaves": 20,
        "lgb_subsample": 0.6307786902783402,
        "lgb_colsample_bytree": 0.6523791478344354,
        "lgb_reg_alpha": 0.0003980975601279634,
        "lgb_reg_lambda": 0.0005852568870957739,
        "lgb_min_data_in_leaf": 97,
        "lgb_feature_fraction_bynode": 0.7182795951756329,
        "lgb_bagging_freq": 4,
        "lgb_min_gain_to_split": 0.265597819931928,
        "cat_iterations": 222,
        "cat_depth": 7,
        "cat_learning_rate": 0.01108818394185745,
        "cat_l2_leaf_reg": 9.880046840967767,
        "cat_subsample": 0.6120285778219209,
        "cat_rsm": 0.573663300064924,
        "cat_border_count": 103,
        "cat_random_strength": 4.977308980441221,
        "cat_leaf_estimation_iterations": 19,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 81.53846153846155,
        "avg_nrmse": 1.017285658077106,
        "model_choice": "all"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AKSA_h1_c1",
  "symbols": [
    "AKSA"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_adaptive_k_1d": 2.874520308414824,
    "ml_pattern_weight_scale_1d": 0.8010120564409183,
    "external_min_days": 46,
    "external_smooth_alpha": 0.26904956459932267,
    "smart_consensus_weight": 0.5009101013472824,
    "smart_performance_weight": 0.6599390481955997,
    "smart_sigma": 0.001468229307475265,
    "smart_weight_xgb": 0.6462856556760421,
    "smart_weight_lgbm": 0.5381951973724398,
    "smart_weight_cat": 1.4643487605806016,
    "fingpt_confidence_threshold": 0.27268942087801123
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 286,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.087991523056899,
    "xgb_subsample": 0.7886240567285216,
    "xgb_colsample_bytree": 0.5990948846436684,
    "xgb_reg_alpha": 0.010624389410270923,
    "xgb_reg_lambda": 0.007857591166859947,
    "xgb_min_child_weight": 11,
    "xgb_gamma": 0.07790216526314898,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 434,
    "lgb_n_estimators": 207,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.01271404854297565,
    "lgb_num_leaves": 24,
    "lgb_subsample": 0.8451419589945072,
    "lgb_colsample_bytree": 0.7531347132260686,
    "lgb_reg_alpha": 0.00029851388984146964,
    "lgb_reg_lambda": 0.00017532463319791712,
    "lgb_min_data_in_leaf": 90,
    "lgb_feature_fraction_bynode": 0.8956227746915882,
    "lgb_bagging_freq": 7,
    "lgb_min_gain_to_split": 0.35287405956972284,
    "cat_iterations": 232,
    "cat_depth": 3,
    "cat_learning_rate": 0.09561056472747766,
    "cat_l2_leaf_reg": 9.280578258018817,
    "cat_subsample": 0.8839975782247979,
    "cat_rsm": 0.5357781522080407,
    "cat_border_count": 25,
    "cat_random_strength": 3.7510507618701485,
    "cat_leaf_estimation_iterations": 20,
    "cat_bootstrap_type": "Bayesian"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AKSA_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 449,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0118577539632266,
              "rmse": 0.025861302157509935,
              "mape": 1.811005304390431,
              "confidence": 0.6153683961238985
            },
            "lightgbm": {
              "raw_r2": -0.014024626603475587,
              "rmse": 0.025885170998459165,
              "mape": 1.6704720586131971,
              "confidence": 0.6136096579357564
            },
            "catboost": {
              "raw_r2": 0.022587205096833984,
              "rmse": 0.025446194996363795,
              "mape": 1.6240512565897287,
              "confidence": 0.6433326229253937
            }
          },
          "dirhit": 75.0,
          "rmse": 0.019613150118079868,
          "mape": 120.75638198439424,
          "nrmse": 1.0176057589039278,
          "mask_count": 8,
          "mask_pct": 27.586206896551722
        },
        {
          "split_index": 2,
          "train_days": 479,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.004017591906194884,
              "rmse": 0.02555448123134786,
              "mape": 1.7806992557474133,
              "confidence": 0.6217358163407585
            },
            "lightgbm": {
              "raw_r2": -0.007024307216197068,
              "rmse": 0.02558622225999103,
              "mape": 1.6723518725916442,
              "confidence": 0.6192933369827862
            },
            "catboost": {
              "raw_r2": 0.015271127245155483,
              "rmse": 0.025300197915138833,
              "mape": 1.6495955840327678,
              "confidence": 0.6374017660914162
            }
          },
          "dirhit": 50.0,
          "rmse": 0.01970973683362145,
          "mape": 186.86236614431343,
          "nrmse": 1.0089944288118304,
          "mask_count": 14,
          "mask_pct": 48.275862068965516
        },
        {
          "split_index": 3,
          "train_days": 509,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.007577832917709637,
              "rmse": 0.02527938446873706,
              "mape": 1.7859027086696944,
              "confidence": 0.6188437472240311
            },
            "lightgbm": {
              "raw_r2": -0.010760094963814026,
              "rmse": 0.025316061134198535,
              "mape": 1.686605884741892,
              "confidence": 0.6162595310076711
            },
            "catboost": {
              "raw_r2": 0.01954408290023187,
              "rmse": 0.02497739031326177,
              "mape": 1.6573842100707108,
              "confidence": 0.6408669428763034
            }
          },
          "dirhit": 16.666666666666664,
          "rmse": 0.02715779273829596,
          "mape": 134.9005913603326,
          "nrmse": 1.0854775402872874,
          "mask_count": 6,
          "mask_pct": 20.689655172413794
        },
        {
          "split_index": 4,
          "train_days": 539,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0017155863050916469,
              "rmse": 0.025261022550885262,
              "mape": 1.803470394366186,
              "confidence": 0.6236060946741709
            },
            "lightgbm": {
              "raw_r2": -0.004451090395634442,
              "rmse": 0.025298110191431255,
              "mape": 1.6974898353315633,
              "confidence": 0.6213836383191931
            },
            "catboost": {
              "raw_r2": 0.03161997725432305,
              "rmse": 0.02485415639534978,
              "mape": 1.6745667932114834,
              "confidence": 0.650637851019492
            }
          },
          "dirhit": 57.14285714285714,
          "rmse": 0.025089675840395946,
          "mape": 3804091.368029025,
          "nrmse": 1.055685706205387,
          "mask_count": 7,
          "mask_pct": 24.137931034482758
        }
      ],
      "avg_dirhit": 49.70238095238095,
      "avg_nrmse": 1.0419408585521082,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.006292191273055693,
          "rmse": 0.02548904760212003,
          "mape": 1.7952694157934312,
          "confidence": 0.6198885135907147
        },
        "lightgbm": {
          "raw_r2": -0.00906502979478028,
          "rmse": 0.025521391146019996,
          "mape": 1.6817299128195742,
          "confidence": 0.6176365410613517
        },
        "catboost": {
          "raw_r2": 0.0222555981241361,
          "rmse": 0.025144484905028543,
          "mape": 1.6513994609761726,
          "confidence": 0.6430597957281513
        }
      }
    }
  }
}