{
  "best_value": 56.63232768688601,
  "best_dirhit": 58.71794871794872,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "model_choice": "xgb",
    "ml_adaptive_k_1d": 2.8171514240563442,
    "ml_pattern_weight_scale_1d": 1.533365718156378,
    "enable_talib_patterns_short": false,
    "external_min_days": 60,
    "external_smooth_alpha": 0.2678483240421678,
    "regime_scale_low": 0.8238857871663812,
    "regime_scale_high": 1.1094065689108354,
    "yolo_min_conf": 0.571961506440186,
    "smart_consensus_weight": 0.438323435068591,
    "smart_performance_weight": 0.2536329694950249,
    "smart_sigma": 0.003100806240567713,
    "smart_weight_xgb": 0.5010294736588401,
    "smart_weight_lgbm": 1.3708146848655407,
    "smart_weight_cat": 0.9652325520932512,
    "xgb_n_estimators": 265,
    "xgb_max_depth": 4,
    "xgb_learning_rate": 0.09749823907058731,
    "xgb_subsample": 0.8520733028329482,
    "xgb_colsample_bytree": 0.6550104275527078,
    "xgb_reg_alpha": 6.331565169021818e-06,
    "xgb_reg_lambda": 5.062192181140723,
    "xgb_min_child_weight": 8,
    "xgb_gamma": 0.02700915749421771,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 259
  },
  "best_trial": {
    "number": 1208,
    "value": 56.63232768688601,
    "state": "1"
  },
  "n_trials": 1408,
  "pruned_count": 0,
  "avg_trial_time": 185.53483981947406,
  "top_k_trials": [
    {
      "number": 1208,
      "value": 56.63232768688601,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "xgb",
        "ml_adaptive_k_1d": 2.8171514240563442,
        "ml_pattern_weight_scale_1d": 1.533365718156378,
        "enable_talib_patterns_short": false,
        "external_min_days": 60,
        "external_smooth_alpha": 0.2678483240421678,
        "regime_scale_low": 0.8238857871663812,
        "regime_scale_high": 1.1094065689108354,
        "yolo_min_conf": 0.571961506440186,
        "smart_consensus_weight": 0.438323435068591,
        "smart_performance_weight": 0.2536329694950249,
        "smart_sigma": 0.003100806240567713,
        "smart_weight_xgb": 0.5010294736588401,
        "smart_weight_lgbm": 1.3708146848655407,
        "smart_weight_cat": 0.9652325520932512,
        "xgb_n_estimators": 265,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.09749823907058731,
        "xgb_subsample": 0.8520733028329482,
        "xgb_colsample_bytree": 0.6550104275527078,
        "xgb_reg_alpha": 6.331565169021818e-06,
        "xgb_reg_lambda": 5.062192181140723,
        "xgb_min_child_weight": 8,
        "xgb_gamma": 0.02700915749421771,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 259
      },
      "attrs": {
        "avg_dirhit": 89.58333333333333,
        "avg_nrmse": 1.01266760774122,
        "model_choice": "xgb"
      },
      "state": "1"
    },
    {
      "number": 956,
      "value": 51.954963661058954,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "xgb",
        "meta_stacking_alpha": 0.10180687302276674,
        "ml_adaptive_k_1d": 1.0518941092107554,
        "ml_pattern_weight_scale_1d": 0.687913005545799,
        "enable_talib_patterns_short": true,
        "external_min_days": 55,
        "external_smooth_alpha": 0.16113725440607504,
        "regime_scale_low": 0.8453183976990343,
        "regime_scale_high": 1.1456291071390132,
        "yolo_min_conf": 0.6346573232599124,
        "smart_consensus_weight": 0.43078863241269366,
        "smart_performance_weight": 0.23889062854978985,
        "smart_sigma": 0.0013842735332339328,
        "smart_weight_xgb": 0.5160132271644691,
        "smart_weight_lgbm": 1.4491761417390305,
        "smart_weight_cat": 1.06573977718601,
        "xgb_n_estimators": 316,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.07432991685645557,
        "xgb_subsample": 0.8036412758822677,
        "xgb_colsample_bytree": 0.8839307989217117,
        "xgb_reg_alpha": 1.976639672044994e-05,
        "xgb_reg_lambda": 0.1343897394419848,
        "xgb_min_child_weight": 10,
        "xgb_gamma": 0.006297382408371214,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 277
      },
      "attrs": {
        "avg_dirhit": 82.65151515151516,
        "avg_nrmse": 0.9835161575002749,
        "model_choice": "xgb"
      },
      "state": "1"
    },
    {
      "number": 1289,
      "value": 51.602546825249895,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "xgb",
        "ml_adaptive_k_1d": 2.9332358120948454,
        "ml_pattern_weight_scale_1d": 1.87154902173074,
        "enable_talib_patterns_short": false,
        "external_min_days": 55,
        "external_smooth_alpha": 0.2871411788363219,
        "regime_scale_low": 0.8235995329876784,
        "regime_scale_high": 1.1282318483350162,
        "yolo_min_conf": 0.4480614301816276,
        "smart_consensus_weight": 0.40443022594546374,
        "smart_performance_weight": 0.26431316535186195,
        "smart_sigma": 0.003758672964943348,
        "smart_weight_xgb": 1.3691556304060954,
        "smart_weight_lgbm": 1.3977529410071967,
        "smart_weight_cat": 1.0097126000350525,
        "xgb_n_estimators": 284,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.06978761163647493,
        "xgb_subsample": 0.8591054163443849,
        "xgb_colsample_bytree": 0.7704563774628639,
        "xgb_reg_alpha": 1.9399061946104156e-05,
        "xgb_reg_lambda": 8.593703797489955,
        "xgb_min_child_weight": 8,
        "xgb_gamma": 0.026858344371092226,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 269
      },
      "attrs": {
        "avg_dirhit": 82.44047619047619,
        "avg_nrmse": 1.0176310846805718,
        "model_choice": "xgb"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ARZUM_h1_c1",
  "symbols": [
    "ARZUM"
  ],
  "horizon": 1,
  "best_model_choice": "xgb",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_adaptive_k_1d": 2.8171514240563442,
    "ml_pattern_weight_scale_1d": 1.533365718156378,
    "external_min_days": 60,
    "external_smooth_alpha": 0.2678483240421678,
    "regime_scale_low": 0.8238857871663812,
    "regime_scale_high": 1.1094065689108354,
    "yolo_min_conf": 0.571961506440186,
    "smart_consensus_weight": 0.438323435068591,
    "smart_performance_weight": 0.2536329694950249,
    "smart_sigma": 0.003100806240567713,
    "smart_weight_xgb": 0.5010294736588401,
    "smart_weight_lgbm": 1.3708146848655407,
    "smart_weight_cat": 0.9652325520932512
  },
  "hyperparameters": {
    "model_choice": "xgb",
    "xgb_n_estimators": 265,
    "xgb_max_depth": 4,
    "xgb_learning_rate": 0.09749823907058731,
    "xgb_subsample": 0.8520733028329482,
    "xgb_colsample_bytree": 0.6550104275527078,
    "xgb_reg_alpha": 6.331565169021818e-06,
    "xgb_reg_lambda": 5.062192181140723,
    "xgb_min_child_weight": 8,
    "xgb_gamma": 0.02700915749421771,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 259
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "0"
  },
  "best_trial_metrics": {
    "ARZUM_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.023415667569341176,
              "rmse": 0.03769829865123048,
              "mape": 1.6374702818504283,
              "confidence": 0.6059964724556959
            }
          },
          "dirhit": 50.0,
          "rmse": 0.031052790779518342,
          "mape": 4461957.64592913,
          "nrmse": 1.108681686508942,
          "mask_count": 4,
          "mask_pct": 13.793103448275861
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.012099553828529785,
              "rmse": 0.03705575185477138,
              "mape": 1.663006411092402,
              "confidence": 0.6151721098216725
            }
          },
          "dirhit": 40.0,
          "rmse": 0.08676259210984563,
          "mape": 124.70681849500846,
          "nrmse": 1.017598050936355,
          "mask_count": 5,
          "mask_pct": 17.24137931034483
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.015117894447734223,
              "rmse": 0.041907154753510874,
              "mape": 1.6475004058146048,
              "confidence": 0.6127225560770968
            }
          },
          "dirhit": 61.53846153846154,
          "rmse": 0.04446472980299934,
          "mape": 2830041.5670723263,
          "nrmse": 1.0021934485219943,
          "mask_count": 13,
          "mask_pct": 44.827586206896555
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.00786126509292869,
              "rmse": 0.04141403584549958,
              "mape": 1.5931643715429213,
              "confidence": 0.631386455659811
            }
          },
          "dirhit": 83.33333333333334,
          "rmse": 0.02109329892786924,
          "mape": 4248622.083781156,
          "nrmse": 0.9986727881174382,
          "mask_count": 6,
          "mask_pct": 20.689655172413794
        }
      ],
      "avg_dirhit": 58.71794871794872,
      "avg_nrmse": 1.0317864935211825,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.010692962688169123,
          "rmse": 0.03951881027625308,
          "mape": 1.6352853675750891,
          "confidence": 0.6163193985035691
        }
      }
    }
  }
}