{
  "best_value": 56.56019915552904,
  "best_dirhit": 80.35714285714286,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.7490266498067609,
    "ml_loss_threshold": 0.0033694275509283853,
    "ml_dir_penalty": 1.0097474072183763,
    "meta_stacking_alpha": 0.36990557657966777,
    "ml_adaptive_k_1d": 1.5006122277579121,
    "ml_pattern_weight_scale_1d": 1.7005298593846576,
    "enable_talib_patterns_short": false,
    "external_min_days": 53,
    "external_smooth_alpha": 0.2139808292754724,
    "smart_consensus_weight": 0.7519663429106296,
    "smart_performance_weight": 0.4372913196766099,
    "smart_sigma": 0.002077511382238002,
    "smart_weight_xgb": 0.8010861974722816,
    "smart_weight_lgbm": 0.7993109424099616,
    "smart_weight_cat": 0.7593377715821218,
    "fingpt_confidence_threshold": 0.2934756027760173,
    "cat_iterations": 120,
    "cat_depth": 8,
    "cat_learning_rate": 0.010013238383565052,
    "cat_l2_leaf_reg": 7.294783426286537,
    "cat_subsample": 0.7569641855466422,
    "cat_rsm": 0.7520538993291898,
    "cat_border_count": 144,
    "cat_random_strength": 0.11025686438352186,
    "cat_leaf_estimation_iterations": 13,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 474,
    "value": 56.56019915552904,
    "state": "1"
  },
  "n_trials": 1302,
  "pruned_count": 0,
  "avg_trial_time": 200.64538313528055,
  "top_k_trials": [
    {
      "number": 474,
      "value": 56.56019915552904,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.7490266498067609,
        "ml_loss_threshold": 0.0033694275509283853,
        "ml_dir_penalty": 1.0097474072183763,
        "meta_stacking_alpha": 0.36990557657966777,
        "ml_adaptive_k_1d": 1.5006122277579121,
        "ml_pattern_weight_scale_1d": 1.7005298593846576,
        "enable_talib_patterns_short": false,
        "external_min_days": 53,
        "external_smooth_alpha": 0.2139808292754724,
        "smart_consensus_weight": 0.7519663429106296,
        "smart_performance_weight": 0.4372913196766099,
        "smart_sigma": 0.002077511382238002,
        "smart_weight_xgb": 0.8010861974722816,
        "smart_weight_lgbm": 0.7993109424099616,
        "smart_weight_cat": 0.7593377715821218,
        "fingpt_confidence_threshold": 0.2934756027760173,
        "cat_iterations": 120,
        "cat_depth": 8,
        "cat_learning_rate": 0.010013238383565052,
        "cat_l2_leaf_reg": 7.294783426286537,
        "cat_subsample": 0.7569641855466422,
        "cat_rsm": 0.7520538993291898,
        "cat_border_count": 144,
        "cat_random_strength": 0.11025686438352186,
        "cat_leaf_estimation_iterations": 13,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 89.28571428571428,
        "avg_nrmse": 0.9899668074118253,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 429,
      "value": 56.310176557697936,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.7179783526215088,
        "ml_loss_threshold": 0.003363919486610933,
        "ml_dir_penalty": 1.3528036360848905,
        "meta_stacking_alpha": 0.2525342384905432,
        "ml_adaptive_k_1d": 1.4459241809997214,
        "ml_pattern_weight_scale_1d": 1.6753844204710835,
        "enable_talib_patterns_short": false,
        "external_min_days": 57,
        "external_smooth_alpha": 0.22489824703951708,
        "smart_consensus_weight": 0.7499924849650872,
        "smart_performance_weight": 0.4335235604636712,
        "smart_sigma": 0.002019952072028269,
        "smart_weight_xgb": 0.8860247819634631,
        "smart_weight_lgbm": 0.9052941787076946,
        "smart_weight_cat": 0.6660832318603621,
        "fingpt_confidence_threshold": 0.31097413021066284,
        "cat_iterations": 128,
        "cat_depth": 8,
        "cat_learning_rate": 0.010038826445179384,
        "cat_l2_leaf_reg": 6.700958653951613,
        "cat_subsample": 0.7538095422780104,
        "cat_rsm": 0.7565607706011171,
        "cat_border_count": 155,
        "cat_random_strength": 0.10965382842757657,
        "cat_leaf_estimation_iterations": 14,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 88.88888888888889,
        "avg_nrmse": 0.98534094408738,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 536,
      "value": 56.291641829586766,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "meta_stacking_alpha": 0.39351201421070453,
        "ml_adaptive_k_1d": 1.196952522859433,
        "ml_pattern_weight_scale_1d": 1.8067221680688486,
        "enable_talib_patterns_short": false,
        "external_min_days": 54,
        "external_smooth_alpha": 0.2562709574666001,
        "smart_consensus_weight": 0.7195400522804014,
        "smart_performance_weight": 0.46921563400132027,
        "smart_sigma": 0.0015578236294952479,
        "smart_weight_xgb": 0.8528522455398262,
        "smart_weight_lgbm": 0.9310043474493117,
        "smart_weight_cat": 0.7394268581239565,
        "fingpt_confidence_threshold": 0.27191872265054695,
        "cat_iterations": 122,
        "cat_depth": 8,
        "cat_learning_rate": 0.010437653249405477,
        "cat_l2_leaf_reg": 7.511629740422071,
        "cat_subsample": 0.7414009889458913,
        "cat_rsm": 0.7402315628402059,
        "cat_border_count": 131,
        "cat_random_strength": 0.13753444706064494,
        "cat_leaf_estimation_iterations": 12,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 88.88888888888889,
        "avg_nrmse": 0.9884300654392417,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ATSYH_h1_c1",
  "symbols": [
    "ATSYH"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.7490266498067609,
    "ml_loss_threshold": 0.0033694275509283853,
    "ml_dir_penalty": 1.0097474072183763,
    "meta_stacking_alpha": 0.36990557657966777,
    "ml_adaptive_k_1d": 1.5006122277579121,
    "ml_pattern_weight_scale_1d": 1.7005298593846576,
    "external_min_days": 53,
    "external_smooth_alpha": 0.2139808292754724,
    "smart_consensus_weight": 0.7519663429106296,
    "smart_performance_weight": 0.4372913196766099,
    "smart_sigma": 0.002077511382238002,
    "smart_weight_xgb": 0.8010861974722816,
    "smart_weight_lgbm": 0.7993109424099616,
    "smart_weight_cat": 0.7593377715821218,
    "fingpt_confidence_threshold": 0.2934756027760173
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 120,
    "cat_depth": 8,
    "cat_learning_rate": 0.010013238383565052,
    "cat_l2_leaf_reg": 7.294783426286537,
    "cat_subsample": 0.7569641855466422,
    "cat_rsm": 0.7520538993291898,
    "cat_border_count": 144,
    "cat_random_strength": 0.11025686438352186,
    "cat_leaf_estimation_iterations": 13,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ATSYH_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.019092698369577537,
              "rmse": 0.04409033857687186,
              "mape": 1.6183158932726482,
              "confidence": 0.6405010470999539
            },
            "catboost": {
              "raw_r2": 0.0384370731798892,
              "rmse": 0.04372514474474884,
              "mape": 1.6486865074961279,
              "confidence": 0.6561343514016534
            }
          },
          "dirhit": 50.0,
          "rmse": 0.04143301910446258,
          "mape": 2090834.1290362657,
          "nrmse": 1.0033419317787793,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.025806653735864698,
              "rmse": 0.04409750278348007,
              "mape": 1.6072180595373977,
              "confidence": 0.6459388622726433
            },
            "catboost": {
              "raw_r2": 0.051774487330739194,
              "rmse": 0.043469023966810266,
              "mape": 1.676179759824657,
              "confidence": 0.6668334095294851
            }
          },
          "dirhit": 100.0,
          "rmse": 0.03228504127845194,
          "mape": 2101232.805169927,
          "nrmse": 0.9732746216031414,
          "mask_count": 3,
          "mask_pct": 10.344827586206897
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.014534274004917655,
              "rmse": 0.044038674786001965,
              "mape": 1.541762059211242,
              "confidence": 0.6131960967408414
            },
            "catboost": {
              "raw_r2": 0.03035003119209534,
              "rmse": 0.04295313050111713,
              "mape": 1.6334686162745966,
              "confidence": 0.6496121874480094
            }
          },
          "dirhit": 71.42857142857143,
          "rmse": 0.05632321569205243,
          "mape": 1633028.0821280475,
          "nrmse": 0.9819470516703945,
          "mask_count": 7,
          "mask_pct": 24.137931034482758
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.008999868219858173,
              "rmse": 0.04476438565969217,
              "mape": 1.5738620577386946,
              "confidence": 0.6176888407517238
            },
            "catboost": {
              "raw_r2": 0.024690317210665984,
              "rmse": 0.044040500103852194,
              "mape": 1.6454837414195314,
              "confidence": 0.6450354436900844
            }
          },
          "dirhit": 100.0,
          "rmse": 0.0493353764172123,
          "mape": 4764914.768237067,
          "nrmse": 1.0016995994872,
          "mask_count": 6,
          "mask_pct": 20.689655172413794
        }
      ],
      "avg_dirhit": 80.35714285714286,
      "avg_nrmse": 0.9900658011348789,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": 0.005341302470166601,
          "rmse": 0.04424772545151152,
          "mape": 1.5852895174399957,
          "confidence": 0.6293312117162906
        },
        "catboost": {
          "raw_r2": 0.03631297722834743,
          "rmse": 0.043546949829132105,
          "mape": 1.6509546562537283,
          "confidence": 0.6544038480173081
        }
      }
    }
  }
}