{
  "best_value": 59.565546028512045,
  "best_dirhit": 29.999999999999996,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "model_choice": "cat",
    "n_seeds": 5,
    "ml_adaptive_k_1d": 1.7841633025648327,
    "ml_pattern_weight_scale_1d": 0.8967974687765605,
    "enable_talib_patterns_short": false,
    "external_min_days": 58,
    "external_smooth_alpha": 0.39206765959899015,
    "fingpt_confidence_threshold": 0.3613978041977113,
    "cat_iterations": 277,
    "cat_depth": 8,
    "cat_learning_rate": 0.013100225003774701,
    "cat_l2_leaf_reg": 8.999324932989065,
    "cat_subsample": 0.9254067140343558,
    "cat_rsm": 0.6688228468270792,
    "cat_border_count": 160,
    "cat_random_strength": 0.646914454056397,
    "cat_leaf_estimation_iterations": 10,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 1135,
    "value": 59.565546028512045,
    "state": "1"
  },
  "n_trials": 1317,
  "pruned_count": 0,
  "avg_trial_time": 198.35702881155015,
  "top_k_trials": [
    {
      "number": 1135,
      "value": 59.565546028512045,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "cat",
        "n_seeds": 5,
        "ml_adaptive_k_1d": 1.7841633025648327,
        "ml_pattern_weight_scale_1d": 0.8967974687765605,
        "enable_talib_patterns_short": false,
        "external_min_days": 58,
        "external_smooth_alpha": 0.39206765959899015,
        "fingpt_confidence_threshold": 0.3613978041977113,
        "cat_iterations": 277,
        "cat_depth": 8,
        "cat_learning_rate": 0.013100225003774701,
        "cat_l2_leaf_reg": 8.999324932989065,
        "cat_subsample": 0.9254067140343558,
        "cat_rsm": 0.6688228468270792,
        "cat_border_count": 160,
        "cat_random_strength": 0.646914454056397,
        "cat_leaf_estimation_iterations": 10,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 93.75,
        "avg_nrmse": 1.0099089952479925,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 609,
      "value": 58.1622312800258,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "n_seeds": 5,
        "meta_stacking_alpha": 5.9155201890038285,
        "ml_adaptive_k_1d": 1.6712970924922614,
        "ml_pattern_weight_scale_1d": 1.076548644532848,
        "enable_talib_patterns_short": true,
        "external_min_days": 29,
        "external_smooth_alpha": 0.25819292173900754,
        "regime_scale_low": 0.9692506204563704,
        "regime_scale_high": 1.0872799202848935,
        "yolo_min_conf": 0.4024605153084965,
        "fingpt_confidence_threshold": 0.37782640964714487,
        "cat_iterations": 230,
        "cat_depth": 8,
        "cat_learning_rate": 0.010706715008682864,
        "cat_l2_leaf_reg": 7.178532444470352,
        "cat_subsample": 0.6682676736993889,
        "cat_rsm": 0.5855578616654701,
        "cat_border_count": 148,
        "cat_random_strength": 0.15084581173629213,
        "cat_leaf_estimation_iterations": 15,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 91.66666666666666,
        "avg_nrmse": 1.000739231106809,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 1146,
      "value": 58.15515288528437,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "cat",
        "n_seeds": 5,
        "ml_adaptive_k_1d": 1.866047193801022,
        "ml_pattern_weight_scale_1d": 0.91469547457988,
        "enable_talib_patterns_short": false,
        "external_min_days": 58,
        "external_smooth_alpha": 0.30417107447727987,
        "fingpt_confidence_threshold": 0.3560816345552894,
        "cat_iterations": 265,
        "cat_depth": 8,
        "cat_learning_rate": 0.013017321335887415,
        "cat_l2_leaf_reg": 9.093329524337951,
        "cat_subsample": 0.9285654239987191,
        "cat_rsm": 0.6432379190666809,
        "cat_border_count": 168,
        "cat_random_strength": 0.4814356334070904,
        "cat_leaf_estimation_iterations": 9,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 91.66666666666666,
        "avg_nrmse": 1.0019189635637142,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_BAGFS_h1_c1",
  "symbols": [
    "BAGFS"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "n_seeds": 5,
    "ml_adaptive_k_1d": 1.7841633025648327,
    "ml_pattern_weight_scale_1d": 0.8967974687765605,
    "external_min_days": 58,
    "external_smooth_alpha": 0.39206765959899015,
    "fingpt_confidence_threshold": 0.3613978041977113
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 277,
    "cat_depth": 8,
    "cat_learning_rate": 0.013100225003774701,
    "cat_l2_leaf_reg": 8.999324932989065,
    "cat_subsample": 0.9254067140343558,
    "cat_rsm": 0.6688228468270792,
    "cat_border_count": 160,
    "cat_random_strength": 0.646914454056397,
    "cat_leaf_estimation_iterations": 10,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "BAGFS_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.011690498934439667,
              "rmse": 0.030105754024116547,
              "mape": 1.6557840254208873,
              "confidence": 0.6344958268435257
            },
            "catboost": {
              "raw_r2": 0.013784220397933774,
              "rmse": 0.030106129348018887,
              "mape": 1.7305703894723992,
              "confidence": 0.6361952478614779
            }
          },
          "dirhit": 33.33333333333333,
          "rmse": 0.05000928450120494,
          "mape": 103.92748836435712,
          "nrmse": 1.0440529698772023,
          "mask_count": 6,
          "mask_pct": 20.689655172413794
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.004816550262462378,
              "rmse": 0.03224131658950629,
              "mape": 1.6548023011040098,
              "confidence": 0.6289132579561549
            },
            "catboost": {
              "raw_r2": 0.0010202172735158666,
              "rmse": 0.03236324434069565,
              "mape": 1.9006001616628783,
              "confidence": 0.6258289247372726
            }
          },
          "dirhit": 0.0,
          "rmse": 0.028128254499329174,
          "mape": 120.44919821381568,
          "nrmse": 0.9873648699236939,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.009717477539782915,
              "rmse": 0.03194937044725058,
              "mape": 1.7395453426504972,
              "confidence": 0.6328938976126379
            },
            "catboost": {
              "raw_r2": -0.008756506027950861,
              "rmse": 0.03218180280799743,
              "mape": 1.8832333225520412,
              "confidence": 0.6178864751481988
            }
          },
          "dirhit": 20.0,
          "rmse": 0.031398533242095766,
          "mape": 99.62078262281011,
          "nrmse": 1.0395344535264182,
          "mask_count": 5,
          "mask_pct": 17.24137931034483
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.009120934433471431,
              "rmse": 0.0322741646906557,
              "mape": 1.7791853403004254,
              "confidence": 0.6175905249052502
            },
            "catboost": {
              "raw_r2": -0.0026941867788869236,
              "rmse": 0.03221228145221157,
              "mape": 1.766003035252221,
              "confidence": 0.6228110063443921
            }
          },
          "dirhit": 66.66666666666666,
          "rmse": 0.03098220535367011,
          "mape": 1361579.8839903,
          "nrmse": 0.9795074092513013,
          "mask_count": 3,
          "mask_pct": 10.344827586206897
        }
      ],
      "avg_dirhit": 29.999999999999996,
      "avg_nrmse": 1.012614925644654,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": 0.004275898075803383,
          "rmse": 0.03164265143788228,
          "mape": 1.707329252368955,
          "confidence": 0.6284733768293922
        },
        "catboost": {
          "raw_r2": 0.000838436216152964,
          "rmse": 0.031715864487230884,
          "mape": 1.820101727234885,
          "confidence": 0.6256804135228353
        }
      }
    }
  }
}