{
  "best_value": 63.977337447697515,
  "best_dirhit": 56.25,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "cat",
    "n_seeds": 5,
    "ml_adaptive_k_1d": 1.5938531528794013,
    "ml_pattern_weight_scale_1d": 0.6051700391892043,
    "enable_talib_patterns_short": true,
    "external_min_days": 26,
    "external_smooth_alpha": 0.08946277504402993,
    "fingpt_confidence_threshold": 0.49262458583382057,
    "cat_iterations": 273,
    "cat_depth": 2,
    "cat_learning_rate": 0.012535506550643474,
    "cat_l2_leaf_reg": 1.791082277829057,
    "cat_subsample": 0.8876813520845028,
    "cat_rsm": 0.7842805108238411,
    "cat_border_count": 112,
    "cat_random_strength": 4.311949739461518,
    "cat_leaf_estimation_iterations": 16,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 1262,
    "value": 63.977337447697515,
    "state": "1"
  },
  "n_trials": 1390,
  "pruned_count": 0,
  "avg_trial_time": 187.98105999424047,
  "top_k_trials": [
    {
      "number": 1262,
      "value": 63.977337447697515,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "n_seeds": 5,
        "ml_adaptive_k_1d": 1.5938531528794013,
        "ml_pattern_weight_scale_1d": 0.6051700391892043,
        "enable_talib_patterns_short": true,
        "external_min_days": 26,
        "external_smooth_alpha": 0.08946277504402993,
        "fingpt_confidence_threshold": 0.49262458583382057,
        "cat_iterations": 273,
        "cat_depth": 2,
        "cat_learning_rate": 0.012535506550643474,
        "cat_l2_leaf_reg": 1.791082277829057,
        "cat_subsample": 0.8876813520845028,
        "cat_rsm": 0.7842805108238411,
        "cat_border_count": 112,
        "cat_random_strength": 4.311949739461518,
        "cat_leaf_estimation_iterations": 16,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 1.0037770920504143,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 536,
      "value": 60.3777112929273,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_adaptive_k_1d": 2.260160492972858,
        "ml_pattern_weight_scale_1d": 0.9371844700354441,
        "enable_talib_patterns_short": false,
        "external_min_days": 26,
        "external_smooth_alpha": 0.06370132631148369,
        "yolo_min_conf": 0.5452432029400075,
        "smart_consensus_weight": 0.7079125079260988,
        "smart_performance_weight": 0.3255274885767888,
        "smart_sigma": 0.009586499242479781,
        "smart_weight_xgb": 1.2428261629426138,
        "smart_weight_lgbm": 0.7297628298110432,
        "smart_weight_cat": 1.0947447887122583,
        "fingpt_confidence_threshold": 0.36861455764193873,
        "cat_iterations": 331,
        "cat_depth": 2,
        "cat_learning_rate": 0.012299972677672522,
        "cat_l2_leaf_reg": 2.6590573598300136,
        "cat_subsample": 0.9245338651333241,
        "cat_rsm": 0.7241304769055635,
        "cat_border_count": 147,
        "cat_random_strength": 4.129892959979038,
        "cat_leaf_estimation_iterations": 15,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 95.0,
        "avg_nrmse": 1.0203814511787834,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 1083,
      "value": 58.90518803682124,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.26446001672993136,
        "ml_loss_threshold": 0.0014561105070482916,
        "ml_dir_penalty": 4.635858635416843,
        "n_seeds": 5,
        "ml_adaptive_k_1d": 1.98716513717823,
        "ml_pattern_weight_scale_1d": 0.5583655824329151,
        "enable_talib_patterns_short": false,
        "external_min_days": 24,
        "external_smooth_alpha": 0.09184583445137902,
        "smart_consensus_weight": 0.4403535712148655,
        "smart_performance_weight": 0.4301341930031707,
        "smart_sigma": 0.011919170594366818,
        "smart_weight_xgb": 1.2637463722299054,
        "smart_weight_lgbm": 1.4774424628592016,
        "smart_weight_cat": 1.4222971665255308,
        "cat_iterations": 306,
        "cat_depth": 2,
        "cat_learning_rate": 0.014466930543378987,
        "cat_l2_leaf_reg": 2.1918560651330297,
        "cat_subsample": 0.6940085034662785,
        "cat_rsm": 0.80652598778985,
        "cat_border_count": 165,
        "cat_random_strength": 3.2915207881588784,
        "cat_leaf_estimation_iterations": 15,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 92.85714285714286,
        "avg_nrmse": 1.0158019938631275,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AHGAZ_h1_c1",
  "symbols": [
    "AHGAZ"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "n_seeds": 5,
    "ml_adaptive_k_1d": 1.5938531528794013,
    "ml_pattern_weight_scale_1d": 0.6051700391892043,
    "external_min_days": 26,
    "external_smooth_alpha": 0.08946277504402993,
    "fingpt_confidence_threshold": 0.49262458583382057
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 273,
    "cat_depth": 2,
    "cat_learning_rate": 0.012535506550643474,
    "cat_l2_leaf_reg": 1.791082277829057,
    "cat_subsample": 0.8876813520845028,
    "cat_rsm": 0.7842805108238411,
    "cat_border_count": 112,
    "cat_random_strength": 4.311949739461518,
    "cat_leaf_estimation_iterations": 16,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AHGAZ_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.01042014829107026,
              "rmse": 0.025475903418399663,
              "mape": 1.7045509393037774,
              "confidence": 0.6165355441483507
            },
            "catboost": {
              "raw_r2": -0.01345100642871159,
              "rmse": 0.02550944695042708,
              "mape": 1.7653018121648505,
              "confidence": 0.6140751749328146
            }
          },
          "dirhit": 100.0,
          "rmse": 0.016656519657085592,
          "mape": 146.01842527155839,
          "nrmse": 0.9691745389259846,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.005587098045509424,
              "rmse": 0.025105535439477647,
              "mape": 1.805478560074942,
              "confidence": 0.6204607780317474
            },
            "catboost": {
              "raw_r2": 0.008033693413960244,
              "rmse": 0.024921855046572936,
              "mape": 1.7103873601384758,
              "confidence": 0.6315264983772207
            }
          },
          "dirhit": 0.0,
          "rmse": 0.02491306363561227,
          "mape": 104.5683746690855,
          "nrmse": 1.0430042994069588,
          "mask_count": 0,
          "mask_pct": 0.0
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.008751336229556225,
              "rmse": 0.025315808585872016,
              "mape": 1.8284352113852522,
              "confidence": 0.6178906735982483
            },
            "catboost": {
              "raw_r2": -0.0021170114355954692,
              "rmse": 0.02524246643587543,
              "mape": 1.7672767146723658,
              "confidence": 0.6232799442686281
            }
          },
          "dirhit": 75.0,
          "rmse": 0.0276394579011296,
          "mape": 104.64349349135753,
          "nrmse": 1.0992447786030604,
          "mask_count": 4,
          "mask_pct": 13.793103448275861
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0014635433014547061,
              "rmse": 0.02559554670041268,
              "mape": 1.7466142538968212,
              "confidence": 0.6238108763739258
            },
            "catboost": {
              "raw_r2": 0.012095399617327604,
              "rmse": 0.025418920040914613,
              "mape": 1.6908299058073444,
              "confidence": 0.6348245179671634
            }
          },
          "dirhit": 50.0,
          "rmse": 0.023878329783988374,
          "mape": 225817.53571597737,
          "nrmse": 1.0214387732031902,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        }
      ],
      "avg_dirhit": 56.25,
      "avg_nrmse": 1.0332155975347985,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.006555531466897654,
          "rmse": 0.025373198536040503,
          "mape": 1.771269741165198,
          "confidence": 0.6196744680380681
        },
        "catboost": {
          "raw_r2": 0.001140268791745197,
          "rmse": 0.025273172118447516,
          "mape": 1.7334489481957591,
          "confidence": 0.6259265338864568
        }
      }
    }
  }
}