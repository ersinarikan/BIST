{
  "best_value": 64.11026927430484,
  "best_dirhit": 60.416666666666664,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "all",
    "ml_adaptive_k_1d": 2.184275629122278,
    "ml_pattern_weight_scale_1d": 1.3981940015526197,
    "enable_talib_patterns_short": true,
    "external_min_days": 29,
    "external_smooth_alpha": 0.4455021159979603,
    "fingpt_confidence_threshold": 0.2739908376117148,
    "xgb_n_estimators": 530,
    "xgb_max_depth": 4,
    "xgb_learning_rate": 0.12522506260228036,
    "xgb_subsample": 0.7113785961024708,
    "xgb_colsample_bytree": 0.7005881075666547,
    "xgb_reg_alpha": 2.1522662365129546e-05,
    "xgb_reg_lambda": 2.376458666935845,
    "xgb_min_child_weight": 15,
    "xgb_gamma": 0.4041561706238194,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 459,
    "lgb_n_estimators": 314,
    "lgb_max_depth": 2,
    "lgb_learning_rate": 0.013763577039956907,
    "lgb_num_leaves": 35,
    "lgb_subsample": 0.7703572946991132,
    "lgb_colsample_bytree": 0.5037896071472429,
    "lgb_reg_alpha": 0.0003051651808817853,
    "lgb_reg_lambda": 0.00025062974118805596,
    "lgb_min_data_in_leaf": 91,
    "lgb_feature_fraction_bynode": 0.7236211154760823,
    "lgb_bagging_freq": 9,
    "lgb_min_gain_to_split": 0.43951753394552695,
    "cat_iterations": 168,
    "cat_depth": 3,
    "cat_learning_rate": 0.15317814440584152,
    "cat_l2_leaf_reg": 8.720455597786076,
    "cat_subsample": 0.8875286921248182,
    "cat_rsm": 0.7113967104315208,
    "cat_border_count": 78,
    "cat_random_strength": 3.890303301543185,
    "cat_leaf_estimation_iterations": 9,
    "cat_bootstrap_type": "No"
  },
  "best_trial": {
    "number": 620,
    "value": 64.11026927430484,
    "state": "1"
  },
  "n_trials": 1393,
  "pruned_count": 0,
  "avg_trial_time": 187.54826568390803,
  "top_k_trials": [
    {
      "number": 620,
      "value": 64.11026927430484,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.184275629122278,
        "ml_pattern_weight_scale_1d": 1.3981940015526197,
        "enable_talib_patterns_short": true,
        "external_min_days": 29,
        "external_smooth_alpha": 0.4455021159979603,
        "fingpt_confidence_threshold": 0.2739908376117148,
        "xgb_n_estimators": 530,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.12522506260228036,
        "xgb_subsample": 0.7113785961024708,
        "xgb_colsample_bytree": 0.7005881075666547,
        "xgb_reg_alpha": 2.1522662365129546e-05,
        "xgb_reg_lambda": 2.376458666935845,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.4041561706238194,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 459,
        "lgb_n_estimators": 314,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.013763577039956907,
        "lgb_num_leaves": 35,
        "lgb_subsample": 0.7703572946991132,
        "lgb_colsample_bytree": 0.5037896071472429,
        "lgb_reg_alpha": 0.0003051651808817853,
        "lgb_reg_lambda": 0.00025062974118805596,
        "lgb_min_data_in_leaf": 91,
        "lgb_feature_fraction_bynode": 0.7236211154760823,
        "lgb_bagging_freq": 9,
        "lgb_min_gain_to_split": 0.43951753394552695,
        "cat_iterations": 168,
        "cat_depth": 3,
        "cat_learning_rate": 0.15317814440584152,
        "cat_l2_leaf_reg": 8.720455597786076,
        "cat_subsample": 0.8875286921248182,
        "cat_rsm": 0.7113967104315208,
        "cat_border_count": 78,
        "cat_random_strength": 3.890303301543185,
        "cat_leaf_estimation_iterations": 9,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9816217876158603,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 849,
      "value": 64.0663620400273,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.2383618365729543,
        "ml_pattern_weight_scale_1d": 0.5502786691494645,
        "enable_talib_patterns_short": false,
        "external_min_days": 31,
        "external_smooth_alpha": 0.24404337365386178,
        "xgb_n_estimators": 522,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.03818311587026636,
        "xgb_subsample": 0.7098507882474013,
        "xgb_colsample_bytree": 0.6612795828670252,
        "xgb_reg_alpha": 0.00015043942431109284,
        "xgb_reg_lambda": 2.3523539177560715,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.13296638189609578,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 424,
        "lgb_n_estimators": 359,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.01479078763091739,
        "lgb_num_leaves": 51,
        "lgb_subsample": 0.7872853204624028,
        "lgb_colsample_bytree": 0.8360304287605198,
        "lgb_reg_alpha": 0.0002614399082085772,
        "lgb_reg_lambda": 0.9533306472754652,
        "lgb_min_data_in_leaf": 69,
        "lgb_feature_fraction_bynode": 0.5078024466782276,
        "lgb_bagging_freq": 10,
        "lgb_min_gain_to_split": 0.0686622630850474,
        "cat_iterations": 358,
        "cat_depth": 8,
        "cat_learning_rate": 0.03369353789472803,
        "cat_l2_leaf_reg": 8.551017829117132,
        "cat_subsample": 0.9112937739970516,
        "cat_rsm": 0.7026605446637314,
        "cat_border_count": 64,
        "cat_random_strength": 4.0847324475256475,
        "cat_leaf_estimation_iterations": 2,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.988939659995451,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 173,
      "value": 64.03464660030463,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "n_seeds": 4,
        "ml_adaptive_k_1d": 1.1458090634734075,
        "ml_pattern_weight_scale_1d": 1.665628078485108,
        "enable_talib_patterns_short": true,
        "external_min_days": 32,
        "external_smooth_alpha": 0.4741904493362308,
        "fingpt_confidence_threshold": 0.2634255543363353,
        "xgb_n_estimators": 306,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.12208049255607198,
        "xgb_subsample": 0.6984102929662208,
        "xgb_colsample_bytree": 0.6028412378300128,
        "xgb_reg_alpha": 6.009917922070805e-06,
        "xgb_reg_lambda": 1.521138373991072,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.5617772398379592,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 479,
        "lgb_n_estimators": 347,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.011911883801912847,
        "lgb_num_leaves": 37,
        "lgb_subsample": 0.7058861139621844,
        "lgb_colsample_bytree": 0.6248754735005734,
        "lgb_reg_alpha": 0.001996069822487661,
        "lgb_reg_lambda": 0.000790497819727862,
        "lgb_min_data_in_leaf": 77,
        "lgb_feature_fraction_bynode": 0.7141879030680609,
        "lgb_bagging_freq": 10,
        "lgb_min_gain_to_split": 0.8129033482457221,
        "cat_iterations": 158,
        "cat_depth": 8,
        "cat_learning_rate": 0.1709419420846752,
        "cat_l2_leaf_reg": 9.328041407572625,
        "cat_subsample": 0.6632032208460966,
        "cat_rsm": 0.738545222950601,
        "cat_border_count": 76,
        "cat_random_strength": 3.805151406531019,
        "cat_leaf_estimation_iterations": 9,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.994225566615895,
        "model_choice": "all"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ARASE_h1_c1",
  "symbols": [
    "ARASE"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_adaptive_k_1d": 2.184275629122278,
    "ml_pattern_weight_scale_1d": 1.3981940015526197,
    "external_min_days": 29,
    "external_smooth_alpha": 0.4455021159979603,
    "fingpt_confidence_threshold": 0.2739908376117148
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 530,
    "xgb_max_depth": 4,
    "xgb_learning_rate": 0.12522506260228036,
    "xgb_subsample": 0.7113785961024708,
    "xgb_colsample_bytree": 0.7005881075666547,
    "xgb_reg_alpha": 2.1522662365129546e-05,
    "xgb_reg_lambda": 2.376458666935845,
    "xgb_min_child_weight": 15,
    "xgb_gamma": 0.4041561706238194,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 459,
    "lgb_n_estimators": 314,
    "lgb_max_depth": 2,
    "lgb_learning_rate": 0.013763577039956907,
    "lgb_num_leaves": 35,
    "lgb_subsample": 0.7703572946991132,
    "lgb_colsample_bytree": 0.5037896071472429,
    "lgb_reg_alpha": 0.0003051651808817853,
    "lgb_reg_lambda": 0.00025062974118805596,
    "lgb_min_data_in_leaf": 91,
    "lgb_feature_fraction_bynode": 0.7236211154760823,
    "lgb_bagging_freq": 9,
    "lgb_min_gain_to_split": 0.43951753394552695,
    "cat_iterations": 168,
    "cat_depth": 3,
    "cat_learning_rate": 0.15317814440584152,
    "cat_l2_leaf_reg": 8.720455597786076,
    "cat_subsample": 0.8875286921248182,
    "cat_rsm": 0.7113967104315208,
    "cat_border_count": 78,
    "cat_random_strength": 3.890303301543185,
    "cat_leaf_estimation_iterations": 9,
    "cat_bootstrap_type": "No"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ARASE_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 449,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.004150740045112178,
              "rmse": 0.02652808761557854,
              "mape": 1.7502201222492357,
              "confidence": 0.6216276447564447
            },
            "lightgbm": {
              "raw_r2": -0.0021258783265068657,
              "rmse": 0.02650170266509427,
              "mape": 1.8299175619809191,
              "confidence": 0.6232727401224052
            },
            "catboost": {
              "raw_r2": 0.017523373083267568,
              "rmse": 0.026223273550068156,
              "mape": 1.6358294029248865,
              "confidence": 0.6392286393603297
            }
          },
          "dirhit": 66.66666666666666,
          "rmse": 0.02151797748610632,
          "mape": 311263.90998157446,
          "nrmse": 0.981005941533662,
          "mask_count": 3,
          "mask_pct": 10.344827586206897
        },
        {
          "split_index": 2,
          "train_days": 479,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.004922260820440523,
              "rmse": 0.026435270493439016,
              "mape": 1.7380961802508028,
              "confidence": 0.6210008649431249
            },
            "lightgbm": {
              "raw_r2": -0.0036864025660220032,
              "rmse": 0.02641557279407846,
              "mape": 1.839930776434997,
              "confidence": 0.6220048827111639
            },
            "catboost": {
              "raw_r2": 0.020475704424375962,
              "rmse": 0.026105923426270983,
              "mape": 1.6883939623127866,
              "confidence": 0.6416219939526941
            }
          },
          "dirhit": 0.0,
          "rmse": 0.016022893606962074,
          "mape": 106.60854639448503,
          "nrmse": 0.9627289351960661,
          "mask_count": 0,
          "mask_pct": 0.0
        },
        {
          "split_index": 3,
          "train_days": 509,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.009808127274934186,
              "rmse": 0.025720622184683014,
              "mape": 1.697692038611874,
              "confidence": 0.6170324933356293
            },
            "lightgbm": {
              "raw_r2": -0.00983527507840328,
              "rmse": 0.02571598821482378,
              "mape": 1.8461843603906272,
              "confidence": 0.6170104490387469
            },
            "catboost": {
              "raw_r2": 0.025142412245593104,
              "rmse": 0.02534346268384048,
              "mape": 1.6307082688959942,
              "confidence": 0.6454013492587432
            }
          },
          "dirhit": 100.0,
          "rmse": 0.023618865468151545,
          "mape": 791863.2127699433,
          "nrmse": 0.9973193081678989,
          "mask_count": 3,
          "mask_pct": 10.344827586206897
        },
        {
          "split_index": 4,
          "train_days": 539,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.013589600592539627,
              "rmse": 0.024312238042641595,
              "mape": 1.7088132022759874,
              "confidence": 0.6139626957312821
            },
            "lightgbm": {
              "raw_r2": -0.014197555497274417,
              "rmse": 0.024309168472321452,
              "mape": 1.8493306423517168,
              "confidence": 0.6134693279274168
            },
            "catboost": {
              "raw_r2": 0.0017610068837046928,
              "rmse": 0.024134227537830802,
              "mape": 1.6855226473708897,
              "confidence": 0.6264308088489676
            }
          },
          "dirhit": 75.0,
          "rmse": 0.02783738340348749,
          "mape": 1139012.7529802795,
          "nrmse": 1.0168215455031098,
          "mask_count": 4,
          "mask_pct": 13.793103448275861
        }
      ],
      "avg_dirhit": 60.416666666666664,
      "avg_nrmse": 0.9894689326001842,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.008117682183256628,
          "rmse": 0.02574905458408554,
          "mape": 1.7237053858469749,
          "confidence": 0.6184059246916203
        },
        "lightgbm": {
          "raw_r2": -0.007461277867051641,
          "rmse": 0.02573560803657949,
          "mape": 1.841340835289565,
          "confidence": 0.6189393499499332
        },
        "catboost": {
          "raw_r2": 0.01622562415923533,
          "rmse": 0.025451721799502607,
          "mape": 1.6601135703761392,
          "confidence": 0.6381706978551837
        }
      }
    }
  }
}