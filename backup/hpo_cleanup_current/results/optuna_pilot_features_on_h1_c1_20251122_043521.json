{
  "best_value": 64.07906471461982,
  "best_dirhit": 100.0,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.3522021279925636,
    "ml_loss_threshold": 0.0041461309702758384,
    "ml_dir_penalty": 1.283312204180734,
    "n_seeds": 4,
    "ml_adaptive_k_1d": 1.9574614533699277,
    "ml_pattern_weight_scale_1d": 1.9277592912092223,
    "enable_talib_patterns_short": true,
    "external_min_days": 58,
    "external_smooth_alpha": 0.25655818462013613,
    "regime_scale_low": 0.9271666230975555,
    "regime_scale_high": 1.116738430124844,
    "smart_consensus_weight": 0.49567774742421333,
    "smart_performance_weight": 0.6740889144098926,
    "smart_sigma": 0.005922320479200456,
    "smart_weight_xgb": 0.5674397374601616,
    "smart_weight_lgbm": 0.9561152031827416,
    "smart_weight_cat": 0.6795871715141841,
    "cat_iterations": 324,
    "cat_depth": 8,
    "cat_learning_rate": 0.02038396915599975,
    "cat_l2_leaf_reg": 9.665392440067178,
    "cat_subsample": 0.9499018237988608,
    "cat_rsm": 0.5763658665467679,
    "cat_border_count": 216,
    "cat_random_strength": 1.2266805173526734,
    "cat_leaf_estimation_iterations": 5,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 880,
    "value": 64.07906471461982,
    "state": "1"
  },
  "n_trials": 1000,
  "pruned_count": 0,
  "avg_trial_time": 87.46418301001002,
  "top_k_trials": [
    {
      "number": 880,
      "value": 64.07906471461982,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.3522021279925636,
        "ml_loss_threshold": 0.0041461309702758384,
        "ml_dir_penalty": 1.283312204180734,
        "n_seeds": 4,
        "ml_adaptive_k_1d": 1.9574614533699277,
        "ml_pattern_weight_scale_1d": 1.9277592912092223,
        "enable_talib_patterns_short": true,
        "external_min_days": 58,
        "external_smooth_alpha": 0.25655818462013613,
        "regime_scale_low": 0.9271666230975555,
        "regime_scale_high": 1.116738430124844,
        "smart_consensus_weight": 0.49567774742421333,
        "smart_performance_weight": 0.6740889144098926,
        "smart_sigma": 0.005922320479200456,
        "smart_weight_xgb": 0.5674397374601616,
        "smart_weight_lgbm": 0.9561152031827416,
        "smart_weight_cat": 0.6795871715141841,
        "cat_iterations": 324,
        "cat_depth": 8,
        "cat_learning_rate": 0.02038396915599975,
        "cat_l2_leaf_reg": 9.665392440067178,
        "cat_subsample": 0.9499018237988608,
        "cat_rsm": 0.5763658665467679,
        "cat_border_count": 216,
        "cat_random_strength": 1.2266805173526734,
        "cat_leaf_estimation_iterations": 5,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9868225475633626,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 853,
      "value": 63.979196546020546,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.3560758971211004,
        "ml_loss_threshold": 0.004436901907778724,
        "ml_dir_penalty": 1.3088557746002858,
        "ml_adaptive_k_1d": 1.9658117019809742,
        "ml_pattern_weight_scale_1d": 1.927192318050973,
        "enable_talib_patterns_short": true,
        "external_min_days": 55,
        "external_smooth_alpha": 0.23598918696542706,
        "regime_scale_low": 0.9666517954109208,
        "regime_scale_high": 1.0667870751728525,
        "yolo_min_conf": 0.43811714543739977,
        "smart_consensus_weight": 0.3339644382298968,
        "smart_performance_weight": 0.6160474902846238,
        "smart_sigma": 0.015630903050929696,
        "smart_weight_xgb": 0.7925826160912448,
        "smart_weight_lgbm": 1.483632788468331,
        "smart_weight_cat": 0.6480426845133551,
        "cat_iterations": 300,
        "cat_depth": 8,
        "cat_learning_rate": 0.018923833170410808,
        "cat_l2_leaf_reg": 9.493188755347273,
        "cat_subsample": 0.9496635341631308,
        "cat_rsm": 0.527813077061071,
        "cat_border_count": 219,
        "cat_random_strength": 1.9559886452772859,
        "cat_leaf_estimation_iterations": 3,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 1.003467242329909,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 538,
      "value": 60.71266987315456,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.3944227548251489,
        "ml_loss_threshold": 0.004141574331782854,
        "ml_dir_penalty": 1.156746687221546,
        "n_seeds": 4,
        "ml_adaptive_k_1d": 1.6111360741851963,
        "ml_pattern_weight_scale_1d": 1.4842847837855615,
        "enable_talib_patterns_short": false,
        "external_min_days": 56,
        "external_smooth_alpha": 0.2717812364491093,
        "regime_scale_low": 0.9699897829718006,
        "regime_scale_high": 1.1999714404270267,
        "smart_consensus_weight": 0.5577257600144774,
        "smart_performance_weight": 0.6689955022333769,
        "smart_sigma": 0.004366632409181282,
        "smart_weight_xgb": 0.6907825424415716,
        "smart_weight_lgbm": 1.4806317556001758,
        "smart_weight_cat": 0.7950595547105609,
        "cat_iterations": 355,
        "cat_depth": 8,
        "cat_learning_rate": 0.03078309867179821,
        "cat_l2_leaf_reg": 9.074290056558663,
        "cat_subsample": 0.9054460182640477,
        "cat_rsm": 0.5722026217424332,
        "cat_border_count": 86,
        "cat_random_strength": 1.7939314175810803,
        "cat_leaf_estimation_iterations": 3,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 95.23809523809524,
        "avg_nrmse": 0.9923327989186851,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ARMGD_h1_c1",
  "symbols": [
    "ARMGD"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.3522021279925636,
    "ml_loss_threshold": 0.0041461309702758384,
    "ml_dir_penalty": 1.283312204180734,
    "n_seeds": 4,
    "ml_adaptive_k_1d": 1.9574614533699277,
    "ml_pattern_weight_scale_1d": 1.9277592912092223,
    "external_min_days": 58,
    "external_smooth_alpha": 0.25655818462013613,
    "regime_scale_low": 0.9271666230975555,
    "regime_scale_high": 1.116738430124844,
    "smart_consensus_weight": 0.49567774742421333,
    "smart_performance_weight": 0.6740889144098926,
    "smart_sigma": 0.005922320479200456,
    "smart_weight_xgb": 0.5674397374601616,
    "smart_weight_lgbm": 0.9561152031827416,
    "smart_weight_cat": 0.6795871715141841
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 324,
    "cat_depth": 8,
    "cat_learning_rate": 0.02038396915599975,
    "cat_l2_leaf_reg": 9.665392440067178,
    "cat_subsample": 0.9499018237988608,
    "cat_rsm": 0.5763658665467679,
    "cat_border_count": 216,
    "cat_random_strength": 1.2266805173526734,
    "cat_leaf_estimation_iterations": 5,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ARMGD_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 148,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -1.251358320600105,
              "rmse": 0.027278081249432647,
              "mape": 1.429591003843238,
              "confidence": 0.3012439169206596
            },
            "catboost": {
              "raw_r2": -0.04080674693299868,
              "rmse": 0.019950444649719276,
              "mape": 1.5661819732383282,
              "confidence": 0.5919590625377723
            }
          },
          "dirhit": 100.0,
          "rmse": 0.018875347305820505,
          "mape": 104.60068872875712,
          "nrmse": 0.9855032353340178,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653
        },
        {
          "split_index": 2,
          "train_days": 178,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -1.078353414221134,
              "rmse": 0.027199160503612093,
              "mape": 1.4202896752825493,
              "confidence": 0.30294662872090644
            },
            "catboost": {
              "raw_r2": 0.016859038170676355,
              "rmse": 0.019866710687931534,
              "mape": 1.5749470364631855,
              "confidence": 0.6386898631588673
            }
          },
          "dirhit": 100.0,
          "rmse": 0.015257661978220432,
          "mape": 105.06815161463985,
          "nrmse": 0.9633648393174116,
          "mask_count": 4,
          "mask_pct": 13.793103448275861
        },
        {
          "split_index": 3,
          "train_days": 208,
          "test_days": 15,
          "valid_predictions": 14,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -1.3564960074355266,
              "rmse": 0.02659672517818944,
              "mape": 1.4300953550241724,
              "confidence": 0.30073591512014586
            },
            "catboost": {
              "raw_r2": 0.06592876163883583,
              "rmse": 0.018067821519714845,
              "mape": 1.5727044459885993,
              "confidence": 0.6780872597875888
            }
          },
          "dirhit": 100.0,
          "rmse": 0.021436580492554088,
          "mape": 751332.6560963981,
          "nrmse": 1.0318938482312607,
          "mask_count": 1,
          "mask_pct": 7.142857142857142
        }
      ],
      "avg_dirhit": 100.0,
      "avg_nrmse": 0.9935873076275635,
      "split_count": 3,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -1.2287359140855887,
          "rmse": 0.02702465564374473,
          "mape": 1.4266586780499866,
          "confidence": 0.3016421535872373
        },
        "catboost": {
          "raw_r2": 0.013993684292171168,
          "rmse": 0.019294992285788553,
          "mape": 1.571277818563371,
          "confidence": 0.6362453951614095
        }
      }
    }
  }
}