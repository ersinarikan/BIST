{
  "best_value": 58.87514738482579,
  "best_dirhit": 92.85714285714286,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.3790238285543782,
    "ml_loss_threshold": 0.008042696305491334,
    "ml_dir_penalty": 1.0405872893546402,
    "meta_stacking_alpha": 5.697918552033263,
    "ml_adaptive_k_1d": 1.2911840340274865,
    "ml_pattern_weight_scale_1d": 0.6404414786748216,
    "enable_talib_patterns_short": false,
    "external_min_days": 41,
    "external_smooth_alpha": 0.16415398775627707,
    "regime_scale_low": 0.833359295817132,
    "regime_scale_high": 1.0652104249495167,
    "yolo_min_conf": 0.7347783925349419,
    "cat_iterations": 276,
    "cat_depth": 6,
    "cat_learning_rate": 0.018892036694336853,
    "cat_l2_leaf_reg": 9.133842304234523,
    "cat_subsample": 0.9149162676800555,
    "cat_rsm": 0.8054447797229934,
    "cat_border_count": 132,
    "cat_random_strength": 0.8167153368844884,
    "cat_leaf_estimation_iterations": 16,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 409,
    "value": 58.87514738482579,
    "state": "1"
  },
  "n_trials": 1388,
  "pruned_count": 0,
  "avg_trial_time": 188.23619188680604,
  "top_k_trials": [
    {
      "number": 409,
      "value": 58.87514738482579,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.3790238285543782,
        "ml_loss_threshold": 0.008042696305491334,
        "ml_dir_penalty": 1.0405872893546402,
        "meta_stacking_alpha": 5.697918552033263,
        "ml_adaptive_k_1d": 1.2911840340274865,
        "ml_pattern_weight_scale_1d": 0.6404414786748216,
        "enable_talib_patterns_short": false,
        "external_min_days": 41,
        "external_smooth_alpha": 0.16415398775627707,
        "regime_scale_low": 0.833359295817132,
        "regime_scale_high": 1.0652104249495167,
        "yolo_min_conf": 0.7347783925349419,
        "cat_iterations": 276,
        "cat_depth": 6,
        "cat_learning_rate": 0.018892036694336853,
        "cat_l2_leaf_reg": 9.133842304234523,
        "cat_subsample": 0.9149162676800555,
        "cat_rsm": 0.8054447797229934,
        "cat_border_count": 132,
        "cat_random_strength": 0.8167153368844884,
        "cat_leaf_estimation_iterations": 16,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 92.85714285714286,
        "avg_nrmse": 1.0208087691957017,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 298,
      "value": 58.152422313900814,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.2286246275603259,
        "ml_loss_threshold": 0.0045106088708490935,
        "ml_dir_penalty": 3.9976807020934073,
        "n_seeds": 3,
        "meta_stacking_alpha": 2.6391026067546655,
        "ml_adaptive_k_1d": 1.318060018464127,
        "ml_pattern_weight_scale_1d": 0.5939499525034376,
        "enable_talib_patterns_short": true,
        "external_min_days": 45,
        "external_smooth_alpha": 0.14113036883279234,
        "regime_scale_low": 0.9124385722172476,
        "regime_scale_high": 1.0320624223273707,
        "yolo_min_conf": 0.49764127986715223,
        "fingpt_confidence_threshold": 0.46580854437010344,
        "cat_iterations": 297,
        "cat_depth": 6,
        "cat_learning_rate": 0.021360014428209638,
        "cat_l2_leaf_reg": 9.798812922775657,
        "cat_subsample": 0.8926760030613481,
        "cat_rsm": 0.7935159296883353,
        "cat_border_count": 239,
        "cat_random_strength": 0.30356334001738483,
        "cat_leaf_estimation_iterations": 12,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 91.66666666666666,
        "avg_nrmse": 1.0023740587943073,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 911,
      "value": 56.97225889486684,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.7441293061192895,
        "ml_loss_threshold": 0.009572300379627157,
        "ml_dir_penalty": 2.1802751873255932,
        "n_seeds": 3,
        "meta_stacking_alpha": 0.9126802041967025,
        "ml_adaptive_k_1d": 2.0577021410763043,
        "ml_pattern_weight_scale_1d": 0.5750584461883167,
        "enable_talib_patterns_short": false,
        "external_min_days": 37,
        "external_smooth_alpha": 0.3244223428647037,
        "regime_scale_low": 0.826661376633126,
        "regime_scale_high": 1.1238247655266382,
        "cat_iterations": 200,
        "cat_depth": 6,
        "cat_learning_rate": 0.025790998340167924,
        "cat_l2_leaf_reg": 9.092340508857136,
        "cat_subsample": 0.888619865748735,
        "cat_rsm": 0.8228792595585604,
        "cat_border_count": 152,
        "cat_random_strength": 0.6716515401940892,
        "cat_leaf_estimation_iterations": 11,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 90.0,
        "avg_nrmse": 1.0046235175221925,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ATAGY_h1_c1",
  "symbols": [
    "ATAGY"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.3790238285543782,
    "ml_loss_threshold": 0.008042696305491334,
    "ml_dir_penalty": 1.0405872893546402,
    "meta_stacking_alpha": 5.697918552033263,
    "ml_adaptive_k_1d": 1.2911840340274865,
    "ml_pattern_weight_scale_1d": 0.6404414786748216,
    "external_min_days": 41,
    "external_smooth_alpha": 0.16415398775627707,
    "regime_scale_low": 0.833359295817132,
    "regime_scale_high": 1.0652104249495167,
    "yolo_min_conf": 0.7347783925349419
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 276,
    "cat_depth": 6,
    "cat_learning_rate": 0.018892036694336853,
    "cat_l2_leaf_reg": 9.133842304234523,
    "cat_subsample": 0.9149162676800555,
    "cat_rsm": 0.8054447797229934,
    "cat_border_count": 132,
    "cat_random_strength": 0.8167153368844884,
    "cat_leaf_estimation_iterations": 16,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ATAGY_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -76.30491221401665,
              "rmse": 0.2323841842307612,
              "mape": 1.8464800157823602,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": -0.001509217471863833,
              "rmse": 0.030182798972067677,
              "mape": 1.741767792844225,
              "confidence": 0.6237737666229335
            }
          },
          "dirhit": 100.0,
          "rmse": 0.02718402654824033,
          "mape": 316305.66373185045,
          "nrmse": 1.0529629246176067,
          "mask_count": 3,
          "mask_pct": 10.344827586206897
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -67.19733163151297,
              "rmse": 0.23174729221784746,
              "mape": 1.8433041984879053,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": 0.012486264412414627,
              "rmse": 0.029773538772751042,
              "mape": 1.7808605994698692,
              "confidence": 0.6351417959345982
            }
          },
          "dirhit": 71.42857142857143,
          "rmse": 0.0357745194451087,
          "mape": 95.21855313106215,
          "nrmse": 0.9886117841283107,
          "mask_count": 7,
          "mask_pct": 24.137931034482758
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -63.57401230870724,
              "rmse": 0.23165292596291692,
              "mape": 1.8388800374445113,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": 0.010011642179530692,
              "rmse": 0.03046102350303095,
              "mape": 1.7298785626405186,
              "confidence": 0.6331327610691437
            }
          },
          "dirhit": 100.0,
          "rmse": 0.015971521596983347,
          "mape": 2721632.588874358,
          "nrmse": 1.0317490492173251,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -65.7468026560735,
              "rmse": 0.23187089904188307,
              "mape": 1.8477984279635373,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": 0.016217361154737524,
              "rmse": 0.02940199270258879,
              "mape": 1.6755294097047295,
              "confidence": 0.6381693909231654
            }
          },
          "dirhit": 100.0,
          "rmse": 0.026374506926590966,
          "mape": 1093845.9673271535,
          "nrmse": 0.9666393415329573,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        }
      ],
      "avg_dirhit": 92.85714285714286,
      "avg_nrmse": 1.00999077487405,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -68.2057647025776,
          "rmse": 0.23191382536335217,
          "mape": 1.8441156699195786,
          "confidence": 0.3
        },
        "catboost": {
          "raw_r2": 0.009301512568704751,
          "rmse": 0.029954838487609617,
          "mape": 1.7320090911648356,
          "confidence": 0.6325544286374603
        }
      }
    }
  }
}