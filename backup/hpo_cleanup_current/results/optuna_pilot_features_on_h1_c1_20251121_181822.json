{
  "best_value": 64.0689601687418,
  "best_dirhit": 50.0,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.30086524881544224,
    "ml_loss_threshold": 0.009544940997837566,
    "ml_dir_penalty": 4.492905879181234,
    "n_seeds": 4,
    "ml_adaptive_k_1d": 1.9154261295798425,
    "ml_pattern_weight_scale_1d": 0.9467223904957341,
    "enable_talib_patterns_short": false,
    "external_min_days": 53,
    "external_smooth_alpha": 0.3679041761906632,
    "yolo_min_conf": 0.6129934392403644,
    "cat_iterations": 362,
    "cat_depth": 8,
    "cat_learning_rate": 0.013560031918136026,
    "cat_l2_leaf_reg": 9.20998698140422,
    "cat_subsample": 0.9408337503914266,
    "cat_rsm": 0.939994767910567,
    "cat_border_count": 216,
    "cat_random_strength": 4.267476359126811,
    "cat_leaf_estimation_iterations": 20,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 771,
    "value": 64.0689601687418,
    "state": "1"
  },
  "n_trials": 1000,
  "pruned_count": 0,
  "avg_trial_time": 50.3802143993994,
  "top_k_trials": [
    {
      "number": 771,
      "value": 64.0689601687418,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.30086524881544224,
        "ml_loss_threshold": 0.009544940997837566,
        "ml_dir_penalty": 4.492905879181234,
        "n_seeds": 4,
        "ml_adaptive_k_1d": 1.9154261295798425,
        "ml_pattern_weight_scale_1d": 0.9467223904957341,
        "enable_talib_patterns_short": false,
        "external_min_days": 53,
        "external_smooth_alpha": 0.3679041761906632,
        "yolo_min_conf": 0.6129934392403644,
        "cat_iterations": 362,
        "cat_depth": 8,
        "cat_learning_rate": 0.013560031918136026,
        "cat_l2_leaf_reg": 9.20998698140422,
        "cat_subsample": 0.9408337503914266,
        "cat_rsm": 0.939994767910567,
        "cat_border_count": 216,
        "cat_random_strength": 4.267476359126811,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9885066385430334,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 779,
      "value": 64.06434548169373,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.2898091317014839,
        "ml_loss_threshold": 0.008947439401778397,
        "ml_dir_penalty": 4.2036236946801395,
        "n_seeds": 4,
        "ml_adaptive_k_1d": 1.9852576483484654,
        "ml_pattern_weight_scale_1d": 0.7465508124981638,
        "enable_talib_patterns_short": false,
        "external_min_days": 51,
        "external_smooth_alpha": 0.3671739908898627,
        "yolo_min_conf": 0.6169007520917061,
        "cat_iterations": 365,
        "cat_depth": 8,
        "cat_learning_rate": 0.014300402867431786,
        "cat_l2_leaf_reg": 9.13230595875195,
        "cat_subsample": 0.934949850068263,
        "cat_rsm": 0.9481583092760614,
        "cat_border_count": 222,
        "cat_random_strength": 3.938811215137008,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9892757530510446,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 791,
      "value": 64.05194545025081,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.2853249379258902,
        "ml_loss_threshold": 0.009952786940090531,
        "ml_dir_penalty": 3.8219489657074757,
        "n_seeds": 4,
        "ml_adaptive_k_1d": 1.936396659934395,
        "ml_pattern_weight_scale_1d": 1.0341977991386098,
        "enable_talib_patterns_short": false,
        "external_min_days": 51,
        "external_smooth_alpha": 0.07605066531800478,
        "yolo_min_conf": 0.44563942695954895,
        "cat_iterations": 377,
        "cat_depth": 8,
        "cat_learning_rate": 0.012932693656646116,
        "cat_l2_leaf_reg": 8.978195750791713,
        "cat_subsample": 0.9232571900599137,
        "cat_rsm": 0.843205014159448,
        "cat_border_count": 219,
        "cat_random_strength": 4.150736059006832,
        "cat_leaf_estimation_iterations": 19,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9913424249581979,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_A1YEN_h1_c1",
  "symbols": [
    "A1YEN"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.30086524881544224,
    "ml_loss_threshold": 0.009544940997837566,
    "ml_dir_penalty": 4.492905879181234,
    "n_seeds": 4,
    "ml_adaptive_k_1d": 1.9154261295798425,
    "ml_pattern_weight_scale_1d": 0.9467223904957341,
    "external_min_days": 53,
    "external_smooth_alpha": 0.3679041761906632,
    "yolo_min_conf": 0.6129934392403644
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 362,
    "cat_depth": 8,
    "cat_learning_rate": 0.013560031918136026,
    "cat_l2_leaf_reg": 9.20998698140422,
    "cat_subsample": 0.9408337503914266,
    "cat_rsm": 0.939994767910567,
    "cat_border_count": 216,
    "cat_random_strength": 4.267476359126811,
    "cat_leaf_estimation_iterations": 20,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "A1YEN_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 98,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.7181490431787866,
              "rmse": 0.03413791935090623,
              "mape": 1.3721208161760166,
              "confidence": 0.3174444717373763
            },
            "catboost": {
              "raw_r2": -0.0486192920207964,
              "rmse": 0.026928507228641232,
              "mape": 1.7535671480672752,
              "confidence": 0.5856902220202684
            }
          },
          "dirhit": 0.0,
          "rmse": 0.02237365996850852,
          "mape": 112.68524820497392,
          "nrmse": 1.0364006159386943,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        },
        {
          "split_index": 2,
          "train_days": 128,
          "test_days": 19,
          "valid_predictions": 18,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -1.5166844068452725,
              "rmse": 0.03901642495465313,
              "mape": 1.3818667859274447,
              "confidence": 0.30033056288714566
            },
            "catboost": {
              "raw_r2": -0.01092402284471409,
              "rmse": 0.02526634855649858,
              "mape": 1.6847823532462747,
              "confidence": 0.61612643741265
            }
          },
          "dirhit": 100.0,
          "rmse": 0.02772274783936117,
          "mape": 1805071.841180787,
          "nrmse": 0.9733567871123822,
          "mask_count": 2,
          "mask_pct": 11.11111111111111
        }
      ],
      "avg_dirhit": 50.0,
      "avg_nrmse": 1.0048787015255383,
      "split_count": 2,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -1.1174167250120295,
          "rmse": 0.03657717215277968,
          "mape": 1.3769938010517306,
          "confidence": 0.30888751731226094
        },
        "catboost": {
          "raw_r2": -0.029771657432755245,
          "rmse": 0.026097427892569906,
          "mape": 1.719174750656775,
          "confidence": 0.6009083297164592
        }
      }
    }
  }
}