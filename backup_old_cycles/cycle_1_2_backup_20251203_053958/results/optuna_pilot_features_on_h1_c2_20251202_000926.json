{
  "best_value": 49.980858092775804,
  "best_dirhit": 80.0,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "model_choice": "lgbm",
    "ml_loss_mse_weight": 0.29499190682302956,
    "ml_loss_threshold": 0.00219057593737921,
    "ml_dir_penalty": 1.9311371033180678,
    "ml_adaptive_k_1d": 1.1817149656490624,
    "ml_pattern_weight_scale_1d": 0.8936957751311626,
    "enable_talib_patterns_short": false,
    "external_min_days": 31,
    "external_smooth_alpha": 0.28517560903067196,
    "fingpt_confidence_threshold": 0.45366326757982284,
    "lgb_n_estimators": 150,
    "lgb_max_depth": 2,
    "lgb_learning_rate": 0.01199179003828928,
    "lgb_num_leaves": 37,
    "lgb_subsample": 0.8761461392377169,
    "lgb_colsample_bytree": 0.7360973516291568,
    "lgb_reg_alpha": 2.4476347356737216e-05,
    "lgb_reg_lambda": 0.45824397483372764,
    "lgb_min_data_in_leaf": 84,
    "lgb_feature_fraction_bynode": 0.6520341710891578,
    "lgb_bagging_freq": 0,
    "lgb_min_gain_to_split": 0.9049172486671586
  },
  "best_trial": {
    "number": 984,
    "value": 49.980858092775804,
    "state": "1"
  },
  "best_trial_number": 984,
  "best_trial_seed": 1026,
  "n_trials": 1155,
  "pruned_count": 0,
  "avg_trial_time": 240.65777197391307,
  "top_k_trials": [
    {
      "number": 984,
      "value": 49.980858092775804,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "lgbm",
        "ml_loss_mse_weight": 0.29499190682302956,
        "ml_loss_threshold": 0.00219057593737921,
        "ml_dir_penalty": 1.9311371033180678,
        "ml_adaptive_k_1d": 1.1817149656490624,
        "ml_pattern_weight_scale_1d": 0.8936957751311626,
        "enable_talib_patterns_short": false,
        "external_min_days": 31,
        "external_smooth_alpha": 0.28517560903067196,
        "fingpt_confidence_threshold": 0.45366326757982284,
        "lgb_n_estimators": 150,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.01199179003828928,
        "lgb_num_leaves": 37,
        "lgb_subsample": 0.8761461392377169,
        "lgb_colsample_bytree": 0.7360973516291568,
        "lgb_reg_alpha": 2.4476347356737216e-05,
        "lgb_reg_lambda": 0.45824397483372764,
        "lgb_min_data_in_leaf": 84,
        "lgb_feature_fraction_bynode": 0.6520341710891578,
        "lgb_bagging_freq": 0,
        "lgb_min_gain_to_split": 0.9049172486671586
      },
      "attrs": {
        "avg_dirhit": 80.0,
        "avg_nrmse": 1.0031903178706998,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "EGGUB_1d": {
            "symbol": "EGGUB",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-13T00:00:00",
                "test_start": "2025-06-16T00:00:00",
                "test_end": "2025-07-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.9229846510083967,
                    "rmse": 0.04615298792454513,
                    "mape": 1.4565144741926708,
                    "confidence": 0.30637379387634084
                  },
                  "lightgbm": {
                    "raw_r2": -0.0037316730871962043,
                    "rmse": 0.03437912573435344,
                    "mape": 1.8311610722557923,
                    "confidence": 0.621968103575147
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.03252190708902564,
                "mape": 1647115.5070986403,
                "nrmse": 0.9471339151803075,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-28T00:00:00",
                "test_start": "2025-07-29T00:00:00",
                "test_end": "2025-09-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.761727487816826,
                    "rmse": 0.0458007425492053,
                    "mape": 1.4461415911743427,
                    "confidence": 0.31410316033240754
                  },
                  "lightgbm": {
                    "raw_r2": -0.0005440583368473048,
                    "rmse": 0.034614829560173414,
                    "mape": 1.774281006345373,
                    "confidence": 0.6245579528739068
                  }
                },
                "dirhit": null,
                "rmse": 0.033434506059850246,
                "mape": 1797096.4042667586,
                "nrmse": 1.0433931933724045,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-08T00:00:00",
                "test_start": "2025-09-09T00:00:00",
                "test_end": "2025-10-20T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.7769857671528513,
                    "rmse": 0.045736143793794065,
                    "mape": 1.44304051552645,
                    "confidence": 0.31308808826902196
                  },
                  "lightgbm": {
                    "raw_r2": -0.006364673407670995,
                    "rmse": 0.034544871290384076,
                    "mape": 1.7632640188334967,
                    "confidence": 0.6198291392379602
                  }
                },
                "dirhit": null,
                "rmse": 0.028973934614504603,
                "mape": 123.03690391354722,
                "nrmse": 1.0293336569988163,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-20T00:00:00",
                "test_start": "2025-10-21T00:00:00",
                "test_end": "2025-12-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.8577493065875484,
                    "rmse": 0.04623645868553099,
                    "mape": 1.456220024366666,
                    "confidence": 0.3087986386523477
                  },
                  "lightgbm": {
                    "raw_r2": -0.007545357168403877,
                    "rmse": 0.034490877704203886,
                    "mape": 1.7781149215764933,
                    "confidence": 0.6188701243430577
                  }
                },
                "dirhit": null,
                "rmse": 0.028738356772226584,
                "mape": 2152061.5772005375,
                "nrmse": 0.9929005059312704,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 80.0,
            "avg_nrmse": 1.0031903178706998,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.8298618031414056,
                "rmse": 0.04598158323826887,
                "mape": 1.4504791513150324,
                "confidence": 0.31059092028252955
              },
              "lightgbm": {
                "raw_r2": -0.0045464405000295955,
                "rmse": 0.034507426072278705,
                "mape": 1.7867052547527886,
                "confidence": 0.6213063300075179
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1081,
      "value": 49.92746837500914,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "lgbm",
        "ml_loss_mse_weight": 0.42519824457802996,
        "ml_loss_threshold": 0.0026454111237049116,
        "ml_dir_penalty": 3.831176406500378,
        "ml_adaptive_k_1d": 1.397989504728622,
        "ml_pattern_weight_scale_1d": 0.973417561262862,
        "enable_talib_patterns_short": false,
        "external_min_days": 30,
        "external_smooth_alpha": 0.32056333803658255,
        "fingpt_confidence_threshold": 0.4043473368970063,
        "lgb_n_estimators": 211,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.010005713166001858,
        "lgb_num_leaves": 37,
        "lgb_subsample": 0.884031958494715,
        "lgb_colsample_bytree": 0.7429019881863346,
        "lgb_reg_alpha": 3.345467312311762e-05,
        "lgb_reg_lambda": 0.05139375253706017,
        "lgb_min_data_in_leaf": 82,
        "lgb_feature_fraction_bynode": 0.6622985333672878,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.9492339816406734
      },
      "attrs": {
        "avg_dirhit": 80.0,
        "avg_nrmse": 1.0120886041651425,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "EGGUB_1d": {
            "symbol": "EGGUB",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-13T00:00:00",
                "test_start": "2025-06-16T00:00:00",
                "test_end": "2025-07-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.3615931046929788,
                    "rmse": 0.039396368455962553,
                    "mape": 1.4451053652028547,
                    "confidence": 0.39157472378478886
                  },
                  "lightgbm": {
                    "raw_r2": -0.0037316730871962043,
                    "rmse": 0.03437912573435344,
                    "mape": 1.8311610722557923,
                    "confidence": 0.621968103575147
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.032357409745237445,
                "mape": 2537662.7771292115,
                "nrmse": 0.9423432670540344,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-28T00:00:00",
                "test_start": "2025-07-29T00:00:00",
                "test_end": "2025-09-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.16451686825660286,
                    "rmse": 0.037263511386677495,
                    "mape": 1.476605701886711,
                    "confidence": 0.49838997848102157
                  },
                  "lightgbm": {
                    "raw_r2": -0.0005440583368473048,
                    "rmse": 0.034614829560173414,
                    "mape": 1.774281006345373,
                    "confidence": 0.6245579528739068
                  }
                },
                "dirhit": null,
                "rmse": 0.03366501049307333,
                "mape": 1688801.9259393052,
                "nrmse": 1.0505865628882156,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-08T00:00:00",
                "test_start": "2025-09-09T00:00:00",
                "test_end": "2025-10-20T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.17371900318145492,
                    "rmse": 0.03729944595536956,
                    "mape": 1.4032965058067923,
                    "confidence": 0.4921053771266112
                  },
                  "lightgbm": {
                    "raw_r2": -0.006364673407670995,
                    "rmse": 0.034544871290384076,
                    "mape": 1.7632640188334967,
                    "confidence": 0.6198291392379602
                  }
                },
                "dirhit": null,
                "rmse": 0.030081871120057474,
                "mape": 120.32718490333542,
                "nrmse": 1.0686944255708664,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-20T00:00:00",
                "test_start": "2025-10-21T00:00:00",
                "test_end": "2025-12-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.24740691083336208,
                    "rmse": 0.03823161729535868,
                    "mape": 1.5020211601612035,
                    "confidence": 0.44621918107689357
                  },
                  "lightgbm": {
                    "raw_r2": -0.007545357168403877,
                    "rmse": 0.034490877704203886,
                    "mape": 1.7781149215764933,
                    "confidence": 0.6188701243430577
                  }
                },
                "dirhit": null,
                "rmse": 0.02909970504935534,
                "mape": 2246191.239538159,
                "nrmse": 0.9867301611474529,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 80.0,
            "avg_nrmse": 1.0120886041651425,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.23680897174109966,
                "rmse": 0.03804773577334207,
                "mape": 1.4567571832643904,
                "confidence": 0.4570723151173288
              },
              "lightgbm": {
                "raw_r2": -0.0045464405000295955,
                "rmse": 0.034507426072278705,
                "mape": 1.7867052547527886,
                "confidence": 0.6213063300075179
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1062,
      "value": 49.85772176485417,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "lgbm",
        "ml_loss_mse_weight": 0.5174319686610535,
        "ml_loss_threshold": 0.0022693317665181787,
        "ml_dir_penalty": 4.044480049758802,
        "ml_adaptive_k_1d": 1.3401862789704169,
        "ml_pattern_weight_scale_1d": 0.9676974336249113,
        "enable_talib_patterns_short": false,
        "external_min_days": 32,
        "external_smooth_alpha": 0.32449318443798036,
        "fingpt_confidence_threshold": 0.4069446161682648,
        "lgb_n_estimators": 203,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.011108860299475404,
        "lgb_num_leaves": 38,
        "lgb_subsample": 0.8932635720561362,
        "lgb_colsample_bytree": 0.7535353289589324,
        "lgb_reg_alpha": 4.832474472964342e-05,
        "lgb_reg_lambda": 0.17452030885542943,
        "lgb_min_data_in_leaf": 90,
        "lgb_feature_fraction_bynode": 0.6592394187676953,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.9645388847995392
      },
      "attrs": {
        "avg_dirhit": 80.0,
        "avg_nrmse": 1.023713039190972,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "EGGUB_1d": {
            "symbol": "EGGUB",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-13T00:00:00",
                "test_start": "2025-06-16T00:00:00",
                "test_end": "2025-07-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0031368867099703657,
                    "rmse": 0.03436689967837403,
                    "mape": 1.8097570367296838,
                    "confidence": 0.6224513317959423
                  },
                  "lightgbm": {
                    "raw_r2": -0.0037316730871962043,
                    "rmse": 0.03437912573435344,
                    "mape": 1.8311610722557923,
                    "confidence": 0.621968103575147
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.03259814461381912,
                "mape": 1142091.5305706193,
                "nrmse": 0.9493541768993897,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-28T00:00:00",
                "test_start": "2025-07-29T00:00:00",
                "test_end": "2025-09-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00036546694156365983,
                    "rmse": 0.03461107142943778,
                    "mape": 1.7612757461732012,
                    "confidence": 0.6247030581926073
                  },
                  "lightgbm": {
                    "raw_r2": -0.0005440583368473048,
                    "rmse": 0.034614829560173414,
                    "mape": 1.774281006345373,
                    "confidence": 0.6245579528739068
                  }
                },
                "dirhit": null,
                "rmse": 0.03488964866150546,
                "mape": 3196803.192095389,
                "nrmse": 1.0888039400792773,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-08T00:00:00",
                "test_start": "2025-09-09T00:00:00",
                "test_end": "2025-10-20T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007271564310673402,
                    "rmse": 0.03455940653634822,
                    "mape": 1.7601168203454616,
                    "confidence": 0.6190925047387352
                  },
                  "lightgbm": {
                    "raw_r2": -0.006364673407670995,
                    "rmse": 0.034544871290384076,
                    "mape": 1.7632640188334967,
                    "confidence": 0.6198291392379602
                  }
                },
                "dirhit": null,
                "rmse": 0.030581713802723988,
                "mape": 141.86907282641147,
                "nrmse": 1.0864519342875338,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-20T00:00:00",
                "test_start": "2025-10-21T00:00:00",
                "test_end": "2025-12-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0073664938523132495,
                    "rmse": 0.0344855722110529,
                    "mape": 1.7506147172904643,
                    "confidence": 0.6190154003040503
                  },
                  "lightgbm": {
                    "raw_r2": -0.007545357168403877,
                    "rmse": 0.034490877704203886,
                    "mape": 1.7781149215764933,
                    "confidence": 0.6188701243430577
                  }
                },
                "dirhit": null,
                "rmse": 0.028674186604672528,
                "mape": 2015182.7849040618,
                "nrmse": 0.9702421054976865,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 80.0,
            "avg_nrmse": 1.023713039190972,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.004535102953630169,
                "rmse": 0.034505737463803234,
                "mape": 1.7704410801347026,
                "confidence": 0.6213155737578338
              },
              "lightgbm": {
                "raw_r2": -0.0045464405000295955,
                "rmse": 0.034507426072278705,
                "mape": 1.7867052547527886,
                "confidence": 0.6213063300075179
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_EGGUB_h1_c2",
  "symbols": [
    "EGGUB"
  ],
  "horizon": 1,
  "best_model_choice": "lgbm",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.29499190682302956,
    "ml_loss_threshold": 0.00219057593737921,
    "ml_dir_penalty": 1.9311371033180678,
    "ml_adaptive_k_1d": 1.1817149656490624,
    "ml_pattern_weight_scale_1d": 0.8936957751311626,
    "external_min_days": 31,
    "external_smooth_alpha": 0.28517560903067196,
    "fingpt_confidence_threshold": 0.45366326757982284
  },
  "hyperparameters": {
    "model_choice": "lgbm",
    "lgb_n_estimators": 150,
    "lgb_max_depth": 2,
    "lgb_learning_rate": 0.01199179003828928,
    "lgb_num_leaves": 37,
    "lgb_subsample": 0.8761461392377169,
    "lgb_colsample_bytree": 0.7360973516291568,
    "lgb_reg_alpha": 2.4476347356737216e-05,
    "lgb_reg_lambda": 0.45824397483372764,
    "lgb_min_data_in_leaf": 84,
    "lgb_feature_fraction_bynode": 0.6520341710891578,
    "lgb_bagging_freq": 0,
    "lgb_min_gain_to_split": 0.9049172486671586
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "0"
  },
  "best_trial_metrics": {
    "EGGUB_1d": {
      "symbol": "EGGUB",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 453,
          "test_days": 30,
          "train_end_idx": 453,
          "test_end_idx": 483,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-13T00:00:00",
          "test_start": "2025-06-16T00:00:00",
          "test_end": "2025-07-28T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.9229846510083967,
              "rmse": 0.04615298792454513,
              "mape": 1.4565144741926708,
              "confidence": 0.30637379387634084
            },
            "lightgbm": {
              "raw_r2": -0.0037316730871962043,
              "rmse": 0.03437912573435344,
              "mape": 1.8311610722557923,
              "confidence": 0.621968103575147
            }
          },
          "dirhit": 80.0,
          "rmse": 0.03252190708902564,
          "mape": 1647115.5070986403,
          "nrmse": 0.9471339151803075,
          "mask_count": 10,
          "mask_pct": 34.48275862068966,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 2,
          "train_days": 483,
          "test_days": 30,
          "train_end_idx": 483,
          "test_end_idx": 513,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-28T00:00:00",
          "test_start": "2025-07-29T00:00:00",
          "test_end": "2025-09-08T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.761727487816826,
              "rmse": 0.0458007425492053,
              "mape": 1.4461415911743427,
              "confidence": 0.31410316033240754
            },
            "lightgbm": {
              "raw_r2": -0.0005440583368473048,
              "rmse": 0.034614829560173414,
              "mape": 1.774281006345373,
              "confidence": 0.6245579528739068
            }
          },
          "dirhit": null,
          "rmse": 0.033434506059850246,
          "mape": 1797096.4042667586,
          "nrmse": 1.0433931933724045,
          "mask_count": 7,
          "mask_pct": 24.137931034482758,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 3,
          "train_days": 513,
          "test_days": 30,
          "train_end_idx": 513,
          "test_end_idx": 543,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-08T00:00:00",
          "test_start": "2025-09-09T00:00:00",
          "test_end": "2025-10-20T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.7769857671528513,
              "rmse": 0.045736143793794065,
              "mape": 1.44304051552645,
              "confidence": 0.31308808826902196
            },
            "lightgbm": {
              "raw_r2": -0.006364673407670995,
              "rmse": 0.034544871290384076,
              "mape": 1.7632640188334967,
              "confidence": 0.6198291392379602
            }
          },
          "dirhit": null,
          "rmse": 0.028973934614504603,
          "mape": 123.03690391354722,
          "nrmse": 1.0293336569988163,
          "mask_count": 4,
          "mask_pct": 13.793103448275861,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 4,
          "train_days": 543,
          "test_days": 30,
          "train_end_idx": 543,
          "test_end_idx": 573,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-20T00:00:00",
          "test_start": "2025-10-21T00:00:00",
          "test_end": "2025-12-01T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.8577493065875484,
              "rmse": 0.04623645868553099,
              "mape": 1.456220024366666,
              "confidence": 0.3087986386523477
            },
            "lightgbm": {
              "raw_r2": -0.007545357168403877,
              "rmse": 0.034490877704203886,
              "mape": 1.7781149215764933,
              "confidence": 0.6188701243430577
            }
          },
          "dirhit": null,
          "rmse": 0.028738356772226584,
          "mape": 2152061.5772005375,
          "nrmse": 0.9929005059312704,
          "mask_count": 3,
          "mask_pct": 10.344827586206897,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        }
      ],
      "avg_dirhit": 80.0,
      "avg_nrmse": 1.0031903178706998,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.8298618031414056,
          "rmse": 0.04598158323826887,
          "mape": 1.4504791513150324,
          "confidence": 0.31059092028252955
        },
        "lightgbm": {
          "raw_r2": -0.0045464405000295955,
          "rmse": 0.034507426072278705,
          "mape": 1.7867052547527886,
          "confidence": 0.6213063300075179
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 10,
    "min_mask_pct": 5.0,
    "best_trial_number": 984,
    "best_trial_seed": 1026,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "EGGUB_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 453,
            "test_end_idx": 483,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-13T00:00:00",
            "test_start": "2025-06-16T00:00:00",
            "test_end": "2025-07-28T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 483,
            "test_end_idx": 513,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-28T00:00:00",
            "test_start": "2025-07-29T00:00:00",
            "test_end": "2025-09-08T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 513,
            "test_end_idx": 543,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-08T00:00:00",
            "test_start": "2025-09-09T00:00:00",
            "test_end": "2025-10-20T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 543,
            "test_end_idx": 573,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-20T00:00:00",
            "test_start": "2025-10-21T00:00:00",
            "test_end": "2025-12-01T00:00:00"
          }
        ]
      }
    }
  }
}