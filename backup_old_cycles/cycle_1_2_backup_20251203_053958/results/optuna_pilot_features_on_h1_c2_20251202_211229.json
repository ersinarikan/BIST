{
  "best_value": 64.02566606530429,
  "best_dirhit": 100.0,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "cat",
    "n_seeds": 2,
    "meta_stacking_alpha": 0.3774025947354829,
    "ml_adaptive_k_1d": 2.0754735603127785,
    "ml_pattern_weight_scale_1d": 1.5384915004820285,
    "enable_talib_patterns_short": false,
    "external_min_days": 54,
    "external_smooth_alpha": 0.17062876775165597,
    "yolo_min_conf": 0.7415469954614251,
    "smart_consensus_weight": 0.6030825953556871,
    "smart_performance_weight": 0.6989452671730367,
    "smart_sigma": 0.0011022503417303816,
    "smart_weight_xgb": 1.4279440999144342,
    "smart_weight_lgbm": 1.4320377276317462,
    "smart_weight_cat": 1.017798837398157,
    "cat_iterations": 186,
    "cat_depth": 6,
    "cat_learning_rate": 0.017495867427037938,
    "cat_l2_leaf_reg": 9.696659100281433,
    "cat_subsample": 0.6051714543704765,
    "cat_rsm": 0.7710971876954514,
    "cat_border_count": 103,
    "cat_random_strength": 0.6356405346775276,
    "cat_leaf_estimation_iterations": 2,
    "cat_bootstrap_type": "No"
  },
  "best_trial": {
    "number": 1040,
    "value": 64.02566606530429,
    "state": "1"
  },
  "best_trial_number": 1040,
  "best_trial_seed": 1082,
  "n_trials": 1501,
  "pruned_count": 0,
  "avg_trial_time": 233.57343118989073,
  "top_k_trials": [
    {
      "number": 1040,
      "value": 64.02566606530429,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "n_seeds": 2,
        "meta_stacking_alpha": 0.3774025947354829,
        "ml_adaptive_k_1d": 2.0754735603127785,
        "ml_pattern_weight_scale_1d": 1.5384915004820285,
        "enable_talib_patterns_short": false,
        "external_min_days": 54,
        "external_smooth_alpha": 0.17062876775165597,
        "yolo_min_conf": 0.7415469954614251,
        "smart_consensus_weight": 0.6030825953556871,
        "smart_performance_weight": 0.6989452671730367,
        "smart_sigma": 0.0011022503417303816,
        "smart_weight_xgb": 1.4279440999144342,
        "smart_weight_lgbm": 1.4320377276317462,
        "smart_weight_cat": 1.017798837398157,
        "cat_iterations": 186,
        "cat_depth": 6,
        "cat_learning_rate": 0.017495867427037938,
        "cat_l2_leaf_reg": 9.696659100281433,
        "cat_subsample": 0.6051714543704765,
        "cat_rsm": 0.7710971876954514,
        "cat_border_count": 103,
        "cat_random_strength": 0.6356405346775276,
        "cat_leaf_estimation_iterations": 2,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9957223224492847,
        "model_choice": "cat",
        "symbol_metrics": {
          "AKENR_1d": {
            "symbol": "AKENR",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 451,
                "test_days": 30,
                "train_end_idx": 451,
                "test_end_idx": 481,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-11T00:00:00",
                "test_start": "2025-06-12T00:00:00",
                "test_end": "2025-07-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.008298068311857606,
                    "rmse": 0.045651105461901306,
                    "mape": 1.5903119057235109,
                    "confidence": 0.6317412134768419
                  },
                  "catboost": {
                    "raw_r2": -0.01700780675600792,
                    "rmse": 0.04633247637465645,
                    "mape": 1.6937669756679723,
                    "confidence": 0.6111894787311571
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.027401648725222053,
                "mape": 90.55656347259755,
                "nrmse": 1.001887891197364,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 2,
                "train_days": 481,
                "test_days": 30,
                "train_end_idx": 481,
                "test_end_idx": 511,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-24T00:00:00",
                "test_start": "2025-07-25T00:00:00",
                "test_end": "2025-09-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0027087847131313327,
                    "rmse": 0.04515694639152153,
                    "mape": 1.631633433982712,
                    "confidence": 0.6227991460638069
                  },
                  "catboost": {
                    "raw_r2": -0.009637953163647683,
                    "rmse": 0.045315961720478665,
                    "mape": 1.7169193584317606,
                    "confidence": 0.6171706781350919
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.021591397876048808,
                "mape": 139.55198040314056,
                "nrmse": 1.0102961611827939,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 3,
                "train_days": 511,
                "test_days": 30,
                "train_end_idx": 511,
                "test_end_idx": 541,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-04T00:00:00",
                "test_start": "2025-09-05T00:00:00",
                "test_end": "2025-10-16T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.016933401430477685,
                    "rmse": 0.044211017226392535,
                    "mape": 1.595267347241418,
                    "confidence": 0.6112498243701081
                  },
                  "catboost": {
                    "raw_r2": -0.008043252340266186,
                    "rmse": 0.04424488419599374,
                    "mape": 1.6903925464759917,
                    "confidence": 0.6184657381309151
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.024124670738347263,
                "mape": 130.7736230003002,
                "nrmse": 0.9866786030408202,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 4,
                "train_days": 541,
                "test_days": 30,
                "train_end_idx": 541,
                "test_end_idx": 571,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-16T00:00:00",
                "test_start": "2025-10-17T00:00:00",
                "test_end": "2025-11-27T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.008186654345297972,
                    "rmse": 0.043031434854181,
                    "mape": 1.738081640114561,
                    "confidence": 0.618349271944561
                  },
                  "catboost": {
                    "raw_r2": -0.00016734929059406914,
                    "rmse": 0.04296007494226546,
                    "mape": 1.7420788963824785,
                    "confidence": 0.6248640287093256
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.04230620334487402,
                "mape": 956953.4719532586,
                "nrmse": 0.9840266343761606,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              }
            ],
            "avg_dirhit": 100.0,
            "avg_nrmse": 0.9957223224492847,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.004882693044262346,
                "rmse": 0.04451262598349909,
                "mape": 1.6388235817655505,
                "confidence": 0.6210348639638295
              },
              "catboost": {
                "raw_r2": -0.008714090387628964,
                "rmse": 0.04471334930834858,
                "mape": 1.7107894442395508,
                "confidence": 0.6179224809266224
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 996,
      "value": 60.52260898433478,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.7628871220107982,
        "ml_loss_threshold": 0.006576581504797724,
        "ml_dir_penalty": 2.3646287630248826,
        "n_seeds": 2,
        "ml_adaptive_k_1d": 2.1671450879100838,
        "ml_pattern_weight_scale_1d": 1.6706483551476219,
        "enable_talib_patterns_short": false,
        "external_min_days": 48,
        "external_smooth_alpha": 0.30692036188504895,
        "regime_scale_low": 0.870258373021839,
        "regime_scale_high": 1.0765265022660906,
        "yolo_min_conf": 0.7899451763040257,
        "smart_consensus_weight": 0.5070308276412301,
        "smart_performance_weight": 0.6409441066332051,
        "smart_sigma": 0.001146347669259037,
        "smart_weight_xgb": 0.7527808611632052,
        "smart_weight_lgbm": 1.0382703903607187,
        "smart_weight_cat": 1.0618283424896153,
        "cat_iterations": 170,
        "cat_depth": 8,
        "cat_learning_rate": 0.020305008727759158,
        "cat_l2_leaf_reg": 9.170298672883755,
        "cat_subsample": 0.5490088296026641,
        "cat_rsm": 0.6625955424039551,
        "cat_border_count": 115,
        "cat_random_strength": 0.36579208028244536,
        "cat_leaf_estimation_iterations": 2,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 95.0,
        "avg_nrmse": 0.9962318359442038,
        "model_choice": "cat",
        "symbol_metrics": {
          "AKENR_1d": {
            "symbol": "AKENR",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 451,
                "test_days": 30,
                "train_end_idx": 451,
                "test_end_idx": 481,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-11T00:00:00",
                "test_start": "2025-06-12T00:00:00",
                "test_end": "2025-07-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.03514110680382854,
                    "rmse": 0.04648364937984949,
                    "mape": 1.6733335097759838,
                    "confidence": 0.5965210808479424
                  },
                  "catboost": {
                    "raw_r2": -0.016563234470889292,
                    "rmse": 0.04634300421674699,
                    "mape": 1.6987506917905622,
                    "confidence": 0.611550058336532
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.02742155416469492,
                "mape": 93.04777065884817,
                "nrmse": 1.0026156948042497,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 2,
                "train_days": 481,
                "test_days": 30,
                "train_end_idx": 481,
                "test_end_idx": 511,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-24T00:00:00",
                "test_start": "2025-07-25T00:00:00",
                "test_end": "2025-09-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.019926556712249372,
                    "rmse": 0.045432714996653356,
                    "mape": 1.6623002525202102,
                    "confidence": 0.608823052421926
                  },
                  "catboost": {
                    "raw_r2": -0.0049659058862785805,
                    "rmse": 0.045264516314274826,
                    "mape": 1.7512821897147615,
                    "confidence": 0.6209654087442545
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.02150378007946979,
                "mape": 128.6393179895881,
                "nrmse": 1.0061963838528012,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 3,
                "train_days": 511,
                "test_days": 30,
                "train_end_idx": 511,
                "test_end_idx": 541,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-04T00:00:00",
                "test_start": "2025-09-05T00:00:00",
                "test_end": "2025-10-16T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.027501057509374965,
                    "rmse": 0.04444647452250545,
                    "mape": 1.6425213188496546,
                    "confidence": 0.6026905314371643
                  },
                  "catboost": {
                    "raw_r2": -0.010815947903089448,
                    "rmse": 0.04429294988057257,
                    "mape": 1.7428770969770473,
                    "confidence": 0.6162141834876327
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.02431870128559061,
                "mape": 117.3403935251631,
                "nrmse": 0.994614288106855,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 4,
                "train_days": 541,
                "test_days": 30,
                "train_end_idx": 541,
                "test_end_idx": 571,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-16T00:00:00",
                "test_start": "2025-10-17T00:00:00",
                "test_end": "2025-11-27T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.02198295976476546,
                    "rmse": 0.043148085401044076,
                    "mape": 1.654448912634086,
                    "confidence": 0.6071568056020569
                  },
                  "catboost": {
                    "raw_r2": 0.005166732412686614,
                    "rmse": 0.04288414732302964,
                    "mape": 1.7474901585692642,
                    "confidence": 0.629197736631448
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.04219761789580544,
                "mape": 1544529.9722282006,
                "nrmse": 0.9815009770129094,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              }
            ],
            "avg_dirhit": 95.0,
            "avg_nrmse": 0.9962318359442038,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.026137920197554582,
                "rmse": 0.0448777310750131,
                "mape": 1.6581509984449836,
                "confidence": 0.6037978675772724
              },
              "catboost": {
                "raw_r2": -0.006794588961892677,
                "rmse": 0.044696154433656,
                "mape": 1.7351000342629088,
                "confidence": 0.6194818467999668
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1030,
      "value": 59.661567353432574,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "n_seeds": 2,
        "meta_stacking_alpha": 1.2753192309229238,
        "ml_adaptive_k_1d": 2.2019143686575084,
        "ml_pattern_weight_scale_1d": 1.6156140395712169,
        "enable_talib_patterns_short": false,
        "external_min_days": 52,
        "external_smooth_alpha": 0.25725019588277404,
        "yolo_min_conf": 0.7232721750953739,
        "smart_consensus_weight": 0.6180969221253001,
        "smart_performance_weight": 0.6711430632939265,
        "smart_sigma": 0.001281342284736356,
        "smart_weight_xgb": 1.4468334203053625,
        "smart_weight_lgbm": 1.4107942224801084,
        "smart_weight_cat": 1.0687708661939623,
        "cat_iterations": 192,
        "cat_depth": 8,
        "cat_learning_rate": 0.017655289718255612,
        "cat_l2_leaf_reg": 9.984676923625365,
        "cat_subsample": 0.5808921224933389,
        "cat_rsm": 0.7572269192985913,
        "cat_border_count": 246,
        "cat_random_strength": 0.5837046762433953,
        "cat_leaf_estimation_iterations": 1,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 93.75,
        "avg_nrmse": 0.9939054410945708,
        "model_choice": "cat",
        "symbol_metrics": {
          "AKENR_1d": {
            "symbol": "AKENR",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 451,
                "test_days": 30,
                "train_end_idx": 451,
                "test_end_idx": 481,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-11T00:00:00",
                "test_start": "2025-06-12T00:00:00",
                "test_end": "2025-07-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.016858143254470548,
                    "rmse": 0.046298396641484406,
                    "mape": 1.7406156103871253,
                    "confidence": 0.6113108626704772
                  },
                  "catboost": {
                    "raw_r2": -0.010347772053419598,
                    "rmse": 0.04624714261611107,
                    "mape": 1.755762875619585,
                    "confidence": 0.6165943102289573
                  }
                },
                "dirhit": 75.0,
                "rmse": 0.027614515903833643,
                "mape": 89.62525441375237,
                "nrmse": 1.0096709647935158,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 2,
                "train_days": 481,
                "test_days": 30,
                "train_end_idx": 481,
                "test_end_idx": 511,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-24T00:00:00",
                "test_start": "2025-07-25T00:00:00",
                "test_end": "2025-09-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.013891656240934505,
                    "rmse": 0.04535873985026497,
                    "mape": 1.695629801514231,
                    "confidence": 0.6137175649042155
                  },
                  "catboost": {
                    "raw_r2": -0.005114799620463499,
                    "rmse": 0.04526954835568911,
                    "mape": 1.7522424861349253,
                    "confidence": 0.6208444517934557
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.021316053712521554,
                "mape": 130.12252651180458,
                "nrmse": 0.9974123658392671,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 3,
                "train_days": 511,
                "test_days": 30,
                "train_end_idx": 511,
                "test_end_idx": 541,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-04T00:00:00",
                "test_start": "2025-09-05T00:00:00",
                "test_end": "2025-10-16T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0198208895982613,
                    "rmse": 0.04438869263641344,
                    "mape": 1.6824387486692043,
                    "confidence": 0.6089086953653158
                  },
                  "catboost": {
                    "raw_r2": -0.006182522858966329,
                    "rmse": 0.04424953669111,
                    "mape": 1.7737029056283087,
                    "confidence": 0.6199771001566753
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.023904447319707766,
                "mape": 109.65926543875672,
                "nrmse": 0.9776716517163115,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 4,
                "train_days": 541,
                "test_days": 30,
                "train_end_idx": 541,
                "test_end_idx": 571,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-16T00:00:00",
                "test_start": "2025-10-17T00:00:00",
                "test_end": "2025-11-27T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0075856660051975,
                    "rmse": 0.04303071137180501,
                    "mape": 1.7753203648663152,
                    "confidence": 0.6188373851264211
                  },
                  "catboost": {
                    "raw_r2": -0.0014631931792665382,
                    "rmse": 0.04297442679207957,
                    "mape": 1.7851770891878571,
                    "confidence": 0.6238111608443964
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.042600281439316476,
                "mape": 2026020.4096684193,
                "nrmse": 0.9908667820291885,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              }
            ],
            "avg_dirhit": 93.75,
            "avg_nrmse": 0.9939054410945708,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.014539088774715964,
                "rmse": 0.044769135124991956,
                "mape": 1.7235011313592188,
                "confidence": 0.6131936270166074
              },
              "catboost": {
                "raw_r2": -0.00577707192802899,
                "rmse": 0.04468516361374744,
                "mape": 1.766721339142669,
                "confidence": 0.6203067557558711
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AKENR_h1_c2",
  "symbols": [
    "AKENR"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "n_seeds": 2,
    "meta_stacking_alpha": 0.3774025947354829,
    "ml_adaptive_k_1d": 2.0754735603127785,
    "ml_pattern_weight_scale_1d": 1.5384915004820285,
    "external_min_days": 54,
    "external_smooth_alpha": 0.17062876775165597,
    "yolo_min_conf": 0.7415469954614251,
    "smart_consensus_weight": 0.6030825953556871,
    "smart_performance_weight": 0.6989452671730367,
    "smart_sigma": 0.0011022503417303816,
    "smart_weight_xgb": 1.4279440999144342,
    "smart_weight_lgbm": 1.4320377276317462,
    "smart_weight_cat": 1.017798837398157
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 186,
    "cat_depth": 6,
    "cat_learning_rate": 0.017495867427037938,
    "cat_l2_leaf_reg": 9.696659100281433,
    "cat_subsample": 0.6051714543704765,
    "cat_rsm": 0.7710971876954514,
    "cat_border_count": 103,
    "cat_random_strength": 0.6356405346775276,
    "cat_leaf_estimation_iterations": 2,
    "cat_bootstrap_type": "No"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AKENR_1d": {
      "symbol": "AKENR",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 451,
          "test_days": 30,
          "train_end_idx": 451,
          "test_end_idx": 481,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-11T00:00:00",
          "test_start": "2025-06-12T00:00:00",
          "test_end": "2025-07-24T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.008298068311857606,
              "rmse": 0.045651105461901306,
              "mape": 1.5903119057235109,
              "confidence": 0.6317412134768419
            },
            "catboost": {
              "raw_r2": -0.01700780675600792,
              "rmse": 0.04633247637465645,
              "mape": 1.6937669756679723,
              "confidence": 0.6111894787311571
            }
          },
          "dirhit": 100.0,
          "rmse": 0.027401648725222053,
          "mape": 90.55656347259755,
          "nrmse": 1.001887891197364,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        },
        {
          "split_index": 2,
          "train_days": 481,
          "test_days": 30,
          "train_end_idx": 481,
          "test_end_idx": 511,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-24T00:00:00",
          "test_start": "2025-07-25T00:00:00",
          "test_end": "2025-09-04T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0027087847131313327,
              "rmse": 0.04515694639152153,
              "mape": 1.631633433982712,
              "confidence": 0.6227991460638069
            },
            "catboost": {
              "raw_r2": -0.009637953163647683,
              "rmse": 0.045315961720478665,
              "mape": 1.7169193584317606,
              "confidence": 0.6171706781350919
            }
          },
          "dirhit": 100.0,
          "rmse": 0.021591397876048808,
          "mape": 139.55198040314056,
          "nrmse": 1.0102961611827939,
          "mask_count": 2,
          "mask_pct": 6.896551724137931,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        },
        {
          "split_index": 3,
          "train_days": 511,
          "test_days": 30,
          "train_end_idx": 511,
          "test_end_idx": 541,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-04T00:00:00",
          "test_start": "2025-09-05T00:00:00",
          "test_end": "2025-10-16T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.016933401430477685,
              "rmse": 0.044211017226392535,
              "mape": 1.595267347241418,
              "confidence": 0.6112498243701081
            },
            "catboost": {
              "raw_r2": -0.008043252340266186,
              "rmse": 0.04424488419599374,
              "mape": 1.6903925464759917,
              "confidence": 0.6184657381309151
            }
          },
          "dirhit": 100.0,
          "rmse": 0.024124670738347263,
          "mape": 130.7736230003002,
          "nrmse": 0.9866786030408202,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        },
        {
          "split_index": 4,
          "train_days": 541,
          "test_days": 30,
          "train_end_idx": 541,
          "test_end_idx": 571,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-16T00:00:00",
          "test_start": "2025-10-17T00:00:00",
          "test_end": "2025-11-27T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.008186654345297972,
              "rmse": 0.043031434854181,
              "mape": 1.738081640114561,
              "confidence": 0.618349271944561
            },
            "catboost": {
              "raw_r2": -0.00016734929059406914,
              "rmse": 0.04296007494226546,
              "mape": 1.7420788963824785,
              "confidence": 0.6248640287093256
            }
          },
          "dirhit": 100.0,
          "rmse": 0.04230620334487402,
          "mape": 956953.4719532586,
          "nrmse": 0.9840266343761606,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        }
      ],
      "avg_dirhit": 100.0,
      "avg_nrmse": 0.9957223224492847,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.004882693044262346,
          "rmse": 0.04451262598349909,
          "mape": 1.6388235817655505,
          "confidence": 0.6210348639638295
        },
        "catboost": {
          "raw_r2": -0.008714090387628964,
          "rmse": 0.04471334930834858,
          "mape": 1.7107894442395508,
          "confidence": 0.6179224809266224
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 0,
    "min_mask_pct": 0.0,
    "best_trial_number": 1040,
    "best_trial_seed": 1082,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "AKENR_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 451,
            "test_end_idx": 481,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-11T00:00:00",
            "test_start": "2025-06-12T00:00:00",
            "test_end": "2025-07-24T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 481,
            "test_end_idx": 511,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-24T00:00:00",
            "test_start": "2025-07-25T00:00:00",
            "test_end": "2025-09-04T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 511,
            "test_end_idx": 541,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-04T00:00:00",
            "test_start": "2025-09-05T00:00:00",
            "test_end": "2025-10-16T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 541,
            "test_end_idx": 571,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-16T00:00:00",
            "test_start": "2025-10-17T00:00:00",
            "test_end": "2025-11-27T00:00:00"
          }
        ]
      }
    }
  }
}