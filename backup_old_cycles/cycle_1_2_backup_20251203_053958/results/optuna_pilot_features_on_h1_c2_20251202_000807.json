{
  "best_value": 56.55949173354225,
  "best_dirhit": 90.0,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "model_choice": "lgbm",
    "ml_loss_mse_weight": 0.3843349602320531,
    "ml_loss_threshold": 0.0017433848036568823,
    "ml_dir_penalty": 3.474036940448417,
    "ml_adaptive_k_1d": 2.088167205048503,
    "ml_pattern_weight_scale_1d": 1.3671414790627796,
    "enable_talib_patterns_short": false,
    "external_min_days": 26,
    "external_smooth_alpha": 0.26658534844330073,
    "yolo_min_conf": 0.7124840508045773,
    "lgb_n_estimators": 187,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.012675625597348514,
    "lgb_num_leaves": 39,
    "lgb_subsample": 0.7347322915693946,
    "lgb_colsample_bytree": 0.7656382362017634,
    "lgb_reg_alpha": 0.0007917728824493998,
    "lgb_reg_lambda": 1.5375101243078526,
    "lgb_min_data_in_leaf": 98,
    "lgb_feature_fraction_bynode": 0.9755428440950439,
    "lgb_bagging_freq": 3,
    "lgb_min_gain_to_split": 0.17240410625850175
  },
  "best_trial": {
    "number": 1144,
    "value": 56.55949173354225,
    "state": "1"
  },
  "best_trial_number": 1144,
  "best_trial_seed": 1186,
  "n_trials": 1432,
  "pruned_count": 0,
  "avg_trial_time": 254.39000002947367,
  "top_k_trials": [
    {
      "number": 1144,
      "value": 56.55949173354225,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "lgbm",
        "ml_loss_mse_weight": 0.3843349602320531,
        "ml_loss_threshold": 0.0017433848036568823,
        "ml_dir_penalty": 3.474036940448417,
        "ml_adaptive_k_1d": 2.088167205048503,
        "ml_pattern_weight_scale_1d": 1.3671414790627796,
        "enable_talib_patterns_short": false,
        "external_min_days": 26,
        "external_smooth_alpha": 0.26658534844330073,
        "yolo_min_conf": 0.7124840508045773,
        "lgb_n_estimators": 187,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.012675625597348514,
        "lgb_num_leaves": 39,
        "lgb_subsample": 0.7347322915693946,
        "lgb_colsample_bytree": 0.7656382362017634,
        "lgb_reg_alpha": 0.0007917728824493998,
        "lgb_reg_lambda": 1.5375101243078526,
        "lgb_min_data_in_leaf": 98,
        "lgb_feature_fraction_bynode": 0.9755428440950439,
        "lgb_bagging_freq": 3,
        "lgb_min_gain_to_split": 0.17240410625850175
      },
      "attrs": {
        "avg_dirhit": 90.0,
        "avg_nrmse": 1.0734180444096237,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "CCOLA_1d": {
            "symbol": "CCOLA",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -2.5299873815748186,
                    "rmse": 0.07159793365693012,
                    "mape": 1.5087632185566149,
                    "confidence": 0.3000020850389294
                  },
                  "lightgbm": {
                    "raw_r2": -0.00924621871956847,
                    "rmse": 0.05517508367736607,
                    "mape": 1.6309681088433479,
                    "confidence": 0.6174887850614441
                  }
                },
                "dirhit": null,
                "rmse": 0.022845110877176708,
                "mape": 2749099.5201607444,
                "nrmse": 1.0293335492822222,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -1.6355360062115103,
                    "rmse": 0.07038949197550533,
                    "mape": 1.5078218050630812,
                    "confidence": 0.3001825030339908
                  },
                  "lightgbm": {
                    "raw_r2": -0.018416711135876545,
                    "rmse": 0.05371533875312174,
                    "mape": 1.6173204237219037,
                    "confidence": 0.6100469867341763
                  }
                },
                "dirhit": 90.0,
                "rmse": 0.01445111962813462,
                "mape": 7526750.46470978,
                "nrmse": 1.0096626256919279,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -1.3801498850917469,
                    "rmse": 0.06762992941037095,
                    "mape": 1.5042762952926694,
                    "confidence": 0.3006539112851748
                  },
                  "lightgbm": {
                    "raw_r2": -0.006041461791863896,
                    "rmse": 0.052150720065898264,
                    "mape": 1.725268334985403,
                    "confidence": 0.6200916855172873
                  }
                },
                "dirhit": null,
                "rmse": 0.01730805844581619,
                "mape": 177.74007061843605,
                "nrmse": 1.0013647120952034,
                "mask_count": 9,
                "mask_pct": 31.03448275862069,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -1.5087054444572257,
                    "rmse": 0.06615043153010705,
                    "mape": 1.510655798816119,
                    "confidence": 0.3003440101054222
                  },
                  "lightgbm": {
                    "raw_r2": -0.005714256365142741,
                    "rmse": 0.05095349487680578,
                    "mape": 1.7366886897987144,
                    "confidence": 0.6203574825132969
                  }
                },
                "dirhit": null,
                "rmse": 0.019657102951204115,
                "mape": 5584631.702674548,
                "nrmse": 1.2533112905691415,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 90.0,
            "avg_nrmse": 1.0734180444096237,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -1.7635946793338253,
                "rmse": 0.06894194664322836,
                "mape": 1.507879279432121,
                "confidence": 0.30029562736587934
              },
              "lightgbm": {
                "raw_r2": -0.009854662003112915,
                "rmse": 0.05299865934329796,
                "mape": 1.6775613893373422,
                "confidence": 0.6169962349565512
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1413,
      "value": 51.0722061960215,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "lgbm",
        "meta_stacking_alpha": 0.18883506876144204,
        "ml_adaptive_k_1d": 2.7592451268232945,
        "ml_pattern_weight_scale_1d": 0.984107894684952,
        "enable_talib_patterns_short": true,
        "external_min_days": 20,
        "external_smooth_alpha": 0.2850250236781379,
        "regime_scale_low": 0.9508461884183312,
        "regime_scale_high": 1.1886761140015187,
        "yolo_min_conf": 0.6426072972820845,
        "fingpt_confidence_threshold": 0.49740120448680736,
        "lgb_n_estimators": 130,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.010059519750952315,
        "lgb_num_leaves": 32,
        "lgb_subsample": 0.7647620682063502,
        "lgb_colsample_bytree": 0.8102223092547539,
        "lgb_reg_alpha": 0.005960668728915791,
        "lgb_reg_lambda": 0.0753361564627864,
        "lgb_min_data_in_leaf": 21,
        "lgb_feature_fraction_bynode": 0.9143707129391412,
        "lgb_bagging_freq": 3,
        "lgb_min_gain_to_split": 0.18169227876254973
      },
      "attrs": {
        "avg_dirhit": 81.81818181818183,
        "avg_nrmse": 1.0334201794509628,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "CCOLA_1d": {
            "symbol": "CCOLA",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 454,
                "test_days": 30,
                "train_end_idx": 454,
                "test_end_idx": 484,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-13T00:00:00",
                "test_start": "2025-06-16T00:00:00",
                "test_end": "2025-07-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00857146351415398,
                    "rmse": 0.05470081442746317,
                    "mape": 1.544730890015024,
                    "confidence": 0.6180367516741292
                  },
                  "lightgbm": {
                    "raw_r2": -0.00924621871956847,
                    "rmse": 0.05517508367736607,
                    "mape": 1.6309681088433479,
                    "confidence": 0.6174887850614441
                  }
                },
                "dirhit": null,
                "rmse": 0.02281637460885646,
                "mape": 2866015.5760077406,
                "nrmse": 0.9969557544994563,
                "mask_count": 9,
                "mask_pct": 31.03448275862069,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 484,
                "test_days": 30,
                "train_end_idx": 484,
                "test_end_idx": 514,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-28T00:00:00",
                "test_start": "2025-07-29T00:00:00",
                "test_end": "2025-09-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.005964508230775027,
                    "rmse": 0.053442554130827755,
                    "mape": 1.5666137289665572,
                    "confidence": 0.6298458037944805
                  },
                  "lightgbm": {
                    "raw_r2": -0.018416711135876545,
                    "rmse": 0.05371533875312174,
                    "mape": 1.6173204237219037,
                    "confidence": 0.6100469867341763
                  }
                },
                "dirhit": 81.81818181818183,
                "rmse": 0.013754185568862771,
                "mape": 5698077.359517721,
                "nrmse": 0.9895710960311441,
                "mask_count": 11,
                "mask_pct": 37.93103448275862,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 514,
                "test_days": 30,
                "train_end_idx": 514,
                "test_end_idx": 544,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-08T00:00:00",
                "test_start": "2025-09-09T00:00:00",
                "test_end": "2025-10-20T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.00249071451163696,
                    "rmse": 0.05183738756117572,
                    "mape": 1.6305237678033742,
                    "confidence": 0.6270236793861552
                  },
                  "lightgbm": {
                    "raw_r2": -0.006041461791863896,
                    "rmse": 0.052150720065898264,
                    "mape": 1.725268334985403,
                    "confidence": 0.6200916855172873
                  }
                },
                "dirhit": null,
                "rmse": 0.02068733037559486,
                "mape": 147.04250555976083,
                "nrmse": 1.0323214590839358,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 544,
                "test_days": 30,
                "train_end_idx": 544,
                "test_end_idx": 574,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-20T00:00:00",
                "test_start": "2025-10-21T00:00:00",
                "test_end": "2025-12-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.010366387586980533,
                    "rmse": 0.05092143187449733,
                    "mape": 1.6470160834443077,
                    "confidence": 0.6165791952437747
                  },
                  "lightgbm": {
                    "raw_r2": -0.005714256365142741,
                    "rmse": 0.05095349487680578,
                    "mape": 1.7366886897987144,
                    "confidence": 0.6203574825132969
                  }
                },
                "dirhit": null,
                "rmse": 0.01846372624028191,
                "mape": 2329864.3024709453,
                "nrmse": 1.1148324081893148,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 81.81818181818183,
            "avg_nrmse": 1.0334201794509628,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.002620657089680631,
                "rmse": 0.052725546998490996,
                "mape": 1.5972211175573157,
                "confidence": 0.622871357524635
              },
              "lightgbm": {
                "raw_r2": -0.009854662003112915,
                "rmse": 0.05299865934329796,
                "mape": 1.6775613893373422,
                "confidence": 0.6169962349565512
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 787,
      "value": 50.97533544120457,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "lgbm",
        "ml_adaptive_k_1d": 2.9525499317939827,
        "ml_pattern_weight_scale_1d": 1.3784740446377997,
        "enable_talib_patterns_short": true,
        "external_min_days": 22,
        "external_smooth_alpha": 0.24036756665359751,
        "regime_scale_low": 0.9503426213569464,
        "regime_scale_high": 1.1502550242339322,
        "yolo_min_conf": 0.6300853252955246,
        "lgb_n_estimators": 182,
        "lgb_max_depth": 6,
        "lgb_learning_rate": 0.011531910850588113,
        "lgb_num_leaves": 51,
        "lgb_subsample": 0.7780879900816565,
        "lgb_colsample_bytree": 0.6621916808413638,
        "lgb_reg_alpha": 0.005286575547658489,
        "lgb_reg_lambda": 0.007828559218972773,
        "lgb_min_data_in_leaf": 80,
        "lgb_feature_fraction_bynode": 0.9730123581471066,
        "lgb_bagging_freq": 3,
        "lgb_min_gain_to_split": 0.1430989676241562
      },
      "attrs": {
        "avg_dirhit": 81.81818181818183,
        "avg_nrmse": 1.0495653052537839,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "CCOLA_1d": {
            "symbol": "CCOLA",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.003203085832727363,
                    "rmse": 0.05501653454592795,
                    "mape": 1.6496799269936042,
                    "confidence": 0.627602451613233
                  },
                  "lightgbm": {
                    "raw_r2": -0.00924621871956847,
                    "rmse": 0.05517508367736607,
                    "mape": 1.6309681088433479,
                    "confidence": 0.6174887850614441
                  }
                },
                "dirhit": null,
                "rmse": 0.021667044019570862,
                "mape": 972486.6730172788,
                "nrmse": 0.9762533192780578,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.005294358530836189,
                    "rmse": 0.05359427543815124,
                    "mape": 1.5737383779040497,
                    "confidence": 0.6206985848775639
                  },
                  "lightgbm": {
                    "raw_r2": -0.018416711135876545,
                    "rmse": 0.05371533875312174,
                    "mape": 1.6173204237219037,
                    "confidence": 0.6100469867341763
                  }
                },
                "dirhit": 81.81818181818183,
                "rmse": 0.014116918314498845,
                "mape": 5952207.538968726,
                "nrmse": 0.9863128379579551,
                "mask_count": 11,
                "mask_pct": 37.93103448275862,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.009268757137203506,
                    "rmse": 0.05197551325779592,
                    "mape": 1.6467087648274958,
                    "confidence": 0.6325295175976435
                  },
                  "lightgbm": {
                    "raw_r2": -0.006041461791863896,
                    "rmse": 0.052150720065898264,
                    "mape": 1.725268334985403,
                    "confidence": 0.6200916855172873
                  }
                },
                "dirhit": null,
                "rmse": 0.017946672706698596,
                "mape": 195.63332059646595,
                "nrmse": 1.0383119980944011,
                "mask_count": 9,
                "mask_pct": 31.03448275862069,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.006456235342269356,
                    "rmse": 0.05070698540365554,
                    "mape": 1.6465150673949525,
                    "confidence": 0.6302452357296948
                  },
                  "lightgbm": {
                    "raw_r2": -0.005714256365142741,
                    "rmse": 0.05095349487680578,
                    "mape": 1.7366886897987144,
                    "confidence": 0.6203574825132969
                  }
                },
                "dirhit": null,
                "rmse": 0.01877991714532831,
                "mape": 3939542.0759746637,
                "nrmse": 1.1973830656847215,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 81.81818181818183,
            "avg_nrmse": 1.0495653052537839,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": 0.003408429945341009,
                "rmse": 0.05282332716138266,
                "mape": 1.6291605342800257,
                "confidence": 0.6277689474545338
              },
              "lightgbm": {
                "raw_r2": -0.009854662003112915,
                "rmse": 0.05299865934329796,
                "mape": 1.6775613893373422,
                "confidence": 0.6169962349565512
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_CCOLA_h1_c2",
  "symbols": [
    "CCOLA"
  ],
  "horizon": 1,
  "best_model_choice": "lgbm",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.3843349602320531,
    "ml_loss_threshold": 0.0017433848036568823,
    "ml_dir_penalty": 3.474036940448417,
    "ml_adaptive_k_1d": 2.088167205048503,
    "ml_pattern_weight_scale_1d": 1.3671414790627796,
    "external_min_days": 26,
    "external_smooth_alpha": 0.26658534844330073,
    "yolo_min_conf": 0.7124840508045773
  },
  "hyperparameters": {
    "model_choice": "lgbm",
    "lgb_n_estimators": 187,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.012675625597348514,
    "lgb_num_leaves": 39,
    "lgb_subsample": 0.7347322915693946,
    "lgb_colsample_bytree": 0.7656382362017634,
    "lgb_reg_alpha": 0.0007917728824493998,
    "lgb_reg_lambda": 1.5375101243078526,
    "lgb_min_data_in_leaf": 98,
    "lgb_feature_fraction_bynode": 0.9755428440950439,
    "lgb_bagging_freq": 3,
    "lgb_min_gain_to_split": 0.17240410625850175
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "0"
  },
  "best_trial_metrics": {
    "CCOLA_1d": {
      "symbol": "CCOLA",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 453,
          "test_days": 30,
          "train_end_idx": 453,
          "test_end_idx": 483,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-12T00:00:00",
          "test_start": "2025-06-13T00:00:00",
          "test_end": "2025-07-25T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -2.5299873815748186,
              "rmse": 0.07159793365693012,
              "mape": 1.5087632185566149,
              "confidence": 0.3000020850389294
            },
            "lightgbm": {
              "raw_r2": -0.00924621871956847,
              "rmse": 0.05517508367736607,
              "mape": 1.6309681088433479,
              "confidence": 0.6174887850614441
            }
          },
          "dirhit": null,
          "rmse": 0.022845110877176708,
          "mape": 2749099.5201607444,
          "nrmse": 1.0293335492822222,
          "mask_count": 7,
          "mask_pct": 24.137931034482758,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 2,
          "train_days": 483,
          "test_days": 30,
          "train_end_idx": 483,
          "test_end_idx": 513,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-25T00:00:00",
          "test_start": "2025-07-28T00:00:00",
          "test_end": "2025-09-05T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -1.6355360062115103,
              "rmse": 0.07038949197550533,
              "mape": 1.5078218050630812,
              "confidence": 0.3001825030339908
            },
            "lightgbm": {
              "raw_r2": -0.018416711135876545,
              "rmse": 0.05371533875312174,
              "mape": 1.6173204237219037,
              "confidence": 0.6100469867341763
            }
          },
          "dirhit": 90.0,
          "rmse": 0.01445111962813462,
          "mape": 7526750.46470978,
          "nrmse": 1.0096626256919279,
          "mask_count": 10,
          "mask_pct": 34.48275862068966,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 3,
          "train_days": 513,
          "test_days": 30,
          "train_end_idx": 513,
          "test_end_idx": 543,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-05T00:00:00",
          "test_start": "2025-09-08T00:00:00",
          "test_end": "2025-10-17T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -1.3801498850917469,
              "rmse": 0.06762992941037095,
              "mape": 1.5042762952926694,
              "confidence": 0.3006539112851748
            },
            "lightgbm": {
              "raw_r2": -0.006041461791863896,
              "rmse": 0.052150720065898264,
              "mape": 1.725268334985403,
              "confidence": 0.6200916855172873
            }
          },
          "dirhit": null,
          "rmse": 0.01730805844581619,
          "mape": 177.74007061843605,
          "nrmse": 1.0013647120952034,
          "mask_count": 9,
          "mask_pct": 31.03448275862069,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 4,
          "train_days": 543,
          "test_days": 30,
          "train_end_idx": 543,
          "test_end_idx": 573,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-17T00:00:00",
          "test_start": "2025-10-20T00:00:00",
          "test_end": "2025-11-28T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -1.5087054444572257,
              "rmse": 0.06615043153010705,
              "mape": 1.510655798816119,
              "confidence": 0.3003440101054222
            },
            "lightgbm": {
              "raw_r2": -0.005714256365142741,
              "rmse": 0.05095349487680578,
              "mape": 1.7366886897987144,
              "confidence": 0.6203574825132969
            }
          },
          "dirhit": null,
          "rmse": 0.019657102951204115,
          "mape": 5584631.702674548,
          "nrmse": 1.2533112905691415,
          "mask_count": 5,
          "mask_pct": 17.24137931034483,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        }
      ],
      "avg_dirhit": 90.0,
      "avg_nrmse": 1.0734180444096237,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -1.7635946793338253,
          "rmse": 0.06894194664322836,
          "mape": 1.507879279432121,
          "confidence": 0.30029562736587934
        },
        "lightgbm": {
          "raw_r2": -0.009854662003112915,
          "rmse": 0.05299865934329796,
          "mape": 1.6775613893373422,
          "confidence": 0.6169962349565512
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 10,
    "min_mask_pct": 5.0,
    "best_trial_number": 1144,
    "best_trial_seed": 1186,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "CCOLA_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 453,
            "test_end_idx": 483,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-12T00:00:00",
            "test_start": "2025-06-13T00:00:00",
            "test_end": "2025-07-25T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 483,
            "test_end_idx": 513,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-25T00:00:00",
            "test_start": "2025-07-28T00:00:00",
            "test_end": "2025-09-05T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 513,
            "test_end_idx": 543,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-05T00:00:00",
            "test_start": "2025-09-08T00:00:00",
            "test_end": "2025-10-17T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 543,
            "test_end_idx": 573,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-17T00:00:00",
            "test_start": "2025-10-20T00:00:00",
            "test_end": "2025-11-28T00:00:00"
          }
        ]
      }
    }
  }
}