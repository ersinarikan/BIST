{
  "best_value": 35.75197012322808,
  "best_dirhit": 59.77725977725978,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "all",
    "ml_adaptive_k_1d": 2.901214293875112,
    "ml_pattern_weight_scale_1d": 1.360156832184929,
    "enable_talib_patterns_short": true,
    "external_min_days": 32,
    "external_smooth_alpha": 0.1978990454164622,
    "yolo_min_conf": 0.6362592280385192,
    "xgb_n_estimators": 489,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.0848521782719217,
    "xgb_subsample": 0.5364824412194762,
    "xgb_colsample_bytree": 0.6977681218810325,
    "xgb_reg_alpha": 2.2148920285054953e-06,
    "xgb_reg_lambda": 0.3821375673088133,
    "xgb_min_child_weight": 9,
    "xgb_gamma": 0.3554812765190891,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 183,
    "lgb_n_estimators": 486,
    "lgb_max_depth": 6,
    "lgb_learning_rate": 0.013538284454737013,
    "lgb_num_leaves": 11,
    "lgb_subsample": 0.780387652583648,
    "lgb_colsample_bytree": 0.5291052025456774,
    "lgb_reg_alpha": 0.2105170416946396,
    "lgb_reg_lambda": 0.23688206523847857,
    "lgb_min_data_in_leaf": 17,
    "lgb_feature_fraction_bynode": 0.542418857042596,
    "lgb_bagging_freq": 10,
    "lgb_min_gain_to_split": 0.3742707957561203,
    "cat_iterations": 298,
    "cat_depth": 7,
    "cat_learning_rate": 0.17076498036507637,
    "cat_l2_leaf_reg": 9.874009574405838,
    "cat_subsample": 0.8390201833665236,
    "cat_rsm": 0.669316813488912,
    "cat_border_count": 36,
    "cat_random_strength": 2.0909772087785825,
    "cat_leaf_estimation_iterations": 12,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 6,
    "value": 35.75197012322808,
    "state": "1"
  },
  "n_trials": 9,
  "pruned_count": 0,
  "avg_trial_time": 109.5826468888889,
  "top_k_trials": [
    {
      "number": 6,
      "value": 35.75197012322808,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.901214293875112,
        "ml_pattern_weight_scale_1d": 1.360156832184929,
        "enable_talib_patterns_short": true,
        "external_min_days": 32,
        "external_smooth_alpha": 0.1978990454164622,
        "yolo_min_conf": 0.6362592280385192,
        "xgb_n_estimators": 489,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.0848521782719217,
        "xgb_subsample": 0.5364824412194762,
        "xgb_colsample_bytree": 0.6977681218810325,
        "xgb_reg_alpha": 2.2148920285054953e-06,
        "xgb_reg_lambda": 0.3821375673088133,
        "xgb_min_child_weight": 9,
        "xgb_gamma": 0.3554812765190891,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 183,
        "lgb_n_estimators": 486,
        "lgb_max_depth": 6,
        "lgb_learning_rate": 0.013538284454737013,
        "lgb_num_leaves": 11,
        "lgb_subsample": 0.780387652583648,
        "lgb_colsample_bytree": 0.5291052025456774,
        "lgb_reg_alpha": 0.2105170416946396,
        "lgb_reg_lambda": 0.23688206523847857,
        "lgb_min_data_in_leaf": 17,
        "lgb_feature_fraction_bynode": 0.542418857042596,
        "lgb_bagging_freq": 10,
        "lgb_min_gain_to_split": 0.3742707957561203,
        "cat_iterations": 298,
        "cat_depth": 7,
        "cat_learning_rate": 0.17076498036507637,
        "cat_l2_leaf_reg": 9.874009574405838,
        "cat_subsample": 0.8390201833665236,
        "cat_rsm": 0.669316813488912,
        "cat_border_count": 36,
        "cat_random_strength": 2.0909772087785825,
        "cat_leaf_estimation_iterations": 12,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 59.77725977725978,
        "avg_nrmse": 1.015351953475628,
        "model_choice": "all",
        "symbol_metrics": {
          "AKSA_1d": {
            "symbol": "AKSA",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 449,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.009194285273706285,
                    "rmse": 0.025827105000238326,
                    "mape": 1.8187874736931697,
                    "confidence": 0.6175309585740614
                  },
                  "lightgbm": {
                    "raw_r2": -0.014024626603475587,
                    "rmse": 0.025885170998459165,
                    "mape": 1.6704720586131971,
                    "confidence": 0.6136096579357564
                  },
                  "catboost": {
                    "raw_r2": -0.022751196463126917,
                    "rmse": 0.026017353097609573,
                    "mape": 1.6621030373715688,
                    "confidence": 0.6065345611303616
                  }
                },
                "dirhit": 69.23076923076923,
                "rmse": 0.019030467007384113,
                "mape": 116.17543677435778,
                "nrmse": 0.9873739151924239,
                "mask_count": 13,
                "mask_pct": 44.827586206896555,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 2,
                "train_days": 479,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0027897308659815914,
                    "rmse": 0.02554014820696806,
                    "mape": 1.7986614577187687,
                    "confidence": 0.6227333804216659
                  },
                  "lightgbm": {
                    "raw_r2": -0.007024307216197068,
                    "rmse": 0.02558622225999103,
                    "mape": 1.6723518725916442,
                    "confidence": 0.6192933369827862
                  },
                  "catboost": {
                    "raw_r2": 0.004249002057606958,
                    "rmse": 0.02545410724601422,
                    "mape": 1.6349090273357256,
                    "confidence": 0.6284521843273665
                  }
                },
                "dirhit": 54.54545454545454,
                "rmse": 0.018983408463594247,
                "mape": 164.71063793872466,
                "nrmse": 0.9718117264230653,
                "mask_count": 11,
                "mask_pct": 37.93103448275862,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 3,
                "train_days": 509,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.006296385033556451,
                    "rmse": 0.025266039046142334,
                    "mape": 1.790600304655299,
                    "confidence": 0.6198846096468216
                  },
                  "lightgbm": {
                    "raw_r2": -0.010760094963814026,
                    "rmse": 0.025316061134198535,
                    "mape": 1.686605884741892,
                    "confidence": 0.6162595310076711
                  },
                  "catboost": {
                    "raw_r2": 0.008865529819459761,
                    "rmse": 0.025076451862529808,
                    "mape": 1.651429917806438,
                    "confidence": 0.6322020637147225
                  }
                },
                "dirhit": null,
                "rmse": 0.02722492386148888,
                "mape": 128.54980744225026,
                "nrmse": 1.0881607232389496,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 4,
                "train_days": 539,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0005239317436898094,
                    "rmse": 0.025246096815074212,
                    "mape": 1.8233344142761008,
                    "confidence": 0.6245743057016999
                  },
                  "lightgbm": {
                    "raw_r2": -0.004451090395634442,
                    "rmse": 0.025298110191431255,
                    "mape": 1.6974898353315633,
                    "confidence": 0.6213836383191931
                  },
                  "catboost": {
                    "raw_r2": 0.01133425785954778,
                    "rmse": 0.025098406413918525,
                    "mape": 1.668339078207786,
                    "confidence": 0.6342066206173242
                  }
                },
                "dirhit": 55.55555555555556,
                "rmse": 0.024100423913391903,
                "mape": 1364302.630849606,
                "nrmse": 1.0140614490480724,
                "mask_count": 9,
                "mask_pct": 31.03448275862069,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              }
            ],
            "avg_dirhit": 59.77725977725978,
            "avg_nrmse": 1.015351953475628,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.004701083229233534,
                "rmse": 0.025469847267105734,
                "mape": 1.8078459125858344,
                "confidence": 0.6211808135860621
              },
              "lightgbm": {
                "raw_r2": -0.00906502979478028,
                "rmse": 0.025521391146019996,
                "mape": 1.6817299128195742,
                "confidence": 0.6176365410613517
              },
              "catboost": {
                "raw_r2": 0.000424398318371896,
                "rmse": 0.025411579655018033,
                "mape": 1.6541952651803795,
                "confidence": 0.6253488574474437
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 0,
      "value": 27.08212106219199,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.874520308414824,
        "ml_pattern_weight_scale_1d": 0.8010120564409183,
        "enable_talib_patterns_short": true,
        "external_min_days": 46,
        "external_smooth_alpha": 0.26904956459932267,
        "smart_consensus_weight": 0.5009101013472824,
        "smart_performance_weight": 0.6599390481955997,
        "smart_sigma": 0.001468229307475265,
        "smart_weight_xgb": 0.6462856556760421,
        "smart_weight_lgbm": 0.5381951973724398,
        "smart_weight_cat": 1.4643487605806016,
        "fingpt_confidence_threshold": 0.27268942087801123,
        "xgb_n_estimators": 286,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.087991523056899,
        "xgb_subsample": 0.7886240567285216,
        "xgb_colsample_bytree": 0.5990948846436684,
        "xgb_reg_alpha": 0.010624389410270923,
        "xgb_reg_lambda": 0.007857591166859947,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.07790216526314898,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 434,
        "lgb_n_estimators": 207,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.01271404854297565,
        "lgb_num_leaves": 24,
        "lgb_subsample": 0.8451419589945072,
        "lgb_colsample_bytree": 0.7531347132260686,
        "lgb_reg_alpha": 0.00029851388984146964,
        "lgb_reg_lambda": 0.00017532463319791712,
        "lgb_min_data_in_leaf": 90,
        "lgb_feature_fraction_bynode": 0.8956227746915882,
        "lgb_bagging_freq": 7,
        "lgb_min_gain_to_split": 0.35287405956972284,
        "cat_iterations": 232,
        "cat_depth": 3,
        "cat_learning_rate": 0.09561056472747766,
        "cat_l2_leaf_reg": 9.280578258018817,
        "cat_subsample": 0.8839975782247979,
        "cat_rsm": 0.5357781522080407,
        "cat_border_count": 25,
        "cat_random_strength": 3.7510507618701485,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 47.61363636363636,
        "avg_nrmse": 1.041237398725577,
        "model_choice": "all",
        "symbol_metrics": {
          "AKSA_1d": {
            "symbol": "AKSA",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 449,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.01387126215420135,
                    "rmse": 0.02588816051500316,
                    "mape": 1.8323893596325518,
                    "confidence": 0.6137341151594924
                  },
                  "lightgbm": {
                    "raw_r2": -0.014024626603475587,
                    "rmse": 0.025885170998459165,
                    "mape": 1.6704720586131971,
                    "confidence": 0.6136096579357564
                  },
                  "catboost": {
                    "raw_r2": 0.001287599615067414,
                    "rmse": 0.02570469432817381,
                    "mape": 1.701236749120949,
                    "confidence": 0.6260461710737857
                  }
                },
                "dirhit": 62.5,
                "rmse": 0.020125209948096755,
                "mape": 114.53573319460382,
                "nrmse": 1.0441733948416252,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.01387126215420135,
                    "lightgbm": -0.014024626603475587,
                    "catboost": 0.001287599615067414
                  },
                  "ensemble_weights": {
                    "xgboost": 0.21547648361922372,
                    "lightgbm": 0.2379412819802445,
                    "catboost": 0.5465822344005319
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 2,
                "train_days": 479,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.004739527491197215,
                    "rmse": 0.025564119934260658,
                    "mape": 1.7846900792276135,
                    "confidence": 0.6211493141167621
                  },
                  "lightgbm": {
                    "raw_r2": -0.007024307216197068,
                    "rmse": 0.02558622225999103,
                    "mape": 1.6723518725916442,
                    "confidence": 0.6192933369827862
                  },
                  "catboost": {
                    "raw_r2": 0.018178817156943656,
                    "rmse": 0.025284399269599293,
                    "mape": 1.6522201113797155,
                    "confidence": 0.639760128316822
                  }
                },
                "dirhit": 45.45454545454545,
                "rmse": 0.019798560301735022,
                "mape": 158.10709330282677,
                "nrmse": 1.0135415409945492,
                "mask_count": 11,
                "mask_pct": 37.93103448275862,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.004739527491197215,
                    "lightgbm": -0.007024307216197068,
                    "catboost": 0.018178817156943656
                  },
                  "ensemble_weights": {
                    "xgboost": 0.512580615797119,
                    "lightgbm": 0.12979317118122669,
                    "catboost": 0.35762621302165426
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 3,
                "train_days": 509,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007905090135151616,
                    "rmse": 0.02528318294703847,
                    "mape": 1.791595381611025,
                    "confidence": 0.6185779503200346
                  },
                  "lightgbm": {
                    "raw_r2": -0.010760094963814026,
                    "rmse": 0.025316061134198535,
                    "mape": 1.686605884741892,
                    "confidence": 0.6162595310076711
                  },
                  "catboost": {
                    "raw_r2": 0.019033917592954846,
                    "rmse": 0.024977567353012577,
                    "mape": 1.639519992379999,
                    "confidence": 0.6404533960313814
                  }
                },
                "dirhit": 20.0,
                "rmse": 0.027444745392822587,
                "mape": 129.3611512055835,
                "nrmse": 1.096946832531176,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.007905090135151616,
                    "lightgbm": -0.010760094963814026,
                    "catboost": 0.019033917592954846
                  },
                  "ensemble_weights": {
                    "xgboost": 0.1074307081039828,
                    "lightgbm": 0.0893354404603859,
                    "catboost": 0.8032338514356313
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 4,
                "train_days": 539,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.001602821618109133,
                    "rmse": 0.02525902870252921,
                    "mape": 1.7910829547155904,
                    "confidence": 0.6236977144053206
                  },
                  "lightgbm": {
                    "raw_r2": -0.004451090395634442,
                    "rmse": 0.025298110191431255,
                    "mape": 1.6974898353315633,
                    "confidence": 0.6213836383191931
                  },
                  "catboost": {
                    "raw_r2": 0.025999138211320088,
                    "rmse": 0.02491476846008904,
                    "mape": 1.6345553699210285,
                    "confidence": 0.6460946018984035
                  }
                },
                "dirhit": 62.5,
                "rmse": 0.02401073910943789,
                "mape": 3171231.5917956997,
                "nrmse": 1.010287826534957,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.001602821618109133,
                    "lightgbm": -0.004451090395634442,
                    "catboost": 0.025999138211320088
                  },
                  "ensemble_weights": {
                    "xgboost": 0.1657557315171418,
                    "lightgbm": 0.453455014671021,
                    "catboost": 0.3807892538118372
                  },
                  "source": "model"
                }
              }
            ],
            "avg_dirhit": 47.61363636363636,
            "avg_nrmse": 1.041237398725577,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.007029675349664828,
                "rmse": 0.025498623024707873,
                "mape": 1.7999394437966953,
                "confidence": 0.6192897735004024
              },
              "lightgbm": {
                "raw_r2": -0.00906502979478028,
                "rmse": 0.025521391146019996,
                "mape": 1.6817299128195742,
                "confidence": 0.6176365410613517
              },
              "catboost": {
                "raw_r2": 0.016124868144071502,
                "rmse": 0.025220357352718683,
                "mape": 1.656883055700423,
                "confidence": 0.6380885743300981
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 3,
      "value": 23.59586045081346,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.4320412077803225,
        "ml_loss_threshold": 0.00864430314677415,
        "ml_dir_penalty": 1.550083776583973,
        "n_seeds": 3,
        "meta_stacking_alpha": 0.021898812429056922,
        "ml_adaptive_k_1d": 2.8493872365571256,
        "ml_pattern_weight_scale_1d": 1.8160090300714715,
        "enable_talib_patterns_short": false,
        "external_min_days": 53,
        "external_smooth_alpha": 0.29984036521975804,
        "smart_consensus_weight": 0.5648252891780032,
        "smart_performance_weight": 0.32092614545022585,
        "smart_sigma": 0.0013216896636746136,
        "smart_weight_xgb": 1.3972157579533269,
        "smart_weight_lgbm": 1.4004180571633305,
        "smart_weight_cat": 1.133101457273268,
        "xgb_n_estimators": 302,
        "xgb_max_depth": 3,
        "xgb_learning_rate": 0.07141511310968733,
        "xgb_subsample": 0.8588441039810308,
        "xgb_colsample_bytree": 0.8548345697060469,
        "xgb_reg_alpha": 0.047780784401828445,
        "xgb_reg_lambda": 1.0396506923366906,
        "xgb_min_child_weight": 5,
        "xgb_gamma": 0.00044311337228576176,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 131,
        "lgb_n_estimators": 168,
        "lgb_max_depth": 6,
        "lgb_learning_rate": 0.010152786939077382,
        "lgb_num_leaves": 16,
        "lgb_subsample": 0.7194935157466344,
        "lgb_colsample_bytree": 0.7767580790770774,
        "lgb_reg_alpha": 0.016704448087211738,
        "lgb_reg_lambda": 0.001179214148782151,
        "lgb_min_data_in_leaf": 74,
        "lgb_feature_fraction_bynode": 0.6186245437484,
        "lgb_bagging_freq": 3,
        "lgb_min_gain_to_split": 0.7464914051180241,
        "cat_iterations": 432,
        "cat_depth": 7,
        "cat_learning_rate": 0.0717090713664527,
        "cat_l2_leaf_reg": 6.114777430019244,
        "cat_subsample": 0.5421536455226416,
        "cat_rsm": 0.665472111376745,
        "cat_border_count": 79,
        "cat_random_strength": 0.25973536453725443,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 47.63229405034325,
        "avg_nrmse": 1.6244575640711352,
        "model_choice": "all",
        "symbol_metrics": {
          "AKSA_1d": {
            "symbol": "AKSA",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 449,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.1702150115544376,
                    "rmse": 0.027912586202808443,
                    "mape": 1.4892565798088333,
                    "confidence": 0.49448480237011405
                  },
                  "lightgbm": {
                    "raw_r2": -0.014024626603475587,
                    "rmse": 0.025885170998459165,
                    "mape": 1.6704720586131971,
                    "confidence": 0.6136096579357564
                  },
                  "catboost": {
                    "raw_r2": -0.008121479555390701,
                    "rmse": 0.025816104777445618,
                    "mape": 1.6857353142262521,
                    "confidence": 0.6184022044618218
                  }
                },
                "dirhit": 40.0,
                "rmse": 0.02732610975120184,
                "mape": 245.60031079536077,
                "nrmse": 1.4177838074889575,
                "mask_count": 20,
                "mask_pct": 68.96551724137932,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 2,
                "train_days": 479,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.1600009530639704,
                    "rmse": 0.027699231579449035,
                    "mape": 1.5392820839639625,
                    "confidence": 0.5015159246913715
                  },
                  "lightgbm": {
                    "raw_r2": -0.007024307216197068,
                    "rmse": 0.02558622225999103,
                    "mape": 1.6723518725916442,
                    "confidence": 0.6192933369827862
                  },
                  "catboost": {
                    "raw_r2": 0.005030891483121598,
                    "rmse": 0.025437652748623366,
                    "mape": 1.6616869439901034,
                    "confidence": 0.6290873838090816
                  }
                },
                "dirhit": 56.25,
                "rmse": 0.02260796877048408,
                "mape": 383.9361780367968,
                "nrmse": 1.157362715125555,
                "mask_count": 16,
                "mask_pct": 55.172413793103445,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 3,
                "train_days": 509,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.24968600850764047,
                    "rmse": 0.02806328675419121,
                    "mape": 1.468786360174376,
                    "confidence": 0.4449318157862484
                  },
                  "lightgbm": {
                    "raw_r2": -0.010760094963814026,
                    "rmse": 0.025316061134198535,
                    "mape": 1.686605884741892,
                    "confidence": 0.6162595310076711
                  },
                  "catboost": {
                    "raw_r2": 0.006938131779180123,
                    "rmse": 0.02505901005603569,
                    "mape": 1.6781948995013967,
                    "confidence": 0.6306366667985449
                  }
                },
                "dirhit": 52.17391304347826,
                "rmse": 0.05432036307650856,
                "mape": 543.2411799425854,
                "nrmse": 2.1711460378241556,
                "mask_count": 23,
                "mask_pct": 79.3103448275862,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 4,
                "train_days": 539,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.16009873038668307,
                    "rmse": 0.027077483197016104,
                    "mape": 1.4637830035930355,
                    "confidence": 0.5014479556968802
                  },
                  "lightgbm": {
                    "raw_r2": -0.004451090395634442,
                    "rmse": 0.025298110191431255,
                    "mape": 1.6974898353315633,
                    "confidence": 0.6213836383191931
                  },
                  "catboost": {
                    "raw_r2": -0.0033492477149481927,
                    "rmse": 0.02528189000609006,
                    "mape": 1.702767900931264,
                    "confidence": 0.6222787998249633
                  }
                },
                "dirhit": 42.10526315789473,
                "rmse": 0.04162745858231526,
                "mape": 17428788.984454796,
                "nrmse": 1.7515376958458728,
                "mask_count": 19,
                "mask_pct": 65.51724137931035,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              }
            ],
            "avg_dirhit": 47.63229405034325,
            "avg_nrmse": 1.6244575640711352,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.1850001758781829,
                "rmse": 0.0276881469333662,
                "mape": 1.490277006885052,
                "confidence": 0.4855951246361535
              },
              "lightgbm": {
                "raw_r2": -0.00906502979478028,
                "rmse": 0.025521391146019996,
                "mape": 1.6817299128195742,
                "confidence": 0.6176365410613517
              },
              "catboost": {
                "raw_r2": 0.0001245739979907069,
                "rmse": 0.025398664397048683,
                "mape": 1.682096264662254,
                "confidence": 0.6251012637236029
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AKSA_h1_c2",
  "symbols": [
    "AKSA"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_adaptive_k_1d": 2.901214293875112,
    "ml_pattern_weight_scale_1d": 1.360156832184929,
    "external_min_days": 32,
    "external_smooth_alpha": 0.1978990454164622,
    "yolo_min_conf": 0.6362592280385192
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 489,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.0848521782719217,
    "xgb_subsample": 0.5364824412194762,
    "xgb_colsample_bytree": 0.6977681218810325,
    "xgb_reg_alpha": 2.2148920285054953e-06,
    "xgb_reg_lambda": 0.3821375673088133,
    "xgb_min_child_weight": 9,
    "xgb_gamma": 0.3554812765190891,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 183,
    "lgb_n_estimators": 486,
    "lgb_max_depth": 6,
    "lgb_learning_rate": 0.013538284454737013,
    "lgb_num_leaves": 11,
    "lgb_subsample": 0.780387652583648,
    "lgb_colsample_bytree": 0.5291052025456774,
    "lgb_reg_alpha": 0.2105170416946396,
    "lgb_reg_lambda": 0.23688206523847857,
    "lgb_min_data_in_leaf": 17,
    "lgb_feature_fraction_bynode": 0.542418857042596,
    "lgb_bagging_freq": 10,
    "lgb_min_gain_to_split": 0.3742707957561203,
    "cat_iterations": 298,
    "cat_depth": 7,
    "cat_learning_rate": 0.17076498036507637,
    "cat_l2_leaf_reg": 9.874009574405838,
    "cat_subsample": 0.8390201833665236,
    "cat_rsm": 0.669316813488912,
    "cat_border_count": 36,
    "cat_random_strength": 2.0909772087785825,
    "cat_leaf_estimation_iterations": 12,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AKSA_1d": {
      "symbol": "AKSA",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 449,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.009194285273706285,
              "rmse": 0.025827105000238326,
              "mape": 1.8187874736931697,
              "confidence": 0.6175309585740614
            },
            "lightgbm": {
              "raw_r2": -0.014024626603475587,
              "rmse": 0.025885170998459165,
              "mape": 1.6704720586131971,
              "confidence": 0.6136096579357564
            },
            "catboost": {
              "raw_r2": -0.022751196463126917,
              "rmse": 0.026017353097609573,
              "mape": 1.6621030373715688,
              "confidence": 0.6065345611303616
            }
          },
          "dirhit": 69.23076923076923,
          "rmse": 0.019030467007384113,
          "mape": 116.17543677435778,
          "nrmse": 0.9873739151924239,
          "mask_count": 13,
          "mask_pct": 44.827586206896555,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 15.0
        },
        {
          "split_index": 2,
          "train_days": 479,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0027897308659815914,
              "rmse": 0.02554014820696806,
              "mape": 1.7986614577187687,
              "confidence": 0.6227333804216659
            },
            "lightgbm": {
              "raw_r2": -0.007024307216197068,
              "rmse": 0.02558622225999103,
              "mape": 1.6723518725916442,
              "confidence": 0.6192933369827862
            },
            "catboost": {
              "raw_r2": 0.004249002057606958,
              "rmse": 0.02545410724601422,
              "mape": 1.6349090273357256,
              "confidence": 0.6284521843273665
            }
          },
          "dirhit": 54.54545454545454,
          "rmse": 0.018983408463594247,
          "mape": 164.71063793872466,
          "nrmse": 0.9718117264230653,
          "mask_count": 11,
          "mask_pct": 37.93103448275862,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 15.0
        },
        {
          "split_index": 3,
          "train_days": 509,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.006296385033556451,
              "rmse": 0.025266039046142334,
              "mape": 1.790600304655299,
              "confidence": 0.6198846096468216
            },
            "lightgbm": {
              "raw_r2": -0.010760094963814026,
              "rmse": 0.025316061134198535,
              "mape": 1.686605884741892,
              "confidence": 0.6162595310076711
            },
            "catboost": {
              "raw_r2": 0.008865529819459761,
              "rmse": 0.025076451862529808,
              "mape": 1.651429917806438,
              "confidence": 0.6322020637147225
            }
          },
          "dirhit": null,
          "rmse": 0.02722492386148888,
          "mape": 128.54980744225026,
          "nrmse": 1.0881607232389496,
          "mask_count": 4,
          "mask_pct": 13.793103448275861,
          "low_support": true,
          "min_mask_count": 5,
          "min_mask_pct": 15.0
        },
        {
          "split_index": 4,
          "train_days": 539,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0005239317436898094,
              "rmse": 0.025246096815074212,
              "mape": 1.8233344142761008,
              "confidence": 0.6245743057016999
            },
            "lightgbm": {
              "raw_r2": -0.004451090395634442,
              "rmse": 0.025298110191431255,
              "mape": 1.6974898353315633,
              "confidence": 0.6213836383191931
            },
            "catboost": {
              "raw_r2": 0.01133425785954778,
              "rmse": 0.025098406413918525,
              "mape": 1.668339078207786,
              "confidence": 0.6342066206173242
            }
          },
          "dirhit": 55.55555555555556,
          "rmse": 0.024100423913391903,
          "mape": 1364302.630849606,
          "nrmse": 1.0140614490480724,
          "mask_count": 9,
          "mask_pct": 31.03448275862069,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 15.0
        }
      ],
      "avg_dirhit": 59.77725977725978,
      "avg_nrmse": 1.015351953475628,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.004701083229233534,
          "rmse": 0.025469847267105734,
          "mape": 1.8078459125858344,
          "confidence": 0.6211808135860621
        },
        "lightgbm": {
          "raw_r2": -0.00906502979478028,
          "rmse": 0.025521391146019996,
          "mape": 1.6817299128195742,
          "confidence": 0.6176365410613517
        },
        "catboost": {
          "raw_r2": 0.000424398318371896,
          "rmse": 0.025411579655018033,
          "mape": 1.6541952651803795,
          "confidence": 0.6253488574474437
        }
      }
    }
  }
}