{
  "best_value": 50.61912694943486,
  "best_dirhit": 82.85714285714286,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "all",
    "ml_loss_mse_weight": 0.4126462615544564,
    "ml_loss_threshold": 0.0019775611725284413,
    "ml_dir_penalty": 1.9786245283979498,
    "n_seeds": 5,
    "meta_stacking_alpha": 0.05981362130861752,
    "ml_adaptive_k_1d": 2.5075712437767828,
    "ml_pattern_weight_scale_1d": 1.8934328216974474,
    "enable_talib_patterns_short": false,
    "external_min_days": 39,
    "external_smooth_alpha": 0.23280718068536413,
    "smart_consensus_weight": 0.49268991029084314,
    "smart_performance_weight": 0.22411408898562624,
    "smart_sigma": 0.003912621117430867,
    "smart_weight_xgb": 0.7378359615872774,
    "smart_weight_lgbm": 0.7231035714347986,
    "smart_weight_cat": 0.8738897172229992,
    "xgb_n_estimators": 421,
    "xgb_max_depth": 2,
    "xgb_learning_rate": 0.048458244004628434,
    "xgb_subsample": 0.6875588124579912,
    "xgb_colsample_bytree": 0.8364305736662517,
    "xgb_reg_alpha": 0.00032267326024964285,
    "xgb_reg_lambda": 18.11930514404124,
    "xgb_min_child_weight": 12,
    "xgb_gamma": 0.00028227423711556893,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 490,
    "lgb_n_estimators": 170,
    "lgb_max_depth": 2,
    "lgb_learning_rate": 0.011267235494531288,
    "lgb_num_leaves": 15,
    "lgb_subsample": 0.8553292935809739,
    "lgb_colsample_bytree": 0.7327899020173727,
    "lgb_reg_alpha": 0.0016990697128068635,
    "lgb_reg_lambda": 0.00014232922805442743,
    "lgb_min_data_in_leaf": 100,
    "lgb_feature_fraction_bynode": 0.6579464782941432,
    "lgb_bagging_freq": 1,
    "lgb_min_gain_to_split": 0.4227919635016361,
    "cat_iterations": 328,
    "cat_depth": 6,
    "cat_learning_rate": 0.0162570539566476,
    "cat_l2_leaf_reg": 1.5170160152290673,
    "cat_subsample": 0.6814681360367665,
    "cat_rsm": 0.8704150074529102,
    "cat_border_count": 158,
    "cat_random_strength": 1.5334777421346901,
    "cat_leaf_estimation_iterations": 9,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 994,
    "value": 50.61912694943486,
    "state": "1"
  },
  "best_trial_number": 994,
  "best_trial_seed": 1036,
  "n_trials": 999,
  "pruned_count": 0,
  "avg_trial_time": 50.00998169122099,
  "top_k_trials": [
    {
      "number": 994,
      "value": 50.61912694943486,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.4126462615544564,
        "ml_loss_threshold": 0.0019775611725284413,
        "ml_dir_penalty": 1.9786245283979498,
        "n_seeds": 5,
        "meta_stacking_alpha": 0.05981362130861752,
        "ml_adaptive_k_1d": 2.5075712437767828,
        "ml_pattern_weight_scale_1d": 1.8934328216974474,
        "enable_talib_patterns_short": false,
        "external_min_days": 39,
        "external_smooth_alpha": 0.23280718068536413,
        "smart_consensus_weight": 0.49268991029084314,
        "smart_performance_weight": 0.22411408898562624,
        "smart_sigma": 0.003912621117430867,
        "smart_weight_xgb": 0.7378359615872774,
        "smart_weight_lgbm": 0.7231035714347986,
        "smart_weight_cat": 0.8738897172229992,
        "xgb_n_estimators": 421,
        "xgb_max_depth": 2,
        "xgb_learning_rate": 0.048458244004628434,
        "xgb_subsample": 0.6875588124579912,
        "xgb_colsample_bytree": 0.8364305736662517,
        "xgb_reg_alpha": 0.00032267326024964285,
        "xgb_reg_lambda": 18.11930514404124,
        "xgb_min_child_weight": 12,
        "xgb_gamma": 0.00028227423711556893,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 490,
        "lgb_n_estimators": 170,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.011267235494531288,
        "lgb_num_leaves": 15,
        "lgb_subsample": 0.8553292935809739,
        "lgb_colsample_bytree": 0.7327899020173727,
        "lgb_reg_alpha": 0.0016990697128068635,
        "lgb_reg_lambda": 0.00014232922805442743,
        "lgb_min_data_in_leaf": 100,
        "lgb_feature_fraction_bynode": 0.6579464782941432,
        "lgb_bagging_freq": 1,
        "lgb_min_gain_to_split": 0.4227919635016361,
        "cat_iterations": 328,
        "cat_depth": 6,
        "cat_learning_rate": 0.0162570539566476,
        "cat_l2_leaf_reg": 1.5170160152290673,
        "cat_subsample": 0.6814681360367665,
        "cat_rsm": 0.8704150074529102,
        "cat_border_count": 158,
        "cat_random_strength": 1.5334777421346901,
        "cat_leaf_estimation_iterations": 9,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 82.85714285714286,
        "avg_nrmse": 1.2301455084275237,
        "model_choice": "all",
        "symbol_metrics": {
          "BESLR_1d": {
            "symbol": "BESLR",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 86,
                "test_days": 30,
                "train_end_idx": 86,
                "test_end_idx": 116,
                "train_start": "2025-06-02T00:00:00",
                "train_end": "2025-10-02T00:00:00",
                "test_start": "2025-10-03T00:00:00",
                "test_end": "2025-11-14T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -28.1656193102619,
                    "rmse": 0.12995892309245222,
                    "mape": 1.7283043897199653,
                    "confidence": 0.3
                  },
                  "lightgbm": {
                    "raw_r2": -0.0975743118125137,
                    "rmse": 0.02744422030105208,
                    "mape": 1.7006979184536102,
                    "confidence": 0.5472568162817244
                  },
                  "catboost": {
                    "raw_r2": -0.0601938968247037,
                    "rmse": 0.027071289365460233,
                    "mape": 1.5976625209045,
                    "confidence": 0.5764583262076983
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.02805830586627063,
                "mape": 2231172.831457668,
                "nrmse": 0.9524893960439684,
                "mask_count": 15,
                "mask_pct": 51.724137931034484,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 116,
                "test_days": 14,
                "train_end_idx": 116,
                "test_end_idx": 130,
                "train_start": "2025-06-02T00:00:00",
                "train_end": "2025-11-14T00:00:00",
                "test_start": "2025-11-17T00:00:00",
                "test_end": "2025-12-04T00:00:00",
                "valid_predictions": 13,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -12.903622032919417,
                    "rmse": 0.10042903538383718,
                    "mape": 1.6560432476758766,
                    "confidence": 0.3
                  },
                  "lightgbm": {
                    "raw_r2": -0.027644631330920728,
                    "rmse": 0.02821962842547387,
                    "mape": 1.6780641751822771,
                    "confidence": 0.6025744302532834
                  },
                  "catboost": {
                    "raw_r2": 0.004441068443826153,
                    "rmse": 0.027721066732242238,
                    "mape": 1.5413615607592037,
                    "confidence": 0.6286082198509084
                  }
                },
                "dirhit": 85.71428571428571,
                "rmse": 0.01597332171265524,
                "mape": 891598.705888316,
                "nrmse": 1.507801620811079,
                "mask_count": 7,
                "mask_pct": 53.84615384615385,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 82.85714285714286,
            "avg_nrmse": 1.2301455084275237,
            "split_count": 2,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -20.53462067159066,
                "rmse": 0.1151939792381447,
                "mape": 1.692173818697921,
                "confidence": 0.3
              },
              "lightgbm": {
                "raw_r2": -0.06260947157171722,
                "rmse": 0.027831924363262976,
                "mape": 1.6893810468179438,
                "confidence": 0.5749156232675039
              },
              "catboost": {
                "raw_r2": -0.02787641419043877,
                "rmse": 0.027396178048851236,
                "mape": 1.5695120408318517,
                "confidence": 0.6025332730293034
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 587,
      "value": 50.228525828224505,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.5484247816556383,
        "ml_loss_threshold": 0.00800553202654908,
        "ml_dir_penalty": 2.2187833581059575,
        "n_seeds": 4,
        "meta_stacking_alpha": 0.06253867991170654,
        "ml_adaptive_k_1d": 2.487745510192884,
        "ml_pattern_weight_scale_1d": 1.9199802053199144,
        "enable_talib_patterns_short": false,
        "external_min_days": 34,
        "external_smooth_alpha": 0.24297709041743332,
        "smart_consensus_weight": 0.5783625588955614,
        "smart_performance_weight": 0.29460024039845517,
        "smart_sigma": 0.017151334066064915,
        "smart_weight_xgb": 0.7717929754965038,
        "smart_weight_lgbm": 1.0371831732365029,
        "smart_weight_cat": 0.8946874275889172,
        "xgb_n_estimators": 365,
        "xgb_max_depth": 2,
        "xgb_learning_rate": 0.011056367047207886,
        "xgb_subsample": 0.7839160405436036,
        "xgb_colsample_bytree": 0.8012650533858598,
        "xgb_reg_alpha": 7.727630786009035e-06,
        "xgb_reg_lambda": 20.93255358266084,
        "xgb_min_child_weight": 10,
        "xgb_gamma": 0.0006149004556969426,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 421,
        "lgb_n_estimators": 161,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.013645385721378052,
        "lgb_num_leaves": 11,
        "lgb_subsample": 0.6875596612137346,
        "lgb_colsample_bytree": 0.7345784323495342,
        "lgb_reg_alpha": 0.0012415117802200156,
        "lgb_reg_lambda": 0.00011909133535073758,
        "lgb_min_data_in_leaf": 48,
        "lgb_feature_fraction_bynode": 0.9108766999091584,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.07519558333976865,
        "cat_iterations": 135,
        "cat_depth": 6,
        "cat_learning_rate": 0.01986599226104611,
        "cat_l2_leaf_reg": 1.2511689511563864,
        "cat_subsample": 0.8841193803431017,
        "cat_rsm": 0.6766866576560044,
        "cat_border_count": 107,
        "cat_random_strength": 0.7662507069374962,
        "cat_leaf_estimation_iterations": 9,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 80.55555555555557,
        "avg_nrmse": 1.0267271767773976,
        "model_choice": "all",
        "symbol_metrics": {
          "BESLR_1d": {
            "symbol": "BESLR",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 86,
                "test_days": 30,
                "train_end_idx": 86,
                "test_end_idx": 116,
                "train_start": "2025-06-02T00:00:00",
                "train_end": "2025-10-02T00:00:00",
                "test_start": "2025-10-03T00:00:00",
                "test_end": "2025-11-14T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -195.55498681727553,
                    "rmse": 0.3567038036266191,
                    "mape": 1.8974218764001598,
                    "confidence": 0.3
                  },
                  "lightgbm": {
                    "raw_r2": -0.0975743118125137,
                    "rmse": 0.02744422030105208,
                    "mape": 1.7006979184536102,
                    "confidence": 0.5472568162817244
                  },
                  "catboost": {
                    "raw_r2": -0.04408098624509926,
                    "rmse": 0.026924768777097173,
                    "mape": 1.6602871908893264,
                    "confidence": 0.5893284871162334
                  }
                },
                "dirhit": 77.77777777777779,
                "rmse": 0.027425585677038154,
                "mape": 3536543.904847463,
                "nrmse": 0.9310105771238519,
                "mask_count": 18,
                "mask_pct": 62.06896551724138,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 116,
                "test_days": 14,
                "train_end_idx": 116,
                "test_end_idx": 130,
                "train_start": "2025-06-02T00:00:00",
                "train_end": "2025-11-14T00:00:00",
                "test_start": "2025-11-17T00:00:00",
                "test_end": "2025-12-04T00:00:00",
                "valid_predictions": 13,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -154.6896380898718,
                    "rmse": 0.3429207678061044,
                    "mape": 1.891620906782072,
                    "confidence": 0.3
                  },
                  "lightgbm": {
                    "raw_r2": -0.027644631330920728,
                    "rmse": 0.02821962842547387,
                    "mape": 1.6780641751822771,
                    "confidence": 0.6025744302532834
                  },
                  "catboost": {
                    "raw_r2": 0.0060366375053569525,
                    "rmse": 0.027765973922039243,
                    "mape": 1.5413258359301685,
                    "confidence": 0.6299043956432471
                  }
                },
                "dirhit": 83.33333333333334,
                "rmse": 0.011890924706430975,
                "mape": 577294.0507244922,
                "nrmse": 1.1224437764309432,
                "mask_count": 6,
                "mask_pct": 46.15384615384615,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 80.55555555555557,
            "avg_nrmse": 1.0267271767773976,
            "split_count": 2,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -175.12231245357367,
                "rmse": 0.34981228571636175,
                "mape": 1.8945213915911159,
                "confidence": 0.3
              },
              "lightgbm": {
                "raw_r2": -0.06260947157171722,
                "rmse": 0.027831924363262976,
                "mape": 1.6893810468179438,
                "confidence": 0.5749156232675039
              },
              "catboost": {
                "raw_r2": -0.019022174369871154,
                "rmse": 0.027345371349568208,
                "mape": 1.6008065134097476,
                "confidence": 0.6096164413797402
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 850,
      "value": 49.992158788466,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.597526261176129,
        "ml_loss_threshold": 0.0010604939041833474,
        "ml_dir_penalty": 3.9103491163308775,
        "n_seeds": 4,
        "meta_stacking_alpha": 0.033934401677392985,
        "ml_adaptive_k_1d": 2.6437212180028484,
        "ml_pattern_weight_scale_1d": 1.8286366390372182,
        "enable_talib_patterns_short": false,
        "external_min_days": 57,
        "external_smooth_alpha": 0.2290143807203993,
        "smart_consensus_weight": 0.7995534801234836,
        "smart_performance_weight": 0.27890490870593265,
        "smart_sigma": 0.002087832265441096,
        "smart_weight_xgb": 0.6805905955810629,
        "smart_weight_lgbm": 0.9116078054649828,
        "smart_weight_cat": 0.8604815987773192,
        "xgb_n_estimators": 403,
        "xgb_max_depth": 3,
        "xgb_learning_rate": 0.019305873365175738,
        "xgb_subsample": 0.7931022618990458,
        "xgb_colsample_bytree": 0.8108621094770536,
        "xgb_reg_alpha": 5.671134308076892e-06,
        "xgb_reg_lambda": 9.130859739665233,
        "xgb_min_child_weight": 10,
        "xgb_gamma": 0.00021887139317018213,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 453,
        "lgb_n_estimators": 175,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.01200249266281526,
        "lgb_num_leaves": 15,
        "lgb_subsample": 0.6367099501157785,
        "lgb_colsample_bytree": 0.5714197909402238,
        "lgb_reg_alpha": 0.0006051324604215921,
        "lgb_reg_lambda": 0.00010055683037895119,
        "lgb_min_data_in_leaf": 98,
        "lgb_feature_fraction_bynode": 0.6858372313618614,
        "lgb_bagging_freq": 3,
        "lgb_min_gain_to_split": 0.6139488676787715,
        "cat_iterations": 171,
        "cat_depth": 6,
        "cat_learning_rate": 0.026812735225506423,
        "cat_l2_leaf_reg": 1.3893444904800878,
        "cat_subsample": 0.7359053607945604,
        "cat_rsm": 0.7198767021976504,
        "cat_border_count": 137,
        "cat_random_strength": 0.18755939642607355,
        "cat_leaf_estimation_iterations": 5,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 81.49350649350649,
        "avg_nrmse": 1.175549292831423,
        "model_choice": "all",
        "symbol_metrics": {
          "BESLR_1d": {
            "symbol": "BESLR",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 86,
                "test_days": 30,
                "train_end_idx": 86,
                "test_end_idx": 116,
                "train_start": "2025-06-02T00:00:00",
                "train_end": "2025-10-02T00:00:00",
                "test_start": "2025-10-03T00:00:00",
                "test_end": "2025-11-14T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -76.25676672817535,
                    "rmse": 0.22371441836705502,
                    "mape": 1.8439926035181151,
                    "confidence": 0.3
                  },
                  "lightgbm": {
                    "raw_r2": -0.0975743118125137,
                    "rmse": 0.02744422030105208,
                    "mape": 1.7006979184536102,
                    "confidence": 0.5472568162817244
                  },
                  "catboost": {
                    "raw_r2": -0.06621568957866393,
                    "rmse": 0.027036536869346692,
                    "mape": 1.6972720380601647,
                    "confidence": 0.5716858581666399
                  }
                },
                "dirhit": 77.27272727272727,
                "rmse": 0.02749718839742217,
                "mape": 2145510.534069856,
                "nrmse": 0.9334412595826836,
                "mask_count": 22,
                "mask_pct": 75.86206896551724,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 116,
                "test_days": 14,
                "train_end_idx": 116,
                "test_end_idx": 130,
                "train_start": "2025-06-02T00:00:00",
                "train_end": "2025-11-14T00:00:00",
                "test_start": "2025-11-17T00:00:00",
                "test_end": "2025-12-04T00:00:00",
                "valid_predictions": 13,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -59.909216031045325,
                    "rmse": 0.21453639443340328,
                    "mape": 1.8343307096191652,
                    "confidence": 0.3
                  },
                  "lightgbm": {
                    "raw_r2": -0.027644631330920728,
                    "rmse": 0.02821962842547387,
                    "mape": 1.6780641751822771,
                    "confidence": 0.6025744302532834
                  },
                  "catboost": {
                    "raw_r2": -0.019283382560603208,
                    "rmse": 0.028098191289666896,
                    "mape": 1.6012399704392148,
                    "confidence": 0.609344377967778
                  }
                },
                "dirhit": 85.71428571428571,
                "rmse": 0.015018352703189136,
                "mape": 1886894.5969711994,
                "nrmse": 1.4176573260801624,
                "mask_count": 7,
                "mask_pct": 53.84615384615385,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 81.49350649350649,
            "avg_nrmse": 1.175549292831423,
            "split_count": 2,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -68.08299137961033,
                "rmse": 0.21912540640022915,
                "mape": 1.8391616565686402,
                "confidence": 0.3
              },
              "lightgbm": {
                "raw_r2": -0.06260947157171722,
                "rmse": 0.027831924363262976,
                "mape": 1.6893810468179438,
                "confidence": 0.5749156232675039
              },
              "catboost": {
                "raw_r2": -0.04274953606963357,
                "rmse": 0.027567364079506794,
                "mape": 1.6492560042496898,
                "confidence": 0.5905151180672089
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_BESLR_h1_c3",
  "symbols": [
    "BESLR"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.4126462615544564,
    "ml_loss_threshold": 0.0019775611725284413,
    "ml_dir_penalty": 1.9786245283979498,
    "n_seeds": 5,
    "meta_stacking_alpha": 0.05981362130861752,
    "ml_adaptive_k_1d": 2.5075712437767828,
    "ml_pattern_weight_scale_1d": 1.8934328216974474,
    "external_min_days": 39,
    "external_smooth_alpha": 0.23280718068536413,
    "smart_consensus_weight": 0.49268991029084314,
    "smart_performance_weight": 0.22411408898562624,
    "smart_sigma": 0.003912621117430867,
    "smart_weight_xgb": 0.7378359615872774,
    "smart_weight_lgbm": 0.7231035714347986,
    "smart_weight_cat": 0.8738897172229992
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 421,
    "xgb_max_depth": 2,
    "xgb_learning_rate": 0.048458244004628434,
    "xgb_subsample": 0.6875588124579912,
    "xgb_colsample_bytree": 0.8364305736662517,
    "xgb_reg_alpha": 0.00032267326024964285,
    "xgb_reg_lambda": 18.11930514404124,
    "xgb_min_child_weight": 12,
    "xgb_gamma": 0.00028227423711556893,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 490,
    "lgb_n_estimators": 170,
    "lgb_max_depth": 2,
    "lgb_learning_rate": 0.011267235494531288,
    "lgb_num_leaves": 15,
    "lgb_subsample": 0.8553292935809739,
    "lgb_colsample_bytree": 0.7327899020173727,
    "lgb_reg_alpha": 0.0016990697128068635,
    "lgb_reg_lambda": 0.00014232922805442743,
    "lgb_min_data_in_leaf": 100,
    "lgb_feature_fraction_bynode": 0.6579464782941432,
    "lgb_bagging_freq": 1,
    "lgb_min_gain_to_split": 0.4227919635016361,
    "cat_iterations": 328,
    "cat_depth": 6,
    "cat_learning_rate": 0.0162570539566476,
    "cat_l2_leaf_reg": 1.5170160152290673,
    "cat_subsample": 0.6814681360367665,
    "cat_rsm": 0.8704150074529102,
    "cat_border_count": 158,
    "cat_random_strength": 1.5334777421346901,
    "cat_leaf_estimation_iterations": 9,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "BESLR_1d": {
      "symbol": "BESLR",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 86,
          "test_days": 30,
          "train_end_idx": 86,
          "test_end_idx": 116,
          "train_start": "2025-06-02T00:00:00",
          "train_end": "2025-10-02T00:00:00",
          "test_start": "2025-10-03T00:00:00",
          "test_end": "2025-11-14T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -28.1656193102619,
              "rmse": 0.12995892309245222,
              "mape": 1.7283043897199653,
              "confidence": 0.3
            },
            "lightgbm": {
              "raw_r2": -0.0975743118125137,
              "rmse": 0.02744422030105208,
              "mape": 1.7006979184536102,
              "confidence": 0.5472568162817244
            },
            "catboost": {
              "raw_r2": -0.0601938968247037,
              "rmse": 0.027071289365460233,
              "mape": 1.5976625209045,
              "confidence": 0.5764583262076983
            }
          },
          "dirhit": 80.0,
          "rmse": 0.02805830586627063,
          "mape": 2231172.831457668,
          "nrmse": 0.9524893960439684,
          "mask_count": 15,
          "mask_pct": 51.724137931034484,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 2,
          "train_days": 116,
          "test_days": 14,
          "train_end_idx": 116,
          "test_end_idx": 130,
          "train_start": "2025-06-02T00:00:00",
          "train_end": "2025-11-14T00:00:00",
          "test_start": "2025-11-17T00:00:00",
          "test_end": "2025-12-04T00:00:00",
          "valid_predictions": 13,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -12.903622032919417,
              "rmse": 0.10042903538383718,
              "mape": 1.6560432476758766,
              "confidence": 0.3
            },
            "lightgbm": {
              "raw_r2": -0.027644631330920728,
              "rmse": 0.02821962842547387,
              "mape": 1.6780641751822771,
              "confidence": 0.6025744302532834
            },
            "catboost": {
              "raw_r2": 0.004441068443826153,
              "rmse": 0.027721066732242238,
              "mape": 1.5413615607592037,
              "confidence": 0.6286082198509084
            }
          },
          "dirhit": 85.71428571428571,
          "rmse": 0.01597332171265524,
          "mape": 891598.705888316,
          "nrmse": 1.507801620811079,
          "mask_count": 7,
          "mask_pct": 53.84615384615385,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        }
      ],
      "avg_dirhit": 82.85714285714286,
      "avg_nrmse": 1.2301455084275237,
      "split_count": 2,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -20.53462067159066,
          "rmse": 0.1151939792381447,
          "mape": 1.692173818697921,
          "confidence": 0.3
        },
        "lightgbm": {
          "raw_r2": -0.06260947157171722,
          "rmse": 0.027831924363262976,
          "mape": 1.6893810468179438,
          "confidence": 0.5749156232675039
        },
        "catboost": {
          "raw_r2": -0.02787641419043877,
          "rmse": 0.027396178048851236,
          "mape": 1.5695120408318517,
          "confidence": 0.6025332730293034
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 5,
    "min_mask_pct": 2.5,
    "best_trial_number": 994,
    "best_trial_seed": 1036,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "BESLR_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 86,
            "test_end_idx": 116,
            "train_start": "2025-06-02T00:00:00",
            "train_end": "2025-10-02T00:00:00",
            "test_start": "2025-10-03T00:00:00",
            "test_end": "2025-11-14T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 116,
            "test_end_idx": 130,
            "train_start": "2025-06-02T00:00:00",
            "train_end": "2025-11-14T00:00:00",
            "test_start": "2025-11-17T00:00:00",
            "test_end": "2025-12-04T00:00:00"
          }
        ]
      }
    }
  }
}