{
  "best_value": 57.653613100198214,
  "best_dirhit": 90.9090909090909,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "model_choice": "all",
    "ml_adaptive_k_1d": 2.929362865384484,
    "ml_pattern_weight_scale_1d": 0.6517551443458279,
    "enable_talib_patterns_short": false,
    "external_min_days": 59,
    "external_smooth_alpha": 0.0706959136683307,
    "regime_scale_low": 0.8905764536123992,
    "regime_scale_high": 1.1236029889772714,
    "yolo_min_conf": 0.48723121864835367,
    "xgb_n_estimators": 340,
    "xgb_max_depth": 6,
    "xgb_learning_rate": 0.013439895602522003,
    "xgb_subsample": 0.709424523437699,
    "xgb_colsample_bytree": 0.8627166356800466,
    "xgb_reg_alpha": 0.011695645134587183,
    "xgb_reg_lambda": 0.03273718304151215,
    "xgb_min_child_weight": 11,
    "xgb_gamma": 0.12012287062813248,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 460,
    "lgb_n_estimators": 336,
    "lgb_max_depth": 8,
    "lgb_learning_rate": 0.05220791597435155,
    "lgb_num_leaves": 32,
    "lgb_subsample": 0.6119498007200841,
    "lgb_colsample_bytree": 0.5321506203938808,
    "lgb_reg_alpha": 7.981164517116703e-06,
    "lgb_reg_lambda": 1.2811586471976475,
    "lgb_min_data_in_leaf": 35,
    "lgb_feature_fraction_bynode": 0.6997401875761875,
    "lgb_bagging_freq": 3,
    "lgb_min_gain_to_split": 0.13919716725087344,
    "cat_iterations": 445,
    "cat_depth": 5,
    "cat_learning_rate": 0.010588361300626762,
    "cat_l2_leaf_reg": 6.143752407730017,
    "cat_subsample": 0.6421273058473579,
    "cat_rsm": 0.793810727215133,
    "cat_border_count": 151,
    "cat_random_strength": 0.9315308358443599,
    "cat_leaf_estimation_iterations": 11,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 938,
    "value": 57.653613100198214,
    "state": "1"
  },
  "best_trial_number": 938,
  "best_trial_seed": 980,
  "n_trials": 1103,
  "pruned_count": 0,
  "avg_trial_time": 252.0098226393443,
  "top_k_trials": [
    {
      "number": 938,
      "value": 57.653613100198214,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.929362865384484,
        "ml_pattern_weight_scale_1d": 0.6517551443458279,
        "enable_talib_patterns_short": false,
        "external_min_days": 59,
        "external_smooth_alpha": 0.0706959136683307,
        "regime_scale_low": 0.8905764536123992,
        "regime_scale_high": 1.1236029889772714,
        "yolo_min_conf": 0.48723121864835367,
        "xgb_n_estimators": 340,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.013439895602522003,
        "xgb_subsample": 0.709424523437699,
        "xgb_colsample_bytree": 0.8627166356800466,
        "xgb_reg_alpha": 0.011695645134587183,
        "xgb_reg_lambda": 0.03273718304151215,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.12012287062813248,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 460,
        "lgb_n_estimators": 336,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.05220791597435155,
        "lgb_num_leaves": 32,
        "lgb_subsample": 0.6119498007200841,
        "lgb_colsample_bytree": 0.5321506203938808,
        "lgb_reg_alpha": 7.981164517116703e-06,
        "lgb_reg_lambda": 1.2811586471976475,
        "lgb_min_data_in_leaf": 35,
        "lgb_feature_fraction_bynode": 0.6997401875761875,
        "lgb_bagging_freq": 3,
        "lgb_min_gain_to_split": 0.13919716725087344,
        "cat_iterations": 445,
        "cat_depth": 5,
        "cat_learning_rate": 0.010588361300626762,
        "cat_l2_leaf_reg": 6.143752407730017,
        "cat_subsample": 0.6421273058473579,
        "cat_rsm": 0.793810727215133,
        "cat_border_count": 151,
        "cat_random_strength": 0.9315308358443599,
        "cat_leaf_estimation_iterations": 11,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 90.9090909090909,
        "avg_nrmse": 0.9971250893609033,
        "model_choice": "all",
        "symbol_metrics": {
          "EGEEN_1d": {
            "symbol": "EGEEN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-13T00:00:00",
                "test_start": "2025-06-16T00:00:00",
                "test_end": "2025-07-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.024015988833819096,
                    "rmse": 0.028740861233396718,
                    "mape": 1.6547023358769415,
                    "confidence": 0.6055104221118903
                  },
                  "lightgbm": {
                    "raw_r2": -0.023606086521236486,
                    "rmse": 0.028763464984512675,
                    "mape": 1.6794958210333626,
                    "confidence": 0.6058422903358307
                  },
                  "catboost": {
                    "raw_r2": -0.0033751509390805845,
                    "rmse": 0.028568199206550633,
                    "mape": 1.6291323961563313,
                    "confidence": 0.6222577549422695
                  }
                },
                "dirhit": null,
                "rmse": 0.026385427707137494,
                "mape": 112.22608085012955,
                "nrmse": 0.9959692931543638,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-28T00:00:00",
                "test_start": "2025-07-29T00:00:00",
                "test_end": "2025-09-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.029456171077735755,
                    "rmse": 0.028205579965040136,
                    "mape": 1.6707859060030654,
                    "confidence": 0.6011100298017766
                  },
                  "lightgbm": {
                    "raw_r2": -0.02323266369717573,
                    "rmse": 0.02810382054866344,
                    "mape": 1.689416256015141,
                    "confidence": 0.6061446586793287
                  },
                  "catboost": {
                    "raw_r2": -0.009321585149198822,
                    "rmse": 0.027954090905875178,
                    "mape": 1.6748480323200006,
                    "confidence": 0.6174275828126767
                  }
                },
                "dirhit": 90.9090909090909,
                "rmse": 0.019163022402894393,
                "mape": 525052.2703374119,
                "nrmse": 0.9207406029197155,
                "mask_count": 11,
                "mask_pct": 37.93103448275862,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-08T00:00:00",
                "test_start": "2025-09-09T00:00:00",
                "test_end": "2025-10-20T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.04047308296629478,
                    "rmse": 0.027853964503421116,
                    "mape": 1.6854875785896242,
                    "confidence": 0.5922273851869879
                  },
                  "lightgbm": {
                    "raw_r2": -0.030445193454416025,
                    "rmse": 0.027676635759915427,
                    "mape": 1.7070984065233719,
                    "confidence": 0.6003109380270132
                  },
                  "catboost": {
                    "raw_r2": -0.020999444887997504,
                    "rmse": 0.027576711690466348,
                    "mape": 1.6488466198888607,
                    "confidence": 0.6079536086958235
                  }
                },
                "dirhit": null,
                "rmse": 0.0229023875643312,
                "mape": 122.55533247656383,
                "nrmse": 1.0603371414335856,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-20T00:00:00",
                "test_start": "2025-10-21T00:00:00",
                "test_end": "2025-12-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.040299902309257694,
                    "rmse": 0.02750105040782643,
                    "mape": 1.70042345934074,
                    "confidence": 0.5923666697454099
                  },
                  "lightgbm": {
                    "raw_r2": -0.031047819695071272,
                    "rmse": 0.02733204821285558,
                    "mape": 1.721959268986805,
                    "confidence": 0.5998241859034077
                  },
                  "catboost": {
                    "raw_r2": -0.023083912098707787,
                    "rmse": 0.027236784352229267,
                    "mape": 1.6964154472984625,
                    "confidence": 0.6062651151406375
                  }
                },
                "dirhit": null,
                "rmse": 0.02055945493245328,
                "mape": 205659.9775020231,
                "nrmse": 1.011453319935948,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 90.9090909090909,
            "avg_nrmse": 0.9971250893609033,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.033561286296776835,
                "rmse": 0.0280753640274211,
                "mape": 1.6778498199525926,
                "confidence": 0.5978036267115162
              },
              "lightgbm": {
                "raw_r2": -0.02708294084197488,
                "rmse": 0.02796899237648678,
                "mape": 1.69949243813967,
                "confidence": 0.6030305182363951
              },
              "catboost": {
                "raw_r2": -0.014195023268746176,
                "rmse": 0.027833946538780352,
                "mape": 1.6623106239159138,
                "confidence": 0.6134760153978518
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 792,
      "value": 56.94382133106312,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.856726617516928,
        "ml_pattern_weight_scale_1d": 0.5645687323240313,
        "enable_talib_patterns_short": true,
        "external_min_days": 57,
        "external_smooth_alpha": 0.4629640977397248,
        "regime_scale_low": 0.8785647590272129,
        "regime_scale_high": 1.1247329436828089,
        "xgb_n_estimators": 336,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.014559225217714864,
        "xgb_subsample": 0.8788553454279103,
        "xgb_colsample_bytree": 0.6655627248178209,
        "xgb_reg_alpha": 0.025534394647806304,
        "xgb_reg_lambda": 0.13098999385542004,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.0002755502752953504,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 128,
        "lgb_n_estimators": 364,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.05188520490784574,
        "lgb_num_leaves": 34,
        "lgb_subsample": 0.6355554303596594,
        "lgb_colsample_bytree": 0.505402009127554,
        "lgb_reg_alpha": 8.161587805880429e-06,
        "lgb_reg_lambda": 0.5408586051199237,
        "lgb_min_data_in_leaf": 94,
        "lgb_feature_fraction_bynode": 0.5430050149726772,
        "lgb_bagging_freq": 7,
        "lgb_min_gain_to_split": 0.5207998760622135,
        "cat_iterations": 430,
        "cat_depth": 4,
        "cat_learning_rate": 0.01313690600279599,
        "cat_l2_leaf_reg": 6.098367582220591,
        "cat_subsample": 0.6341342939731699,
        "cat_rsm": 0.7702836247295242,
        "cat_border_count": 150,
        "cat_random_strength": 1.5404333333552591,
        "cat_leaf_estimation_iterations": 15,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 90.0,
        "avg_nrmse": 1.0093631114894792,
        "model_choice": "all",
        "symbol_metrics": {
          "EGEEN_1d": {
            "symbol": "EGEEN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 452,
                "test_days": 30,
                "train_end_idx": 452,
                "test_end_idx": 482,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.02495638053502432,
                    "rmse": 0.028799481305938006,
                    "mape": 1.6311226021795817,
                    "confidence": 0.6047492102815488
                  },
                  "lightgbm": {
                    "raw_r2": -0.02289966887328972,
                    "rmse": 0.028816284799156974,
                    "mape": 1.6691381252400275,
                    "confidence": 0.6064143192615108
                  },
                  "catboost": {
                    "raw_r2": 0.0013663051963663426,
                    "rmse": 0.02853879433475479,
                    "mape": 1.625655334714003,
                    "confidence": 0.6261101186546378
                  }
                },
                "dirhit": null,
                "rmse": 0.02660690684046283,
                "mape": 119.91295217680819,
                "nrmse": 1.0045427779072584,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 482,
                "test_days": 30,
                "train_end_idx": 482,
                "test_end_idx": 512,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0206031006567714,
                    "rmse": 0.028118074715824334,
                    "mape": 1.6022928927913516,
                    "confidence": 0.608274769050472
                  },
                  "lightgbm": {
                    "raw_r2": -0.02323266369717573,
                    "rmse": 0.02810382054866344,
                    "mape": 1.689416256015141,
                    "confidence": 0.6061446586793287
                  },
                  "catboost": {
                    "raw_r2": -0.01524523775214326,
                    "rmse": 0.028012937586047802,
                    "mape": 1.6685224212510927,
                    "confidence": 0.6126192385434854
                  }
                },
                "dirhit": 90.0,
                "rmse": 0.018015312184772928,
                "mape": 2355179.586611325,
                "nrmse": 0.9060637175481642,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 512,
                "test_days": 30,
                "train_end_idx": 512,
                "test_end_idx": 542,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.03361393812765331,
                    "rmse": 0.027872446262591558,
                    "mape": 1.6205856835141739,
                    "confidence": 0.5977527837279515
                  },
                  "lightgbm": {
                    "raw_r2": -0.030396215096387163,
                    "rmse": 0.027750759037980476,
                    "mape": 1.7035843251353562,
                    "confidence": 0.600350503658841
                  },
                  "catboost": {
                    "raw_r2": -0.023055060748797113,
                    "rmse": 0.02767000469696515,
                    "mape": 1.6813051816641527,
                    "confidence": 0.6062884790618072
                  }
                },
                "dirhit": null,
                "rmse": 0.023542724829103745,
                "mape": 123.50683342149975,
                "nrmse": 1.084226483749875,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 542,
                "test_days": 30,
                "train_end_idx": 542,
                "test_end_idx": 572,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0366543836191755,
                    "rmse": 0.027508678109503283,
                    "mape": 1.63533572520339,
                    "confidence": 0.5953013946820198
                  },
                  "lightgbm": {
                    "raw_r2": -0.031047819695071272,
                    "rmse": 0.02733204821285558,
                    "mape": 1.721959268986805,
                    "confidence": 0.5998241859034077
                  },
                  "catboost": {
                    "raw_r2": -0.0288939937147162,
                    "rmse": 0.027316697261711858,
                    "mape": 1.6734353615008872,
                    "confidence": 0.6015643774578037
                  }
                },
                "dirhit": null,
                "rmse": 0.020945789906598643,
                "mape": 929432.5317999625,
                "nrmse": 1.0426194667526192,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 90.0,
            "avg_nrmse": 1.0093631114894792,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.02895695073465613,
                "rmse": 0.028074670098464295,
                "mape": 1.6223342259221245,
                "confidence": 0.601519539435498
              },
              "lightgbm": {
                "raw_r2": -0.02689409184048097,
                "rmse": 0.028000728149664117,
                "mape": 1.6960244938443325,
                "confidence": 0.603183416875772
              },
              "catboost": {
                "raw_r2": -0.016456996754822557,
                "rmse": 0.0278846084698699,
                "mape": 1.662229574782534,
                "confidence": 0.6116455534294336
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1058,
      "value": 56.923713407743975,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "n_seeds": 5,
        "ml_adaptive_k_1d": 2.6932197152230306,
        "ml_pattern_weight_scale_1d": 0.5850586772188864,
        "enable_talib_patterns_short": false,
        "external_min_days": 52,
        "external_smooth_alpha": 0.08087386376303722,
        "yolo_min_conf": 0.6319604244693685,
        "fingpt_confidence_threshold": 0.4631444252846786,
        "xgb_n_estimators": 248,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.017505260169071838,
        "xgb_subsample": 0.6972623669765201,
        "xgb_colsample_bytree": 0.839050810320458,
        "xgb_reg_alpha": 0.0005122891589088499,
        "xgb_reg_lambda": 0.006439845349002333,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.2809923788455659,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 472,
        "lgb_n_estimators": 325,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.05450619736817254,
        "lgb_num_leaves": 29,
        "lgb_subsample": 0.6286275041928613,
        "lgb_colsample_bytree": 0.5310108735968124,
        "lgb_reg_alpha": 0.007799997472543069,
        "lgb_reg_lambda": 1.1460922109681564,
        "lgb_min_data_in_leaf": 36,
        "lgb_feature_fraction_bynode": 0.6254854580949938,
        "lgb_bagging_freq": 4,
        "lgb_min_gain_to_split": 0.09994018823481057,
        "cat_iterations": 212,
        "cat_depth": 4,
        "cat_learning_rate": 0.010068880635521847,
        "cat_l2_leaf_reg": 5.376817843622564,
        "cat_subsample": 0.6491808790254129,
        "cat_rsm": 0.5122695619938525,
        "cat_border_count": 110,
        "cat_random_strength": 0.9866578363423256,
        "cat_leaf_estimation_iterations": 6,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 90.0,
        "avg_nrmse": 1.01271443204267,
        "model_choice": "all",
        "symbol_metrics": {
          "EGEEN_1d": {
            "symbol": "EGEEN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-13T00:00:00",
                "test_start": "2025-06-16T00:00:00",
                "test_end": "2025-07-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.027495010520383945,
                    "rmse": 0.028811979761115165,
                    "mape": 1.6633643453190745,
                    "confidence": 0.6026954214695528
                  },
                  "lightgbm": {
                    "raw_r2": -0.023606086521236486,
                    "rmse": 0.028763464984512675,
                    "mape": 1.6794958210333626,
                    "confidence": 0.6058422903358307
                  },
                  "catboost": {
                    "raw_r2": -0.010697738950630272,
                    "rmse": 0.02861877627573848,
                    "mape": 1.64484445379731,
                    "confidence": 0.6163101588360944
                  }
                },
                "dirhit": null,
                "rmse": 0.025875822906149527,
                "mape": 96.1707974647824,
                "nrmse": 0.9767332686691227,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-28T00:00:00",
                "test_start": "2025-07-29T00:00:00",
                "test_end": "2025-09-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.029532060010991918,
                    "rmse": 0.02820272024612149,
                    "mape": 1.6690634350840605,
                    "confidence": 0.601048704069817
                  },
                  "lightgbm": {
                    "raw_r2": -0.02323266369717573,
                    "rmse": 0.02810382054866344,
                    "mape": 1.689416256015141,
                    "confidence": 0.6061446586793287
                  },
                  "catboost": {
                    "raw_r2": -0.01583641494976114,
                    "rmse": 0.0280302529995864,
                    "mape": 1.676883021399518,
                    "confidence": 0.6121396314805188
                  }
                },
                "dirhit": 90.0,
                "rmse": 0.020150664441981204,
                "mape": 399470.32072012994,
                "nrmse": 0.9681946061254049,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-08T00:00:00",
                "test_start": "2025-09-09T00:00:00",
                "test_end": "2025-10-20T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.04020772885952728,
                    "rmse": 0.027843169608868477,
                    "mape": 1.6812632196107646,
                    "confidence": 0.592440807320753
                  },
                  "lightgbm": {
                    "raw_r2": -0.030445193454416025,
                    "rmse": 0.027676635759915427,
                    "mape": 1.7070984065233719,
                    "confidence": 0.6003109380270132
                  },
                  "catboost": {
                    "raw_r2": -0.013920707406947693,
                    "rmse": 0.027507810449452545,
                    "mape": 1.6400283248213372,
                    "confidence": 0.6136939893376199
                  }
                },
                "dirhit": null,
                "rmse": 0.023133688327750628,
                "mape": 130.03341084308454,
                "nrmse": 1.071045928436978,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-20T00:00:00",
                "test_start": "2025-10-21T00:00:00",
                "test_end": "2025-12-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.04044790917485064,
                    "rmse": 0.027499474556589,
                    "mape": 1.6985003745440808,
                    "confidence": 0.5922476310381733
                  },
                  "lightgbm": {
                    "raw_r2": -0.031047819695071272,
                    "rmse": 0.02733204821285558,
                    "mape": 1.721959268986805,
                    "confidence": 0.5998241859034077
                  },
                  "catboost": {
                    "raw_r2": -0.021000040949121,
                    "rmse": 0.027232570040275295,
                    "mape": 1.6799947373810982,
                    "confidence": 0.60795312572853
                  }
                },
                "dirhit": null,
                "rmse": 0.020995693014614823,
                "mape": 86826.37438741655,
                "nrmse": 1.0348839249391748,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 90.0,
            "avg_nrmse": 1.01271443204267,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.03442067714143844,
                "rmse": 0.028089336043173534,
                "mape": 1.678047843639495,
                "confidence": 0.5971081409745741
              },
              "lightgbm": {
                "raw_r2": -0.02708294084197488,
                "rmse": 0.02796899237648678,
                "mape": 1.69949243813967,
                "confidence": 0.6030305182363951
              },
              "catboost": {
                "raw_r2": -0.015363725564115027,
                "rmse": 0.027847352441263178,
                "mape": 1.6604376343498157,
                "confidence": 0.6125242263456907
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_EGEEN_h1_c2",
  "symbols": [
    "EGEEN"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_adaptive_k_1d": 2.929362865384484,
    "ml_pattern_weight_scale_1d": 0.6517551443458279,
    "external_min_days": 59,
    "external_smooth_alpha": 0.0706959136683307,
    "regime_scale_low": 0.8905764536123992,
    "regime_scale_high": 1.1236029889772714,
    "yolo_min_conf": 0.48723121864835367
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 340,
    "xgb_max_depth": 6,
    "xgb_learning_rate": 0.013439895602522003,
    "xgb_subsample": 0.709424523437699,
    "xgb_colsample_bytree": 0.8627166356800466,
    "xgb_reg_alpha": 0.011695645134587183,
    "xgb_reg_lambda": 0.03273718304151215,
    "xgb_min_child_weight": 11,
    "xgb_gamma": 0.12012287062813248,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 460,
    "lgb_n_estimators": 336,
    "lgb_max_depth": 8,
    "lgb_learning_rate": 0.05220791597435155,
    "lgb_num_leaves": 32,
    "lgb_subsample": 0.6119498007200841,
    "lgb_colsample_bytree": 0.5321506203938808,
    "lgb_reg_alpha": 7.981164517116703e-06,
    "lgb_reg_lambda": 1.2811586471976475,
    "lgb_min_data_in_leaf": 35,
    "lgb_feature_fraction_bynode": 0.6997401875761875,
    "lgb_bagging_freq": 3,
    "lgb_min_gain_to_split": 0.13919716725087344,
    "cat_iterations": 445,
    "cat_depth": 5,
    "cat_learning_rate": 0.010588361300626762,
    "cat_l2_leaf_reg": 6.143752407730017,
    "cat_subsample": 0.6421273058473579,
    "cat_rsm": 0.793810727215133,
    "cat_border_count": 151,
    "cat_random_strength": 0.9315308358443599,
    "cat_leaf_estimation_iterations": 11,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "EGEEN_1d": {
      "symbol": "EGEEN",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 453,
          "test_days": 30,
          "train_end_idx": 453,
          "test_end_idx": 483,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-13T00:00:00",
          "test_start": "2025-06-16T00:00:00",
          "test_end": "2025-07-28T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.024015988833819096,
              "rmse": 0.028740861233396718,
              "mape": 1.6547023358769415,
              "confidence": 0.6055104221118903
            },
            "lightgbm": {
              "raw_r2": -0.023606086521236486,
              "rmse": 0.028763464984512675,
              "mape": 1.6794958210333626,
              "confidence": 0.6058422903358307
            },
            "catboost": {
              "raw_r2": -0.0033751509390805845,
              "rmse": 0.028568199206550633,
              "mape": 1.6291323961563313,
              "confidence": 0.6222577549422695
            }
          },
          "dirhit": null,
          "rmse": 0.026385427707137494,
          "mape": 112.22608085012955,
          "nrmse": 0.9959692931543638,
          "mask_count": 6,
          "mask_pct": 20.689655172413794,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 2,
          "train_days": 483,
          "test_days": 30,
          "train_end_idx": 483,
          "test_end_idx": 513,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-28T00:00:00",
          "test_start": "2025-07-29T00:00:00",
          "test_end": "2025-09-08T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.029456171077735755,
              "rmse": 0.028205579965040136,
              "mape": 1.6707859060030654,
              "confidence": 0.6011100298017766
            },
            "lightgbm": {
              "raw_r2": -0.02323266369717573,
              "rmse": 0.02810382054866344,
              "mape": 1.689416256015141,
              "confidence": 0.6061446586793287
            },
            "catboost": {
              "raw_r2": -0.009321585149198822,
              "rmse": 0.027954090905875178,
              "mape": 1.6748480323200006,
              "confidence": 0.6174275828126767
            }
          },
          "dirhit": 90.9090909090909,
          "rmse": 0.019163022402894393,
          "mape": 525052.2703374119,
          "nrmse": 0.9207406029197155,
          "mask_count": 11,
          "mask_pct": 37.93103448275862,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 3,
          "train_days": 513,
          "test_days": 30,
          "train_end_idx": 513,
          "test_end_idx": 543,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-08T00:00:00",
          "test_start": "2025-09-09T00:00:00",
          "test_end": "2025-10-20T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.04047308296629478,
              "rmse": 0.027853964503421116,
              "mape": 1.6854875785896242,
              "confidence": 0.5922273851869879
            },
            "lightgbm": {
              "raw_r2": -0.030445193454416025,
              "rmse": 0.027676635759915427,
              "mape": 1.7070984065233719,
              "confidence": 0.6003109380270132
            },
            "catboost": {
              "raw_r2": -0.020999444887997504,
              "rmse": 0.027576711690466348,
              "mape": 1.6488466198888607,
              "confidence": 0.6079536086958235
            }
          },
          "dirhit": null,
          "rmse": 0.0229023875643312,
          "mape": 122.55533247656383,
          "nrmse": 1.0603371414335856,
          "mask_count": 2,
          "mask_pct": 6.896551724137931,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 4,
          "train_days": 543,
          "test_days": 30,
          "train_end_idx": 543,
          "test_end_idx": 573,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-20T00:00:00",
          "test_start": "2025-10-21T00:00:00",
          "test_end": "2025-12-01T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.040299902309257694,
              "rmse": 0.02750105040782643,
              "mape": 1.70042345934074,
              "confidence": 0.5923666697454099
            },
            "lightgbm": {
              "raw_r2": -0.031047819695071272,
              "rmse": 0.02733204821285558,
              "mape": 1.721959268986805,
              "confidence": 0.5998241859034077
            },
            "catboost": {
              "raw_r2": -0.023083912098707787,
              "rmse": 0.027236784352229267,
              "mape": 1.6964154472984625,
              "confidence": 0.6062651151406375
            }
          },
          "dirhit": null,
          "rmse": 0.02055945493245328,
          "mape": 205659.9775020231,
          "nrmse": 1.011453319935948,
          "mask_count": 2,
          "mask_pct": 6.896551724137931,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        }
      ],
      "avg_dirhit": 90.9090909090909,
      "avg_nrmse": 0.9971250893609033,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.033561286296776835,
          "rmse": 0.0280753640274211,
          "mape": 1.6778498199525926,
          "confidence": 0.5978036267115162
        },
        "lightgbm": {
          "raw_r2": -0.02708294084197488,
          "rmse": 0.02796899237648678,
          "mape": 1.69949243813967,
          "confidence": 0.6030305182363951
        },
        "catboost": {
          "raw_r2": -0.014195023268746176,
          "rmse": 0.027833946538780352,
          "mape": 1.6623106239159138,
          "confidence": 0.6134760153978518
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 10,
    "min_mask_pct": 5.0,
    "best_trial_number": 938,
    "best_trial_seed": 980,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "EGEEN_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 453,
            "test_end_idx": 483,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-13T00:00:00",
            "test_start": "2025-06-16T00:00:00",
            "test_end": "2025-07-28T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 483,
            "test_end_idx": 513,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-28T00:00:00",
            "test_start": "2025-07-29T00:00:00",
            "test_end": "2025-09-08T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 513,
            "test_end_idx": 543,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-08T00:00:00",
            "test_start": "2025-09-09T00:00:00",
            "test_end": "2025-10-20T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 543,
            "test_end_idx": 573,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-20T00:00:00",
            "test_start": "2025-10-21T00:00:00",
            "test_end": "2025-12-01T00:00:00"
          }
        ]
      }
    }
  }
}