{
  "best_value": 42.605047366181005,
  "best_dirhit": 71.15478914677999,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "model_choice": "all",
    "ml_loss_mse_weight": 0.3469703835783799,
    "ml_loss_threshold": 0.0016127522421629523,
    "ml_dir_penalty": 3.131610287101333,
    "ml_adaptive_k_1d": 1.4061595324071041,
    "ml_pattern_weight_scale_1d": 1.3463786151606856,
    "enable_talib_patterns_short": true,
    "external_min_days": 24,
    "external_smooth_alpha": 0.4544155593655777,
    "regime_scale_low": 0.9192992136377925,
    "regime_scale_high": 1.1594897640000907,
    "yolo_min_conf": 0.6610528059881786,
    "xgb_n_estimators": 277,
    "xgb_max_depth": 6,
    "xgb_learning_rate": 0.026679353477943896,
    "xgb_subsample": 0.8894591424232011,
    "xgb_colsample_bytree": 0.7402295569296171,
    "xgb_reg_alpha": 1.5860615189901866e-05,
    "xgb_reg_lambda": 0.983301789108835,
    "xgb_min_child_weight": 15,
    "xgb_gamma": 0.0008101617796590645,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 512,
    "lgb_n_estimators": 120,
    "lgb_max_depth": 4,
    "lgb_learning_rate": 0.012825011288635188,
    "lgb_num_leaves": 14,
    "lgb_subsample": 0.5269472524040222,
    "lgb_colsample_bytree": 0.560176265819559,
    "lgb_reg_alpha": 0.00030483079008569036,
    "lgb_reg_lambda": 0.0004975443433867889,
    "lgb_min_data_in_leaf": 38,
    "lgb_feature_fraction_bynode": 0.7405337140461896,
    "lgb_bagging_freq": 4,
    "lgb_min_gain_to_split": 0.8952210348844725,
    "cat_iterations": 533,
    "cat_depth": 8,
    "cat_learning_rate": 0.0638019452955682,
    "cat_l2_leaf_reg": 5.785751011584882,
    "cat_subsample": 0.5114014712038095,
    "cat_rsm": 0.7785360996835614,
    "cat_border_count": 82,
    "cat_random_strength": 0.6545740180085758,
    "cat_leaf_estimation_iterations": 15,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 1009,
    "value": 71.15478914677999,
    "state": "1"
  },
  "best_trial_number": 1009,
  "best_trial_seed": 1051,
  "n_trials": 1500,
  "pruned_count": 0,
  "avg_trial_time": 186.88051917414603,
  "top_k_trials": [
    {
      "number": 1009,
      "value": 42.605047366181005,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.3469703835783799,
        "ml_loss_threshold": 0.0016127522421629523,
        "ml_dir_penalty": 3.131610287101333,
        "ml_adaptive_k_1d": 1.4061595324071041,
        "ml_pattern_weight_scale_1d": 1.3463786151606856,
        "enable_talib_patterns_short": true,
        "external_min_days": 24,
        "external_smooth_alpha": 0.4544155593655777,
        "regime_scale_low": 0.9192992136377925,
        "regime_scale_high": 1.1594897640000907,
        "yolo_min_conf": 0.6610528059881786,
        "xgb_n_estimators": 277,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.026679353477943896,
        "xgb_subsample": 0.8894591424232011,
        "xgb_colsample_bytree": 0.7402295569296171,
        "xgb_reg_alpha": 1.5860615189901866e-05,
        "xgb_reg_lambda": 0.983301789108835,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.0008101617796590645,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 512,
        "lgb_n_estimators": 120,
        "lgb_max_depth": 4,
        "lgb_learning_rate": 0.012825011288635188,
        "lgb_num_leaves": 14,
        "lgb_subsample": 0.5269472524040222,
        "lgb_colsample_bytree": 0.560176265819559,
        "lgb_reg_alpha": 0.00030483079008569036,
        "lgb_reg_lambda": 0.0004975443433867889,
        "lgb_min_data_in_leaf": 38,
        "lgb_feature_fraction_bynode": 0.7405337140461896,
        "lgb_bagging_freq": 4,
        "lgb_min_gain_to_split": 0.8952210348844725,
        "cat_iterations": 533,
        "cat_depth": 8,
        "cat_learning_rate": 0.0638019452955682,
        "cat_l2_leaf_reg": 5.785751011584882,
        "cat_subsample": 0.5114014712038095,
        "cat_rsm": 0.7785360996835614,
        "cat_border_count": 82,
        "cat_random_strength": 0.6545740180085758,
        "cat_leaf_estimation_iterations": 15,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 71.15478914677999,
        "avg_nrmse": 1.200550839427497,
        "model_choice": "all",
        "symbol_metrics": {
          "BINBN_1d": {
            "symbol": "BINBN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 167,
                "test_days": 30,
                "train_end_idx": 167,
                "test_end_idx": 197,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-06-11T00:00:00",
                "test_start": "2025-06-12T00:00:00",
                "test_end": "2025-07-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -8.07655944760973,
                    "rmse": 0.12452179855139638,
                    "mape": 1.5167887016191757,
                    "confidence": 0.3
                  },
                  "lightgbm": {
                    "raw_r2": -0.04672932017961876,
                    "rmse": 0.04836437243563374,
                    "mape": 1.6137807840541323,
                    "confidence": 0.5872042127643997
                  },
                  "catboost": {
                    "raw_r2": -0.013948793073703633,
                    "rmse": 0.04769483495599934,
                    "mape": 1.5956831241580551,
                    "confidence": 0.6136711974050508
                  }
                },
                "dirhit": 78.26086956521739,
                "rmse": 0.05176123546910728,
                "mape": 223.22545791867253,
                "nrmse": 1.2841163139245007,
                "mask_count": 23,
                "mask_pct": 79.3103448275862,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 197,
                "test_days": 30,
                "train_end_idx": 197,
                "test_end_idx": 227,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-07-24T00:00:00",
                "test_start": "2025-07-25T00:00:00",
                "test_end": "2025-09-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -10.416796801712861,
                    "rmse": 0.12634496551469537,
                    "mape": 1.5413914607069454,
                    "confidence": 0.3
                  },
                  "lightgbm": {
                    "raw_r2": -0.043689287046930016,
                    "rmse": 0.046863977191286536,
                    "mape": 1.576102501277914,
                    "confidence": 0.589642942409671
                  },
                  "catboost": {
                    "raw_r2": -0.030525930424744052,
                    "rmse": 0.046503967483751574,
                    "mape": 1.6079195265104957,
                    "confidence": 0.6002457188026257
                  }
                },
                "dirhit": 52.63157894736842,
                "rmse": 0.03578394222407342,
                "mape": 211.7809262084387,
                "nrmse": 1.397603464716036,
                "mask_count": 19,
                "mask_pct": 65.51724137931035,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 227,
                "test_days": 30,
                "train_end_idx": 227,
                "test_end_idx": 257,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-09-04T00:00:00",
                "test_start": "2025-09-05T00:00:00",
                "test_end": "2025-10-16T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -10.393311823886991,
                    "rmse": 0.1250085890446129,
                    "mape": 1.5516057180529557,
                    "confidence": 0.3
                  },
                  "lightgbm": {
                    "raw_r2": -0.062543835999377,
                    "rmse": 0.04499950145271437,
                    "mape": 1.614217926493998,
                    "confidence": 0.5745932520603529
                  },
                  "catboost": {
                    "raw_r2": -0.03991554784474075,
                    "rmse": 0.04472252568069875,
                    "mape": 1.5674772104771952,
                    "confidence": 0.5926758389265687
                  }
                },
                "dirhit": 92.85714285714286,
                "rmse": 0.031191330722984037,
                "mape": 243.09863063459036,
                "nrmse": 0.9262769526346759,
                "mask_count": 14,
                "mask_pct": 48.275862068965516,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 257,
                "test_days": 30,
                "train_end_idx": 257,
                "test_end_idx": 287,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-10-16T00:00:00",
                "test_start": "2025-10-17T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -9.05281670351737,
                    "rmse": 0.12648518603285708,
                    "mape": 1.582187333275365,
                    "confidence": 0.3
                  },
                  "lightgbm": {
                    "raw_r2": -0.08724229572415942,
                    "rmse": 0.045044548372685365,
                    "mape": 1.6358092856788236,
                    "confidence": 0.5552186437960286
                  },
                  "catboost": {
                    "raw_r2": -0.06893514852099902,
                    "rmse": 0.04488531969881823,
                    "mape": 1.6060017242643767,
                    "confidence": 0.5695381859845722
                  }
                },
                "dirhit": 60.86956521739131,
                "rmse": 0.058007218409689795,
                "mape": 14177226.984968787,
                "nrmse": 1.194206626434775,
                "mask_count": 23,
                "mask_pct": 79.3103448275862,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 71.15478914677999,
            "avg_nrmse": 1.200550839427497,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -9.48487119418174,
                "rmse": 0.12559013478589043,
                "mape": 1.5479933034136104,
                "confidence": 0.3
              },
              "lightgbm": {
                "raw_r2": -0.0600511847375213,
                "rmse": 0.046318099863080005,
                "mape": 1.609977624376217,
                "confidence": 0.576664762757613
              },
              "catboost": {
                "raw_r2": -0.038331354966046866,
                "rmse": 0.04595166195481697,
                "mape": 1.5942703963525306,
                "confidence": 0.5940327352797043
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1144,
      "value": 42.0383685165538,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.24270261362263862,
        "ml_loss_threshold": 0.0016959502753403478,
        "ml_dir_penalty": 2.222490818152186,
        "n_seeds": 4,
        "ml_adaptive_k_1d": 2.293641622152138,
        "ml_pattern_weight_scale_1d": 1.322837082869054,
        "enable_talib_patterns_short": true,
        "external_min_days": 24,
        "external_smooth_alpha": 0.10860627519985008,
        "regime_scale_low": 0.9169506890973367,
        "regime_scale_high": 1.0834016126103438,
        "yolo_min_conf": 0.6631657784610363,
        "smart_consensus_weight": 0.40212201221713134,
        "smart_performance_weight": 0.30790671309830203,
        "smart_sigma": 0.0022619446995916395,
        "smart_weight_xgb": 0.6267134276661235,
        "smart_weight_lgbm": 0.6923875898722734,
        "smart_weight_cat": 0.5468318468926954,
        "xgb_n_estimators": 507,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.032164153262906406,
        "xgb_subsample": 0.8758921256951414,
        "xgb_colsample_bytree": 0.7554064844648306,
        "xgb_reg_alpha": 5.119696437296425e-06,
        "xgb_reg_lambda": 0.7139669819974037,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.001100858589796515,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 446,
        "lgb_n_estimators": 120,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.01001692515397774,
        "lgb_num_leaves": 11,
        "lgb_subsample": 0.6102623269895121,
        "lgb_colsample_bytree": 0.8357134993383002,
        "lgb_reg_alpha": 0.09618160165762504,
        "lgb_reg_lambda": 0.0001779171430927396,
        "lgb_min_data_in_leaf": 44,
        "lgb_feature_fraction_bynode": 0.7433026268537152,
        "lgb_bagging_freq": 5,
        "lgb_min_gain_to_split": 0.8458450018789262,
        "cat_iterations": 568,
        "cat_depth": 5,
        "cat_learning_rate": 0.058651916718692264,
        "cat_l2_leaf_reg": 5.60452973148965,
        "cat_subsample": 0.7753784725716115,
        "cat_rsm": 0.7627266289125642,
        "cat_border_count": 57,
        "cat_random_strength": 0.6176143448742949,
        "cat_leaf_estimation_iterations": 15,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 68.89204545454545,
        "avg_nrmse": 1.0310105502713345,
        "model_choice": "all",
        "symbol_metrics": {
          "BINBN_1d": {
            "symbol": "BINBN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 167,
                "test_days": 30,
                "train_end_idx": 167,
                "test_end_idx": 197,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-06-11T00:00:00",
                "test_start": "2025-06-12T00:00:00",
                "test_end": "2025-07-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -4.446108272281221,
                    "rmse": 0.09631963992434314,
                    "mape": 1.422629977673826,
                    "confidence": 0.3000000001439832
                  },
                  "lightgbm": {
                    "raw_r2": -0.04672932017961876,
                    "rmse": 0.04836437243563374,
                    "mape": 1.6137807840541323,
                    "confidence": 0.5872042127643997
                  },
                  "catboost": {
                    "raw_r2": -0.025451325494298294,
                    "rmse": 0.04774795850177057,
                    "mape": 1.527505897523592,
                    "confidence": 0.6043486599290578
                  }
                },
                "dirhit": 75.0,
                "rmse": 0.04077237258994935,
                "mape": 190.36245017648525,
                "nrmse": 1.0114995966703708,
                "mask_count": 24,
                "mask_pct": 82.75862068965517,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 197,
                "test_days": 30,
                "train_end_idx": 197,
                "test_end_idx": 227,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-07-24T00:00:00",
                "test_start": "2025-07-25T00:00:00",
                "test_end": "2025-09-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -6.010523312914546,
                    "rmse": 0.09926488589895956,
                    "mape": 1.4526408546063316,
                    "confidence": 0.3000000000000577
                  },
                  "lightgbm": {
                    "raw_r2": -0.043689287046930016,
                    "rmse": 0.046863977191286536,
                    "mape": 1.576102501277914,
                    "confidence": 0.589642942409671
                  },
                  "catboost": {
                    "raw_r2": -0.015801050463702764,
                    "rmse": 0.04609639076890091,
                    "mape": 1.5603028636309544,
                    "confidence": 0.6121683202341963
                  }
                },
                "dirhit": 68.75,
                "rmse": 0.027490079878233764,
                "mape": 127.68588801509037,
                "nrmse": 1.0736723931242302,
                "mask_count": 16,
                "mask_pct": 55.172413793103445,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 227,
                "test_days": 30,
                "train_end_idx": 227,
                "test_end_idx": 257,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-09-04T00:00:00",
                "test_start": "2025-09-05T00:00:00",
                "test_end": "2025-10-16T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -5.932633174397725,
                    "rmse": 0.09801508322677357,
                    "mape": 1.4602018812664437,
                    "confidence": 0.3000000000000852
                  },
                  "lightgbm": {
                    "raw_r2": -0.062543835999377,
                    "rmse": 0.04499950145271437,
                    "mape": 1.614217926493998,
                    "confidence": 0.5745932520603529
                  },
                  "catboost": {
                    "raw_r2": -0.06320703848426668,
                    "rmse": 0.04475424553018778,
                    "mape": 1.5773076000892972,
                    "confidence": 0.5740674979651127
                  }
                },
                "dirhit": 77.27272727272727,
                "rmse": 0.03255588807142927,
                "mape": 424.4663598843671,
                "nrmse": 0.9667996874175727,
                "mask_count": 22,
                "mask_pct": 75.86206896551724,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 257,
                "test_days": 30,
                "train_end_idx": 257,
                "test_end_idx": 287,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-10-16T00:00:00",
                "test_start": "2025-10-17T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -5.123747940622056,
                    "rmse": 0.09888158849796017,
                    "mape": 1.499403679309461,
                    "confidence": 0.3000000000048622
                  },
                  "lightgbm": {
                    "raw_r2": -0.08724229572415942,
                    "rmse": 0.045044548372685365,
                    "mape": 1.6358092856788236,
                    "confidence": 0.5552186437960286
                  },
                  "catboost": {
                    "raw_r2": -0.021493275869253092,
                    "rmse": 0.044359466166247294,
                    "mape": 1.5597331979237115,
                    "confidence": 0.6075535009595978
                  }
                },
                "dirhit": 54.54545454545454,
                "rmse": 0.05207459718638379,
                "mape": 1936193.8841552546,
                "nrmse": 1.0720705238731647,
                "mask_count": 22,
                "mask_pct": 75.86206896551724,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 68.89204545454545,
            "avg_nrmse": 1.0310105502713345,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -5.378253175053887,
                "rmse": 0.09812029938700911,
                "mape": 1.4587190982140157,
                "confidence": 0.3000000000372471
              },
              "lightgbm": {
                "raw_r2": -0.0600511847375213,
                "rmse": 0.046318099863080005,
                "mape": 1.609977624376217,
                "confidence": 0.576664762757613
              },
              "catboost": {
                "raw_r2": -0.03148817257788021,
                "rmse": 0.045739515241776635,
                "mape": 1.5562123897918887,
                "confidence": 0.5995344947719912
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1201,
      "value": 41.62299039155562,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.2135299840609626,
        "ml_loss_threshold": 0.0015065741910231844,
        "ml_dir_penalty": 2.26756675584974,
        "n_seeds": 4,
        "ml_adaptive_k_1d": 2.2793560813927374,
        "ml_pattern_weight_scale_1d": 1.5564471393677874,
        "enable_talib_patterns_short": true,
        "external_min_days": 55,
        "external_smooth_alpha": 0.09751299743410327,
        "regime_scale_low": 0.9187848538345041,
        "regime_scale_high": 1.0809831948129287,
        "yolo_min_conf": 0.6626763403193745,
        "smart_consensus_weight": 0.4487513189225747,
        "smart_performance_weight": 0.24410045370048386,
        "smart_sigma": 0.002152231413099778,
        "smart_weight_xgb": 0.6597507793560532,
        "smart_weight_lgbm": 0.6956986484204766,
        "smart_weight_cat": 0.5469874451822812,
        "xgb_n_estimators": 518,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.033072010783225914,
        "xgb_subsample": 0.8681085211817549,
        "xgb_colsample_bytree": 0.757037473838265,
        "xgb_reg_alpha": 5.374398121450177e-06,
        "xgb_reg_lambda": 1.5819613469466582,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.001231981610579346,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 417,
        "lgb_n_estimators": 120,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.010525309262059723,
        "lgb_num_leaves": 11,
        "lgb_subsample": 0.6142387050841548,
        "lgb_colsample_bytree": 0.8467989175059932,
        "lgb_reg_alpha": 0.15229868225896523,
        "lgb_reg_lambda": 0.00026173317564726295,
        "lgb_min_data_in_leaf": 55,
        "lgb_feature_fraction_bynode": 0.8048261322588015,
        "lgb_bagging_freq": 8,
        "lgb_min_gain_to_split": 0.8431320514435082,
        "cat_iterations": 599,
        "cat_depth": 5,
        "cat_learning_rate": 0.05212155806395511,
        "cat_l2_leaf_reg": 1.0070646424355185,
        "cat_subsample": 0.7344063269900046,
        "cat_rsm": 0.7589310712162802,
        "cat_border_count": 56,
        "cat_random_strength": 0.59554554277787,
        "cat_leaf_estimation_iterations": 16,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 68.61129272456503,
        "avg_nrmse": 1.0674857526066501,
        "model_choice": "all",
        "symbol_metrics": {
          "BINBN_1d": {
            "symbol": "BINBN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 167,
                "test_days": 30,
                "train_end_idx": 167,
                "test_end_idx": 197,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-06-11T00:00:00",
                "test_start": "2025-06-12T00:00:00",
                "test_end": "2025-07-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -4.302285724380024,
                    "rmse": 0.09555402688995472,
                    "mape": 1.418679909193781,
                    "confidence": 0.3000000002955416
                  },
                  "lightgbm": {
                    "raw_r2": -0.04672932017961876,
                    "rmse": 0.04836437243563374,
                    "mape": 1.6137807840541323,
                    "confidence": 0.5872042127643997
                  },
                  "catboost": {
                    "raw_r2": -0.042526301248199415,
                    "rmse": 0.04831232831777843,
                    "mape": 1.6406344552708794,
                    "confidence": 0.5905769775370808
                  }
                },
                "dirhit": 84.21052631578947,
                "rmse": 0.038004574648993886,
                "mape": 211.24141926864075,
                "nrmse": 0.9428348042361022,
                "mask_count": 19,
                "mask_pct": 65.51724137931035,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 197,
                "test_days": 30,
                "train_end_idx": 197,
                "test_end_idx": 227,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-07-24T00:00:00",
                "test_start": "2025-07-25T00:00:00",
                "test_end": "2025-09-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -5.511822589573742,
                    "rmse": 0.09620456111145258,
                    "mape": 1.4420340173311488,
                    "confidence": 0.30000000000069843
                  },
                  "lightgbm": {
                    "raw_r2": -0.043689287046930016,
                    "rmse": 0.046863977191286536,
                    "mape": 1.576102501277914,
                    "confidence": 0.589642942409671
                  },
                  "catboost": {
                    "raw_r2": -0.009604696742273119,
                    "rmse": 0.046028898766645905,
                    "mape": 1.5802866445145096,
                    "confidence": 0.6171976833502428
                  }
                },
                "dirhit": 57.14285714285714,
                "rmse": 0.03178363364877658,
                "mape": 159.9193538637832,
                "nrmse": 1.241364526877406,
                "mask_count": 21,
                "mask_pct": 72.41379310344827,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 227,
                "test_days": 30,
                "train_end_idx": 227,
                "test_end_idx": 257,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-09-04T00:00:00",
                "test_start": "2025-09-05T00:00:00",
                "test_end": "2025-10-16T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -5.340409614520269,
                    "rmse": 0.0948540834644653,
                    "mape": 1.452484986798569,
                    "confidence": 0.30000000000164573
                  },
                  "lightgbm": {
                    "raw_r2": -0.062543835999377,
                    "rmse": 0.04499950145271437,
                    "mape": 1.614217926493998,
                    "confidence": 0.5745932520603529
                  },
                  "catboost": {
                    "raw_r2": -0.07310997651677346,
                    "rmse": 0.04502016676324525,
                    "mape": 1.6122454995622622,
                    "confidence": 0.5662508958719223
                  }
                },
                "dirhit": 72.22222222222221,
                "rmse": 0.034232509591412726,
                "mape": 256.59727733884756,
                "nrmse": 1.0165896718861616,
                "mask_count": 18,
                "mask_pct": 62.06896551724138,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 257,
                "test_days": 30,
                "train_end_idx": 257,
                "test_end_idx": 287,
                "train_start": "2024-10-09T00:00:00",
                "train_end": "2025-10-16T00:00:00",
                "test_start": "2025-10-17T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -4.690874536093994,
                    "rmse": 0.0955980315333976,
                    "mape": 1.4890575251079519,
                    "confidence": 0.3000000000423456
                  },
                  "lightgbm": {
                    "raw_r2": -0.08724229572415942,
                    "rmse": 0.045044548372685365,
                    "mape": 1.6358092856788236,
                    "confidence": 0.5552186437960286
                  },
                  "catboost": {
                    "raw_r2": -0.05294161470871295,
                    "rmse": 0.04483525878539997,
                    "mape": 1.585807730499922,
                    "confidence": 0.5822343638803771
                  }
                },
                "dirhit": 60.86956521739131,
                "rmse": 0.05193293074211259,
                "mape": 14065444.942902658,
                "nrmse": 1.069154007426931,
                "mask_count": 23,
                "mask_pct": 79.3103448275862,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 68.61129272456503,
            "avg_nrmse": 1.0674857526066501,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -4.961348116142007,
                "rmse": 0.09555267574981754,
                "mape": 1.4505641096078625,
                "confidence": 0.30000000008505784
              },
              "lightgbm": {
                "raw_r2": -0.0600511847375213,
                "rmse": 0.046318099863080005,
                "mape": 1.609977624376217,
                "confidence": 0.576664762757613
              },
              "catboost": {
                "raw_r2": -0.04454564730398974,
                "rmse": 0.04604916315826739,
                "mape": 1.6047435824618932,
                "confidence": 0.5890649801599057
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_BINBN_h1_c2",
  "symbols": [
    "BINBN"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "enable_talib_patterns_short": true
  },
  "feature_params": {},
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 277,
    "xgb_max_depth": 6,
    "xgb_learning_rate": 0.026679353477943896,
    "xgb_subsample": 0.8894591424232011,
    "xgb_colsample_bytree": 0.7402295569296171,
    "xgb_reg_alpha": 1.5860615189901866e-05,
    "xgb_reg_lambda": 0.983301789108835,
    "xgb_min_child_weight": 15,
    "xgb_gamma": 0.0008101617796590645,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 512,
    "lgb_n_estimators": 120,
    "lgb_max_depth": 4,
    "lgb_learning_rate": 0.012825011288635188,
    "lgb_num_leaves": 14,
    "lgb_subsample": 0.5269472524040222,
    "lgb_colsample_bytree": 0.560176265819559,
    "lgb_reg_alpha": 0.00030483079008569036,
    "lgb_reg_lambda": 0.0004975443433867889,
    "lgb_min_data_in_leaf": 38,
    "lgb_feature_fraction_bynode": 0.7405337140461896,
    "lgb_bagging_freq": 4,
    "lgb_min_gain_to_split": 0.8952210348844725,
    "cat_iterations": 533,
    "cat_depth": 8,
    "cat_learning_rate": 0.0638019452955682,
    "cat_l2_leaf_reg": 5.785751011584882,
    "cat_subsample": 0.5114014712038095,
    "cat_rsm": 0.7785360996835614,
    "cat_border_count": 82,
    "cat_random_strength": 0.6545740180085758,
    "cat_leaf_estimation_iterations": 15,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {},
  "best_trial_metrics": {
    "BINBN_1d": {
      "symbol": "BINBN",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 167,
          "test_days": 30,
          "train_end_idx": 167,
          "test_end_idx": 197,
          "train_start": "2024-10-09T00:00:00",
          "train_end": "2025-06-11T00:00:00",
          "test_start": "2025-06-12T00:00:00",
          "test_end": "2025-07-24T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -8.07655944760973,
              "rmse": 0.12452179855139638,
              "mape": 1.5167887016191757,
              "confidence": 0.3
            },
            "lightgbm": {
              "raw_r2": -0.04672932017961876,
              "rmse": 0.04836437243563374,
              "mape": 1.6137807840541323,
              "confidence": 0.5872042127643997
            },
            "catboost": {
              "raw_r2": -0.013948793073703633,
              "rmse": 0.04769483495599934,
              "mape": 1.5956831241580551,
              "confidence": 0.6136711974050508
            }
          },
          "dirhit": 78.26086956521739,
          "rmse": 0.05176123546910728,
          "mape": 223.22545791867253,
          "nrmse": 1.2841163139245007,
          "mask_count": 23,
          "mask_pct": 79.3103448275862,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 2,
          "train_days": 197,
          "test_days": 30,
          "train_end_idx": 197,
          "test_end_idx": 227,
          "train_start": "2024-10-09T00:00:00",
          "train_end": "2025-07-24T00:00:00",
          "test_start": "2025-07-25T00:00:00",
          "test_end": "2025-09-04T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -10.416796801712861,
              "rmse": 0.12634496551469537,
              "mape": 1.5413914607069454,
              "confidence": 0.3
            },
            "lightgbm": {
              "raw_r2": -0.043689287046930016,
              "rmse": 0.046863977191286536,
              "mape": 1.576102501277914,
              "confidence": 0.589642942409671
            },
            "catboost": {
              "raw_r2": -0.030525930424744052,
              "rmse": 0.046503967483751574,
              "mape": 1.6079195265104957,
              "confidence": 0.6002457188026257
            }
          },
          "dirhit": 52.63157894736842,
          "rmse": 0.03578394222407342,
          "mape": 211.7809262084387,
          "nrmse": 1.397603464716036,
          "mask_count": 19,
          "mask_pct": 65.51724137931035,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 3,
          "train_days": 227,
          "test_days": 30,
          "train_end_idx": 227,
          "test_end_idx": 257,
          "train_start": "2024-10-09T00:00:00",
          "train_end": "2025-09-04T00:00:00",
          "test_start": "2025-09-05T00:00:00",
          "test_end": "2025-10-16T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -10.393311823886991,
              "rmse": 0.1250085890446129,
              "mape": 1.5516057180529557,
              "confidence": 0.3
            },
            "lightgbm": {
              "raw_r2": -0.062543835999377,
              "rmse": 0.04499950145271437,
              "mape": 1.614217926493998,
              "confidence": 0.5745932520603529
            },
            "catboost": {
              "raw_r2": -0.03991554784474075,
              "rmse": 0.04472252568069875,
              "mape": 1.5674772104771952,
              "confidence": 0.5926758389265687
            }
          },
          "dirhit": 92.85714285714286,
          "rmse": 0.031191330722984037,
          "mape": 243.09863063459036,
          "nrmse": 0.9262769526346759,
          "mask_count": 14,
          "mask_pct": 48.275862068965516,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 4,
          "train_days": 257,
          "test_days": 30,
          "train_end_idx": 257,
          "test_end_idx": 287,
          "train_start": "2024-10-09T00:00:00",
          "train_end": "2025-10-16T00:00:00",
          "test_start": "2025-10-17T00:00:00",
          "test_end": "2025-11-28T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -9.05281670351737,
              "rmse": 0.12648518603285708,
              "mape": 1.582187333275365,
              "confidence": 0.3
            },
            "lightgbm": {
              "raw_r2": -0.08724229572415942,
              "rmse": 0.045044548372685365,
              "mape": 1.6358092856788236,
              "confidence": 0.5552186437960286
            },
            "catboost": {
              "raw_r2": -0.06893514852099902,
              "rmse": 0.04488531969881823,
              "mape": 1.6060017242643767,
              "confidence": 0.5695381859845722
            }
          },
          "dirhit": 60.86956521739131,
          "rmse": 0.058007218409689795,
          "mape": 14177226.984968787,
          "nrmse": 1.194206626434775,
          "mask_count": 23,
          "mask_pct": 79.3103448275862,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        }
      ],
      "avg_dirhit": 71.15478914677999,
      "avg_nrmse": 1.200550839427497,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -9.48487119418174,
          "rmse": 0.12559013478589043,
          "mape": 1.5479933034136104,
          "confidence": 0.3
        },
        "lightgbm": {
          "raw_r2": -0.0600511847375213,
          "rmse": 0.046318099863080005,
          "mape": 1.609977624376217,
          "confidence": 0.576664762757613
        },
        "catboost": {
          "raw_r2": -0.038331354966046866,
          "rmse": 0.04595166195481697,
          "mape": 1.5942703963525306,
          "confidence": 0.5940327352797043
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 10,
    "min_mask_pct": 5.0,
    "best_trial_number": 1009,
    "best_trial_seed": 1051,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "BINBN_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 167,
            "test_end_idx": 197,
            "train_start": "2024-10-09T00:00:00",
            "train_end": "2025-06-11T00:00:00",
            "test_start": "2025-06-12T00:00:00",
            "test_end": "2025-07-24T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 197,
            "test_end_idx": 227,
            "train_start": "2024-10-09T00:00:00",
            "train_end": "2025-07-24T00:00:00",
            "test_start": "2025-07-25T00:00:00",
            "test_end": "2025-09-04T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 227,
            "test_end_idx": 257,
            "train_start": "2024-10-09T00:00:00",
            "train_end": "2025-09-04T00:00:00",
            "test_start": "2025-09-05T00:00:00",
            "test_end": "2025-10-16T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 257,
            "test_end_idx": 287,
            "train_start": "2024-10-09T00:00:00",
            "train_end": "2025-10-16T00:00:00",
            "test_start": "2025-10-17T00:00:00",
            "test_end": "2025-11-28T00:00:00"
          }
        ]
      }
    }
  },
  "_updated_at": "2025-12-02T19:55:40.872814",
  "_updated_reason": "filtered_best_params_from_study",
  "_filter_used": {
    "min_mask_count": 10,
    "min_mask_pct": 5.0
  }
}