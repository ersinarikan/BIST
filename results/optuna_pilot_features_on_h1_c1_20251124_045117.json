{
  "best_value": 63.91160392150297,
  "best_dirhit": 100.0,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "model_choice": "cat",
    "ml_adaptive_k_1d": 2.0123807994273033,
    "ml_pattern_weight_scale_1d": 0.7352679717486778,
    "enable_talib_patterns_short": false,
    "external_min_days": 30,
    "external_smooth_alpha": 0.3098962900562362,
    "regime_scale_low": 0.8358419429915181,
    "regime_scale_high": 1.0911360051215773,
    "yolo_min_conf": 0.3609882162284165,
    "smart_consensus_weight": 0.4980477990328221,
    "smart_performance_weight": 0.30274654227611203,
    "smart_sigma": 0.006265062247006627,
    "smart_weight_xgb": 1.4347763795694592,
    "smart_weight_lgbm": 0.8375917584670297,
    "smart_weight_cat": 1.0914832330113808,
    "fingpt_confidence_threshold": 0.21395464604305442,
    "cat_iterations": 565,
    "cat_depth": 6,
    "cat_learning_rate": 0.011605627014170963,
    "cat_l2_leaf_reg": 9.232927085669782,
    "cat_subsample": 0.7085883245977884,
    "cat_rsm": 0.9380244042319278,
    "cat_border_count": 67,
    "cat_random_strength": 1.956397893177778,
    "cat_leaf_estimation_iterations": 9,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 627,
    "value": 63.91160392150297,
    "state": "1"
  },
  "n_trials": 1377,
  "pruned_count": 0,
  "avg_trial_time": 189.69344942805233,
  "top_k_trials": [
    {
      "number": 627,
      "value": 63.91160392150297,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_adaptive_k_1d": 2.0123807994273033,
        "ml_pattern_weight_scale_1d": 0.7352679717486778,
        "enable_talib_patterns_short": false,
        "external_min_days": 30,
        "external_smooth_alpha": 0.3098962900562362,
        "regime_scale_low": 0.8358419429915181,
        "regime_scale_high": 1.0911360051215773,
        "yolo_min_conf": 0.3609882162284165,
        "smart_consensus_weight": 0.4980477990328221,
        "smart_performance_weight": 0.30274654227611203,
        "smart_sigma": 0.006265062247006627,
        "smart_weight_xgb": 1.4347763795694592,
        "smart_weight_lgbm": 0.8375917584670297,
        "smart_weight_cat": 1.0914832330113808,
        "fingpt_confidence_threshold": 0.21395464604305442,
        "cat_iterations": 565,
        "cat_depth": 6,
        "cat_learning_rate": 0.011605627014170963,
        "cat_l2_leaf_reg": 9.232927085669782,
        "cat_subsample": 0.7085883245977884,
        "cat_rsm": 0.9380244042319278,
        "cat_border_count": 67,
        "cat_random_strength": 1.956397893177778,
        "cat_leaf_estimation_iterations": 9,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 1.0147326797495047,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 557,
      "value": 63.90359466434194,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.1966344594510416,
        "ml_pattern_weight_scale_1d": 0.638881126481913,
        "enable_talib_patterns_short": false,
        "external_min_days": 26,
        "external_smooth_alpha": 0.32856734392271675,
        "regime_scale_low": 0.841274413193499,
        "regime_scale_high": 1.1061425278172046,
        "yolo_min_conf": 0.3941847285040972,
        "smart_consensus_weight": 0.43913354730052423,
        "smart_performance_weight": 0.35064712945466997,
        "smart_sigma": 0.0065000368904059155,
        "smart_weight_xgb": 1.0221687129765265,
        "smart_weight_lgbm": 0.7478335896250882,
        "smart_weight_cat": 1.1041913517581772,
        "fingpt_confidence_threshold": 0.21627452767653774,
        "xgb_n_estimators": 319,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.014180337328122464,
        "xgb_subsample": 0.704115948740003,
        "xgb_colsample_bytree": 0.6287596278317109,
        "xgb_reg_alpha": 2.045817388422955e-06,
        "xgb_reg_lambda": 0.8913555479368229,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.16989109445623288,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 158,
        "lgb_n_estimators": 514,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.010940018312083716,
        "lgb_num_leaves": 60,
        "lgb_subsample": 0.5225846765830905,
        "lgb_colsample_bytree": 0.6298500309520828,
        "lgb_reg_alpha": 0.0004425135075219518,
        "lgb_reg_lambda": 0.0004591438214462824,
        "lgb_min_data_in_leaf": 27,
        "lgb_feature_fraction_bynode": 0.8798567973078377,
        "lgb_bagging_freq": 10,
        "lgb_min_gain_to_split": 0.4851165025334554,
        "cat_iterations": 585,
        "cat_depth": 6,
        "cat_learning_rate": 0.011349709642503479,
        "cat_l2_leaf_reg": 9.07887195268297,
        "cat_subsample": 0.7035908452115183,
        "cat_rsm": 0.9321053512535032,
        "cat_border_count": 21,
        "cat_random_strength": 2.031012335754582,
        "cat_leaf_estimation_iterations": 16,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 1.01606755594301,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 574,
      "value": 63.90175372507805,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.0906990691109506,
        "ml_pattern_weight_scale_1d": 0.5862303494588816,
        "enable_talib_patterns_short": false,
        "external_min_days": 27,
        "external_smooth_alpha": 0.3123220815701858,
        "regime_scale_low": 0.8340104404688302,
        "regime_scale_high": 1.097385998428247,
        "yolo_min_conf": 0.3775494035078686,
        "smart_consensus_weight": 0.4475432357678059,
        "smart_performance_weight": 0.3475890880582822,
        "smart_sigma": 0.0061584861479030755,
        "smart_weight_xgb": 1.3724728512330737,
        "smart_weight_lgbm": 0.7048888286819004,
        "smart_weight_cat": 1.0812292260289527,
        "fingpt_confidence_threshold": 0.22569247049081637,
        "xgb_n_estimators": 360,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.015438213329981796,
        "xgb_subsample": 0.7263822628034973,
        "xgb_colsample_bytree": 0.6165364597704572,
        "xgb_reg_alpha": 2.192395847648404e-06,
        "xgb_reg_lambda": 0.255280787486065,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.29444744234479653,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 167,
        "lgb_n_estimators": 479,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.02096727575166322,
        "lgb_num_leaves": 60,
        "lgb_subsample": 0.5331377993286369,
        "lgb_colsample_bytree": 0.5896811662895907,
        "lgb_reg_alpha": 0.0008323239060358666,
        "lgb_reg_lambda": 0.0024355089925010283,
        "lgb_min_data_in_leaf": 52,
        "lgb_feature_fraction_bynode": 0.8905260898026583,
        "lgb_bagging_freq": 10,
        "lgb_min_gain_to_split": 0.5787148781394785,
        "cat_iterations": 580,
        "cat_depth": 6,
        "cat_learning_rate": 0.011372666985416495,
        "cat_l2_leaf_reg": 9.103727977215083,
        "cat_subsample": 0.7416488560853934,
        "cat_rsm": 0.9488743823292549,
        "cat_border_count": 42,
        "cat_random_strength": 2.2563112159986285,
        "cat_leaf_estimation_iterations": 10,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 1.0163743791536586,
        "model_choice": "all"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ACSEL_h1_c1",
  "symbols": [
    "ACSEL"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_adaptive_k_1d": 2.0123807994273033,
    "ml_pattern_weight_scale_1d": 0.7352679717486778,
    "external_min_days": 30,
    "external_smooth_alpha": 0.3098962900562362,
    "regime_scale_low": 0.8358419429915181,
    "regime_scale_high": 1.0911360051215773,
    "yolo_min_conf": 0.3609882162284165,
    "smart_consensus_weight": 0.4980477990328221,
    "smart_performance_weight": 0.30274654227611203,
    "smart_sigma": 0.006265062247006627,
    "smart_weight_xgb": 1.4347763795694592,
    "smart_weight_lgbm": 0.8375917584670297,
    "smart_weight_cat": 1.0914832330113808,
    "fingpt_confidence_threshold": 0.21395464604305442
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 565,
    "cat_depth": 6,
    "cat_learning_rate": 0.011605627014170963,
    "cat_l2_leaf_reg": 9.232927085669782,
    "cat_subsample": 0.7085883245977884,
    "cat_rsm": 0.9380244042319278,
    "cat_border_count": 67,
    "cat_random_strength": 1.956397893177778,
    "cat_leaf_estimation_iterations": 9,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ACSEL_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0007363415534907825,
              "rmse": 0.031121674540953315,
              "mape": 1.6951600199779562,
              "confidence": 0.6244017231635908
            },
            "catboost": {
              "raw_r2": -0.002622215378803583,
              "rmse": 0.031186489087767433,
              "mape": 1.7207758365809647,
              "confidence": 0.622869480524386
            }
          },
          "dirhit": 60.0,
          "rmse": 0.025261671826863858,
          "mape": 2701971.6216029096,
          "nrmse": 1.021823863761436,
          "mask_count": 5,
          "mask_pct": 17.24137931034483
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.024472595287063432,
              "rmse": 0.03038106056049146,
              "mape": 1.7033613464024022,
              "confidence": 0.644859211021203
            },
            "catboost": {
              "raw_r2": -0.0015632068189623445,
              "rmse": 0.030773278009237615,
              "mape": 1.7344786513525787,
              "confidence": 0.6237299009254904
            }
          },
          "dirhit": 42.857142857142854,
          "rmse": 0.023099187961111028,
          "mape": 98.5587021231612,
          "nrmse": 1.0140602397587206,
          "mask_count": 7,
          "mask_pct": 24.137931034482758
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.016124958010021933,
              "rmse": 0.029522777182325786,
              "mape": 1.6871781750013508,
              "confidence": 0.6380944359427189
            },
            "catboost": {
              "raw_r2": -0.012547024289948064,
              "rmse": 0.02992953879500887,
              "mape": 1.6852434890986967,
              "confidence": 0.6148088849722899
            }
          },
          "dirhit": 37.5,
          "rmse": 0.02687780733285707,
          "mape": 107.92445818216314,
          "nrmse": 1.0989510508572735,
          "mask_count": 8,
          "mask_pct": 27.586206896551722
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.0005743074978928527,
              "rmse": 0.02864361976498915,
              "mape": 1.7334917843812965,
              "confidence": 0.6254666245213998
            },
            "catboost": {
              "raw_r2": -0.01017242284461591,
              "rmse": 0.02884438240693624,
              "mape": 1.6821305831703592,
              "confidence": 0.6167366877631246
            }
          },
          "dirhit": 0.0,
          "rmse": 0.01974404598488883,
          "mape": 229415.93348736563,
          "nrmse": 0.9821639781243499,
          "mask_count": 0,
          "mask_pct": 0.0
        }
      ],
      "avg_dirhit": 35.089285714285715,
      "avg_nrmse": 1.029249783125445,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": 0.01010887981037186,
          "rmse": 0.02991728301218993,
          "mape": 1.7047978314407515,
          "confidence": 0.6332054986622281
        },
        "catboost": {
          "raw_r2": -0.006726217333082476,
          "rmse": 0.030183422074737537,
          "mape": 1.7056571400506497,
          "confidence": 0.6195362385463228
        }
      }
    }
  }
}