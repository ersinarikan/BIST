{
  "best_value": 90.0,
  "best_dirhit": 78.33333333333333,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "model_choice": "cat",
    "n_seeds": 3,
    "meta_stacking_alpha": 0.09741453396575188,
    "ml_adaptive_k_1d": 2.8161599795133547,
    "ml_pattern_weight_scale_1d": 1.132948249135384,
    "enable_talib_patterns_short": true,
    "external_min_days": 21,
    "external_smooth_alpha": 0.46222691795407517,
    "regime_scale_low": 0.9030036564120765,
    "regime_scale_high": 1.0931841166057215,
    "yolo_min_conf": 0.7455664556749114,
    "smart_consensus_weight": 0.377459807534537,
    "smart_performance_weight": 0.5881013029158254,
    "smart_sigma": 0.002778751488026812,
    "smart_weight_xgb": 1.4288954602909,
    "smart_weight_lgbm": 0.9712749022682615,
    "smart_weight_cat": 0.709656856494846,
    "fingpt_confidence_threshold": 0.20069787352754148,
    "cat_iterations": 136,
    "cat_depth": 2,
    "cat_learning_rate": 0.028902013865093678,
    "cat_l2_leaf_reg": 6.258451052743357,
    "cat_subsample": 0.5369506566114929,
    "cat_rsm": 0.593716840584216,
    "cat_border_count": 108,
    "cat_random_strength": 0.2668751783656413,
    "cat_leaf_estimation_iterations": 10,
    "cat_bootstrap_type": "No"
  },
  "best_trial": {
    "number": 106,
    "value": 48.77649191356389,
    "state": "1"
  },
  "best_trial_number": 106,
  "best_trial_seed": 148,
  "n_trials": 1466,
  "pruned_count": 0,
  "avg_trial_time": 0.0,
  "top_k_trials": [],
  "study_name": "hpo_with_features_ALVES_h1_c2",
  "symbols": [
    "ALVES"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "n_seeds": 3,
    "meta_stacking_alpha": 0.09741453396575188,
    "ml_adaptive_k_1d": 2.8161599795133547,
    "ml_pattern_weight_scale_1d": 1.132948249135384,
    "external_min_days": 21,
    "external_smooth_alpha": 0.46222691795407517,
    "regime_scale_low": 0.9030036564120765,
    "regime_scale_high": 1.0931841166057215,
    "yolo_min_conf": 0.7455664556749114,
    "smart_consensus_weight": 0.377459807534537,
    "smart_performance_weight": 0.5881013029158254,
    "smart_sigma": 0.002778751488026812,
    "smart_weight_xgb": 1.4288954602909,
    "smart_weight_lgbm": 0.9712749022682615,
    "smart_weight_cat": 0.709656856494846,
    "fingpt_confidence_threshold": 0.20069787352754148
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 136,
    "cat_depth": 2,
    "cat_learning_rate": 0.028902013865093678,
    "cat_l2_leaf_reg": 6.258451052743357,
    "cat_subsample": 0.5369506566114929,
    "cat_rsm": 0.593716840584216,
    "cat_border_count": 108,
    "cat_random_strength": 0.2668751783656413,
    "cat_leaf_estimation_iterations": 10,
    "cat_bootstrap_type": "No"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ALVES_1d": {
      "symbol": "ALVES",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 312,
          "test_days": 30,
          "train_end_idx": 312,
          "test_end_idx": 342,
          "train_start": "2024-02-29T00:00:00",
          "train_end": "2025-06-04T00:00:00",
          "test_start": "2025-06-05T00:00:00",
          "test_end": "2025-07-21T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.005845657802120245,
              "rmse": 0.03438695728589693,
              "mape": 1.8300394866003666,
              "confidence": 0.6297492588642011
            },
            "catboost": {
              "raw_r2": -0.009524939792068884,
              "rmse": 0.034676464757768304,
              "mape": 1.623576123053614,
              "confidence": 0.6172624488330191
            }
          },
          "dirhit": 66.66666666666666,
          "rmse": 0.027618871009695446,
          "mape": 121.3342652589539,
          "nrmse": 1.0159245895917508,
          "mask_count": 3,
          "mask_pct": 10.344827586206897,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        },
        {
          "split_index": 2,
          "train_days": 342,
          "test_days": 30,
          "train_end_idx": 342,
          "test_end_idx": 372,
          "train_start": "2024-02-29T00:00:00",
          "train_end": "2025-07-21T00:00:00",
          "test_start": "2025-07-22T00:00:00",
          "test_end": "2025-09-01T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.001445585588662368,
              "rmse": 0.03380286674178622,
              "mape": 1.8396178989623373,
              "confidence": 0.6261745331773703
            },
            "catboost": {
              "raw_r2": -0.008576198593702733,
              "rmse": 0.033964929076698534,
              "mape": 1.7262883800940045,
              "confidence": 0.6180329061890404
            }
          },
          "dirhit": 100.0,
          "rmse": 0.041192831197046385,
          "mape": 109.99861130700104,
          "nrmse": 0.9917010778055965,
          "mask_count": 6,
          "mask_pct": 20.689655172413794,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        },
        {
          "split_index": 3,
          "train_days": 372,
          "test_days": 30,
          "train_end_idx": 372,
          "test_end_idx": 402,
          "train_start": "2024-02-29T00:00:00",
          "train_end": "2025-09-01T00:00:00",
          "test_start": "2025-09-02T00:00:00",
          "test_end": "2025-10-13T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.002810475472523629,
              "rmse": 0.03416850437115063,
              "mape": 1.7707168602306758,
              "confidence": 0.6227165262547829
            },
            "catboost": {
              "raw_r2": 0.0005949614457834521,
              "rmse": 0.034083715809350545,
              "mape": 1.6330618294605432,
              "confidence": 0.6254834058182084
            }
          },
          "dirhit": 80.0,
          "rmse": 0.02419136155250876,
          "mape": 677418.795774822,
          "nrmse": 1.02501180326619,
          "mask_count": 5,
          "mask_pct": 17.24137931034483,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        },
        {
          "split_index": 4,
          "train_days": 402,
          "test_days": 30,
          "train_end_idx": 402,
          "test_end_idx": 432,
          "train_start": "2024-02-29T00:00:00",
          "train_end": "2025-10-13T00:00:00",
          "test_start": "2025-10-14T00:00:00",
          "test_end": "2025-11-25T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.007862875339784173,
              "rmse": 0.032892977145036306,
              "mape": 1.7069096725408943,
              "confidence": 0.6313877634800712
            },
            "catboost": {
              "raw_r2": -0.005578682647975601,
              "rmse": 0.03313814794763998,
              "mape": 1.5819729066283044,
              "confidence": 0.6204676142104409
            }
          },
          "dirhit": 66.66666666666666,
          "rmse": 0.02608880990258501,
          "mape": 117.06836275379204,
          "nrmse": 1.0052568091827563,
          "mask_count": 3,
          "mask_pct": 10.344827586206897,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        }
      ],
      "avg_dirhit": 78.33333333333333,
      "avg_nrmse": 1.0094735699615733,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": 0.0030859108145107894,
          "rmse": 0.03381282638596752,
          "mape": 1.7868209795835686,
          "confidence": 0.6275070204441063
        },
        "catboost": {
          "raw_r2": -0.005771214896990942,
          "rmse": 0.03396581439786434,
          "mape": 1.6412248098091167,
          "confidence": 0.6203115937626772
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 5,
    "min_mask_pct": 2.5,
    "best_trial_number": 106,
    "best_trial_seed": 148,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "symbol_specs": {
      "ALVES_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 312,
            "test_end_idx": 342,
            "train_start": "2024-02-29T00:00:00",
            "train_end": "2025-06-04T00:00:00",
            "test_start": "2025-06-05T00:00:00",
            "test_end": "2025-07-21T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 342,
            "test_end_idx": 372,
            "train_start": "2024-02-29T00:00:00",
            "train_end": "2025-07-21T00:00:00",
            "test_start": "2025-07-22T00:00:00",
            "test_end": "2025-09-01T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 372,
            "test_end_idx": 402,
            "train_start": "2024-02-29T00:00:00",
            "train_end": "2025-09-01T00:00:00",
            "test_start": "2025-09-02T00:00:00",
            "test_end": "2025-10-13T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 402,
            "test_end_idx": 432,
            "train_start": "2024-02-29T00:00:00",
            "train_end": "2025-10-13T00:00:00",
            "test_start": "2025-10-14T00:00:00",
            "test_end": "2025-11-25T00:00:00"
          }
        ]
      }
    }
  },
  "_created_at": "2025-12-03T02:39:41.220143",
  "_created_from": "study_database",
  "_filter_applied": {
    "min_mask_count": 5,
    "min_mask_pct": 2.5
  }
}