{
  "best_value": 45.98317521848627,
  "best_dirhit": 75.1086956521739,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "model_choice": "all",
    "ml_loss_mse_weight": 0.3301037892889023,
    "ml_loss_threshold": 0.0031479141920740176,
    "ml_dir_penalty": 4.1990335848703575,
    "meta_stacking_alpha": 6.6997660091383,
    "ml_adaptive_k_1d": 2.205881253422777,
    "ml_pattern_weight_scale_1d": 0.6332769389097817,
    "enable_talib_patterns_short": false,
    "external_min_days": 42,
    "external_smooth_alpha": 0.2719480732457706,
    "smart_consensus_weight": 0.3383185709763803,
    "smart_performance_weight": 0.4661768803145721,
    "smart_sigma": 0.0011753138388151743,
    "smart_weight_xgb": 0.749853760055943,
    "smart_weight_lgbm": 1.4588133241135082,
    "smart_weight_cat": 1.45523161408006,
    "xgb_n_estimators": 417,
    "xgb_max_depth": 4,
    "xgb_learning_rate": 0.052100797150405914,
    "xgb_subsample": 0.8095817394884101,
    "xgb_colsample_bytree": 0.735175086930089,
    "xgb_reg_alpha": 0.00421144719609303,
    "xgb_reg_lambda": 0.0014640707899064617,
    "xgb_min_child_weight": 15,
    "xgb_gamma": 0.014220027664219665,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 198,
    "lgb_n_estimators": 270,
    "lgb_max_depth": 2,
    "lgb_learning_rate": 0.0326698827251913,
    "lgb_num_leaves": 57,
    "lgb_subsample": 0.6189791040149167,
    "lgb_colsample_bytree": 0.5216380406652901,
    "lgb_reg_alpha": 0.00022364365357700077,
    "lgb_reg_lambda": 0.2702161975903216,
    "lgb_min_data_in_leaf": 52,
    "lgb_feature_fraction_bynode": 0.9458383453775666,
    "lgb_bagging_freq": 8,
    "lgb_min_gain_to_split": 0.7437310731742541,
    "cat_iterations": 452,
    "cat_depth": 6,
    "cat_learning_rate": 0.1043151673842874,
    "cat_l2_leaf_reg": 6.938004605727775,
    "cat_subsample": 0.6112151314552648,
    "cat_rsm": 0.5977602773898401,
    "cat_border_count": 126,
    "cat_random_strength": 0.24100209115863955,
    "cat_leaf_estimation_iterations": 4,
    "cat_bootstrap_type": "Bayesian"
  },
  "best_trial": {
    "number": 807,
    "value": 45.98317521848627,
    "state": "1"
  },
  "n_trials": 1000,
  "pruned_count": 0,
  "avg_trial_time": 56.43133283983983,
  "top_k_trials": [
    {
      "number": 807,
      "value": 45.98317521848627,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.3301037892889023,
        "ml_loss_threshold": 0.0031479141920740176,
        "ml_dir_penalty": 4.1990335848703575,
        "meta_stacking_alpha": 6.6997660091383,
        "ml_adaptive_k_1d": 2.205881253422777,
        "ml_pattern_weight_scale_1d": 0.6332769389097817,
        "enable_talib_patterns_short": false,
        "external_min_days": 42,
        "external_smooth_alpha": 0.2719480732457706,
        "smart_consensus_weight": 0.3383185709763803,
        "smart_performance_weight": 0.4661768803145721,
        "smart_sigma": 0.0011753138388151743,
        "smart_weight_xgb": 0.749853760055943,
        "smart_weight_lgbm": 1.4588133241135082,
        "smart_weight_cat": 1.45523161408006,
        "xgb_n_estimators": 417,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.052100797150405914,
        "xgb_subsample": 0.8095817394884101,
        "xgb_colsample_bytree": 0.735175086930089,
        "xgb_reg_alpha": 0.00421144719609303,
        "xgb_reg_lambda": 0.0014640707899064617,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.014220027664219665,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 198,
        "lgb_n_estimators": 270,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.0326698827251913,
        "lgb_num_leaves": 57,
        "lgb_subsample": 0.6189791040149167,
        "lgb_colsample_bytree": 0.5216380406652901,
        "lgb_reg_alpha": 0.00022364365357700077,
        "lgb_reg_lambda": 0.2702161975903216,
        "lgb_min_data_in_leaf": 52,
        "lgb_feature_fraction_bynode": 0.9458383453775666,
        "lgb_bagging_freq": 8,
        "lgb_min_gain_to_split": 0.7437310731742541,
        "cat_iterations": 452,
        "cat_depth": 6,
        "cat_learning_rate": 0.1043151673842874,
        "cat_l2_leaf_reg": 6.938004605727775,
        "cat_subsample": 0.6112151314552648,
        "cat_rsm": 0.5977602773898401,
        "cat_border_count": 126,
        "cat_random_strength": 0.24100209115863955,
        "cat_leaf_estimation_iterations": 4,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 75.1086956521739,
        "avg_nrmse": 1.098818623005911,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 275,
      "value": 45.80658256886166,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.6283383698039492,
        "ml_loss_threshold": 0.008203718728482233,
        "ml_dir_penalty": 3.701299779676011,
        "n_seeds": 2,
        "meta_stacking_alpha": 2.680821462313181,
        "ml_adaptive_k_1d": 1.929216525752253,
        "ml_pattern_weight_scale_1d": 1.808789942886386,
        "enable_talib_patterns_short": false,
        "external_min_days": 49,
        "external_smooth_alpha": 0.20432516719338367,
        "smart_consensus_weight": 0.38082294761310775,
        "smart_performance_weight": 0.45495257944919765,
        "smart_sigma": 0.0026962978782157743,
        "smart_weight_xgb": 1.1128175102433095,
        "smart_weight_lgbm": 1.465774346254292,
        "smart_weight_cat": 1.0096200215490607,
        "xgb_n_estimators": 402,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.13165441720378873,
        "xgb_subsample": 0.8158542998996946,
        "xgb_colsample_bytree": 0.6807575736210137,
        "xgb_reg_alpha": 0.0004950946667981603,
        "xgb_reg_lambda": 0.001812445880267862,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.008307684142011874,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 288,
        "lgb_n_estimators": 256,
        "lgb_max_depth": 4,
        "lgb_learning_rate": 0.02786281040623195,
        "lgb_num_leaves": 63,
        "lgb_subsample": 0.633042432445533,
        "lgb_colsample_bytree": 0.6653480959709916,
        "lgb_reg_alpha": 7.030079807687436e-05,
        "lgb_reg_lambda": 0.24919741847237076,
        "lgb_min_data_in_leaf": 33,
        "lgb_feature_fraction_bynode": 0.8361935361430319,
        "lgb_bagging_freq": 3,
        "lgb_min_gain_to_split": 0.5769726553569207,
        "cat_iterations": 529,
        "cat_depth": 5,
        "cat_learning_rate": 0.09607193715650646,
        "cat_l2_leaf_reg": 7.760096885115391,
        "cat_subsample": 0.6398518996670477,
        "cat_rsm": 0.874417902308948,
        "cat_border_count": 139,
        "cat_random_strength": 0.20404719903289525,
        "cat_leaf_estimation_iterations": 6,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 75.0,
        "avg_nrmse": 1.1155695718563912,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 758,
      "value": 45.673176903007395,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.3895462573795033,
        "ml_loss_threshold": 0.0037697679193184922,
        "ml_dir_penalty": 3.1506296015811133,
        "meta_stacking_alpha": 4.839765394147717,
        "ml_adaptive_k_1d": 2.2944316103250557,
        "ml_pattern_weight_scale_1d": 1.786472649942898,
        "enable_talib_patterns_short": false,
        "external_min_days": 42,
        "external_smooth_alpha": 0.27736440080652675,
        "regime_scale_low": 0.8076604186657457,
        "regime_scale_high": 1.0946122816969237,
        "smart_consensus_weight": 0.3515031479307092,
        "smart_performance_weight": 0.39035443064878506,
        "smart_sigma": 0.0030917232944402415,
        "smart_weight_xgb": 0.7998703165259947,
        "smart_weight_lgbm": 1.4421125145779405,
        "smart_weight_cat": 1.2042517601245883,
        "xgb_n_estimators": 410,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.11753387318969313,
        "xgb_subsample": 0.8060459548939607,
        "xgb_colsample_bytree": 0.8746258743291977,
        "xgb_reg_alpha": 0.0009102463291052245,
        "xgb_reg_lambda": 0.0011806082545458146,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.010671504588284468,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 219,
        "lgb_n_estimators": 250,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.029587448134737477,
        "lgb_num_leaves": 60,
        "lgb_subsample": 0.6223037147355827,
        "lgb_colsample_bytree": 0.5248667367739646,
        "lgb_reg_alpha": 0.00014057072264215243,
        "lgb_reg_lambda": 0.0002086824552424873,
        "lgb_min_data_in_leaf": 57,
        "lgb_feature_fraction_bynode": 0.8993921195451414,
        "lgb_bagging_freq": 4,
        "lgb_min_gain_to_split": 0.534650272618635,
        "cat_iterations": 450,
        "cat_depth": 5,
        "cat_learning_rate": 0.07378986163869233,
        "cat_l2_leaf_reg": 7.605789376554763,
        "cat_subsample": 0.5707928405702476,
        "cat_rsm": 0.689498250931275,
        "cat_border_count": 149,
        "cat_random_strength": 0.266508522226251,
        "cat_leaf_estimation_iterations": 4,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 73.86363636363637,
        "avg_nrmse": 1.0052280919230108,
        "model_choice": "all"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_BALSU_h1_c1",
  "symbols": [
    "BALSU"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.3301037892889023,
    "ml_loss_threshold": 0.0031479141920740176,
    "ml_dir_penalty": 4.1990335848703575,
    "meta_stacking_alpha": 6.6997660091383,
    "ml_adaptive_k_1d": 2.205881253422777,
    "ml_pattern_weight_scale_1d": 0.6332769389097817,
    "external_min_days": 42,
    "external_smooth_alpha": 0.2719480732457706,
    "smart_consensus_weight": 0.3383185709763803,
    "smart_performance_weight": 0.4661768803145721,
    "smart_sigma": 0.0011753138388151743,
    "smart_weight_xgb": 0.749853760055943,
    "smart_weight_lgbm": 1.4588133241135082,
    "smart_weight_cat": 1.45523161408006
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 417,
    "xgb_max_depth": 4,
    "xgb_learning_rate": 0.052100797150405914,
    "xgb_subsample": 0.8095817394884101,
    "xgb_colsample_bytree": 0.735175086930089,
    "xgb_reg_alpha": 0.00421144719609303,
    "xgb_reg_lambda": 0.0014640707899064617,
    "xgb_min_child_weight": 15,
    "xgb_gamma": 0.014220027664219665,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 198,
    "lgb_n_estimators": 270,
    "lgb_max_depth": 2,
    "lgb_learning_rate": 0.0326698827251913,
    "lgb_num_leaves": 57,
    "lgb_subsample": 0.6189791040149167,
    "lgb_colsample_bytree": 0.5216380406652901,
    "lgb_reg_alpha": 0.00022364365357700077,
    "lgb_reg_lambda": 0.2702161975903216,
    "lgb_min_data_in_leaf": 52,
    "lgb_feature_fraction_bynode": 0.9458383453775666,
    "lgb_bagging_freq": 8,
    "lgb_min_gain_to_split": 0.7437310731742541,
    "cat_iterations": 452,
    "cat_depth": 6,
    "cat_learning_rate": 0.1043151673842874,
    "cat_l2_leaf_reg": 6.938004605727775,
    "cat_subsample": 0.6112151314552648,
    "cat_rsm": 0.5977602773898401,
    "cat_border_count": 126,
    "cat_random_strength": 0.24100209115863955,
    "cat_leaf_estimation_iterations": 4,
    "cat_bootstrap_type": "Bayesian"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  }
}