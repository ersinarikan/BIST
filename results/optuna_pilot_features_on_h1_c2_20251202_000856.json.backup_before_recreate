{
  "best_value": 56.88019838481648,
  "best_dirhit": 90.0,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "lgbm",
    "n_seeds": 3,
    "ml_adaptive_k_1d": 2.3406744760367415,
    "ml_pattern_weight_scale_1d": 0.9481414673408888,
    "enable_talib_patterns_short": true,
    "external_min_days": 33,
    "external_smooth_alpha": 0.21858018310081495,
    "fingpt_confidence_threshold": 0.3506041823871676,
    "lgb_n_estimators": 581,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.01665493231210222,
    "lgb_num_leaves": 63,
    "lgb_subsample": 0.8479696349833397,
    "lgb_colsample_bytree": 0.7849115186451281,
    "lgb_reg_alpha": 0.4812074670596728,
    "lgb_reg_lambda": 2.830173817319875,
    "lgb_min_data_in_leaf": 52,
    "lgb_feature_fraction_bynode": 0.6039581095227675,
    "lgb_bagging_freq": 8,
    "lgb_min_gain_to_split": 0.5577786945573949
  },
  "best_trial": {
    "number": 1277,
    "value": 56.88019838481648,
    "state": "1"
  },
  "best_trial_number": 1277,
  "best_trial_seed": 1319,
  "n_trials": 1422,
  "pruned_count": 0,
  "avg_trial_time": 256.3482760508834,
  "top_k_trials": [
    {
      "number": 1277,
      "value": 56.88019838481648,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "lgbm",
        "n_seeds": 3,
        "ml_adaptive_k_1d": 2.3406744760367415,
        "ml_pattern_weight_scale_1d": 0.9481414673408888,
        "enable_talib_patterns_short": true,
        "external_min_days": 33,
        "external_smooth_alpha": 0.21858018310081495,
        "fingpt_confidence_threshold": 0.3506041823871676,
        "lgb_n_estimators": 581,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.01665493231210222,
        "lgb_num_leaves": 63,
        "lgb_subsample": 0.8479696349833397,
        "lgb_colsample_bytree": 0.7849115186451281,
        "lgb_reg_alpha": 0.4812074670596728,
        "lgb_reg_lambda": 2.830173817319875,
        "lgb_min_data_in_leaf": 52,
        "lgb_feature_fraction_bynode": 0.6039581095227675,
        "lgb_bagging_freq": 8,
        "lgb_min_gain_to_split": 0.5577786945573949
      },
      "attrs": {
        "avg_dirhit": 90.0,
        "avg_nrmse": 1.019966935863918,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "CUSAN_1d": {
            "symbol": "CUSAN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-13T00:00:00",
                "test_start": "2025-06-16T00:00:00",
                "test_end": "2025-07-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.000786175452522575,
                    "rmse": 0.02896499039867469,
                    "mape": 1.6630341327314828,
                    "confidence": 0.624361233267333
                  },
                  "lightgbm": {
                    "raw_r2": -0.009483919072619695,
                    "rmse": 0.029089305369695898,
                    "mape": 1.7734193305428156,
                    "confidence": 0.6172957593572599
                  }
                },
                "dirhit": null,
                "rmse": 0.01581252561464069,
                "mape": 144.49096360770298,
                "nrmse": 1.0920250342191566,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-28T00:00:00",
                "test_start": "2025-07-29T00:00:00",
                "test_end": "2025-09-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00039531184170945216,
                    "rmse": 0.028459631617844375,
                    "mape": 1.6643619739285789,
                    "confidence": 0.6246788092331796
                  },
                  "lightgbm": {
                    "raw_r2": -0.002040896327875593,
                    "rmse": 0.028565622103686603,
                    "mape": 1.7740793349252508,
                    "confidence": 0.6233417861229267
                  }
                },
                "dirhit": null,
                "rmse": 0.05491724190050762,
                "mape": 102.39093189957855,
                "nrmse": 1.041698922720089,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-08T00:00:00",
                "test_start": "2025-09-09T00:00:00",
                "test_end": "2025-10-20T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.001259754030087638,
                    "rmse": 0.031171980589112358,
                    "mape": 1.7688087165929751,
                    "confidence": 0.6260235467653892
                  },
                  "lightgbm": {
                    "raw_r2": -0.008313894012965747,
                    "rmse": 0.03128155423612401,
                    "mape": 1.8129491203562835,
                    "confidence": 0.6182459336837353
                  }
                },
                "dirhit": 90.0,
                "rmse": 0.040145042258019244,
                "mape": 95.09028520164271,
                "nrmse": 0.9959037924396277,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-20T00:00:00",
                "test_start": "2025-10-21T00:00:00",
                "test_end": "2025-12-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.003720785676236608,
                    "rmse": 0.03125019411460217,
                    "mape": 1.710305645594675,
                    "confidence": 0.6219769488289386
                  },
                  "lightgbm": {
                    "raw_r2": -0.008855106765794337,
                    "rmse": 0.03134471997766712,
                    "mape": 1.8191892085078583,
                    "confidence": 0.6178064008624905
                  }
                },
                "dirhit": null,
                "rmse": 0.02566378236592327,
                "mape": 2889273.282027959,
                "nrmse": 0.9502399940767989,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 90.0,
            "avg_nrmse": 1.019966935863918,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.0009106297350952493,
                "rmse": 0.0299616991800584,
                "mape": 1.701627617211928,
                "confidence": 0.6242601345237101
              },
              "lightgbm": {
                "raw_r2": -0.007173454044813843,
                "rmse": 0.03007030042179341,
                "mape": 1.794909248583052,
                "confidence": 0.6191724700066031
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1318,
      "value": 51.02112814714447,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "lgbm",
        "n_seeds": 3,
        "ml_adaptive_k_1d": 2.6159460815944415,
        "ml_pattern_weight_scale_1d": 1.2309546641258677,
        "enable_talib_patterns_short": false,
        "external_min_days": 33,
        "external_smooth_alpha": 0.20627020198268262,
        "fingpt_confidence_threshold": 0.3601147613993996,
        "lgb_n_estimators": 559,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.01397185048157987,
        "lgb_num_leaves": 58,
        "lgb_subsample": 0.8523655809696081,
        "lgb_colsample_bytree": 0.5480452845038184,
        "lgb_reg_alpha": 0.5139295487411035,
        "lgb_reg_lambda": 3.4504140004653494,
        "lgb_min_data_in_leaf": 63,
        "lgb_feature_fraction_bynode": 0.6147625342686375,
        "lgb_bagging_freq": 8,
        "lgb_min_gain_to_split": 0.5755100632328707
      },
      "attrs": {
        "avg_dirhit": 81.81818181818183,
        "avg_nrmse": 1.041933187597133,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "CUSAN_1d": {
            "symbol": "CUSAN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-13T00:00:00",
                "test_start": "2025-06-16T00:00:00",
                "test_end": "2025-07-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.008671465724708227,
                    "rmse": 0.02907962195239895,
                    "mape": 1.746909493054036,
                    "confidence": 0.6179555376131498
                  },
                  "lightgbm": {
                    "raw_r2": -0.009483919072619695,
                    "rmse": 0.029089305369695898,
                    "mape": 1.7734193305428156,
                    "confidence": 0.6172957593572599
                  }
                },
                "dirhit": null,
                "rmse": 0.016230965921795952,
                "mape": 154.86843352273078,
                "nrmse": 1.1209228397864606,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-28T00:00:00",
                "test_start": "2025-07-29T00:00:00",
                "test_end": "2025-09-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0014716609871929798,
                    "rmse": 0.0285561233097055,
                    "mape": 1.7927077135743041,
                    "confidence": 0.6238042808430506
                  },
                  "lightgbm": {
                    "raw_r2": -0.002040896327875593,
                    "rmse": 0.028565622103686603,
                    "mape": 1.7740793349252508,
                    "confidence": 0.6233417861229267
                  }
                },
                "dirhit": null,
                "rmse": 0.0541121901302254,
                "mape": 114.84760703345702,
                "nrmse": 1.0264282803350218,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-08T00:00:00",
                "test_start": "2025-09-09T00:00:00",
                "test_end": "2025-10-20T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.006476195520612442,
                    "rmse": 0.031248683983626718,
                    "mape": 1.797364851832227,
                    "confidence": 0.6197385508627367
                  },
                  "lightgbm": {
                    "raw_r2": -0.008313894012965747,
                    "rmse": 0.03128155423612401,
                    "mape": 1.8129491203562835,
                    "confidence": 0.6182459336837353
                  }
                },
                "dirhit": 81.81818181818183,
                "rmse": 0.0413790034875097,
                "mape": 98.55313474065409,
                "nrmse": 1.0265154595111083,
                "mask_count": 11,
                "mask_pct": 37.93103448275862,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-20T00:00:00",
                "test_start": "2025-10-21T00:00:00",
                "test_end": "2025-12-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007568251197380027,
                    "rmse": 0.03132550597901559,
                    "mape": 1.7899426483990977,
                    "confidence": 0.6188515295819292
                  },
                  "lightgbm": {
                    "raw_r2": -0.008855106765794337,
                    "rmse": 0.03134471997766712,
                    "mape": 1.8191892085078583,
                    "confidence": 0.6178064008624905
                  }
                },
                "dirhit": null,
                "rmse": 0.026842024400282792,
                "mape": 1022824.3850052949,
                "nrmse": 0.9938661707559413,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 81.81818181818183,
            "avg_nrmse": 1.041933187597133,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.006046893357473419,
                "rmse": 0.03005248380618669,
                "mape": 1.7817311767149162,
                "confidence": 0.6200874747252165
              },
              "lightgbm": {
                "raw_r2": -0.007173454044813843,
                "rmse": 0.03007030042179341,
                "mape": 1.794909248583052,
                "confidence": 0.6191724700066031
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1325,
      "value": 49.9149428694202,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "xgb",
        "n_seeds": 3,
        "ml_adaptive_k_1d": 2.587438287251933,
        "ml_pattern_weight_scale_1d": 1.301359677202057,
        "enable_talib_patterns_short": false,
        "external_min_days": 35,
        "external_smooth_alpha": 0.19680623992970062,
        "fingpt_confidence_threshold": 0.377730506880301,
        "xgb_n_estimators": 565,
        "xgb_max_depth": 3,
        "xgb_learning_rate": 0.1151333940109585,
        "xgb_subsample": 0.5388921622180461,
        "xgb_colsample_bytree": 0.7486782389885086,
        "xgb_reg_alpha": 2.657408912059186e-05,
        "xgb_reg_lambda": 1.147313040230271,
        "xgb_min_child_weight": 9,
        "xgb_gamma": 0.0008896357712790115,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 410
      },
      "attrs": {
        "avg_dirhit": 80.0,
        "avg_nrmse": 1.0141761884299658,
        "model_choice": "xgb",
        "symbol_metrics": {
          "CUSAN_1d": {
            "symbol": "CUSAN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-13T00:00:00",
                "test_start": "2025-06-16T00:00:00",
                "test_end": "2025-07-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.010351082798909802,
                    "rmse": 0.02907587020298811,
                    "mape": 1.7398823866541189,
                    "confidence": 0.6165916220482279
                  }
                },
                "dirhit": null,
                "rmse": 0.015232666119079056,
                "mape": 129.12367144553306,
                "nrmse": 1.0519794968448677,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-28T00:00:00",
                "test_start": "2025-07-29T00:00:00",
                "test_end": "2025-09-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.012855617419194165,
                    "rmse": 0.02873594198709282,
                    "mape": 1.6648421632803831,
                    "confidence": 0.6145584057033502
                  }
                },
                "dirhit": null,
                "rmse": 0.054359315468565116,
                "mape": 108.76651908072338,
                "nrmse": 1.031115882804055,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-08T00:00:00",
                "test_start": "2025-09-09T00:00:00",
                "test_end": "2025-10-20T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0021358349070294733,
                    "rmse": 0.03113412436606648,
                    "mape": 1.5891154693995813,
                    "confidence": 0.6232646506303003
                  }
                },
                "dirhit": null,
                "rmse": 0.04136269501295011,
                "mape": 97.13103395841614,
                "nrmse": 1.0261108847305311,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-20T00:00:00",
                "test_start": "2025-10-21T00:00:00",
                "test_end": "2025-12-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0024992996244043906,
                    "rmse": 0.03115059216663957,
                    "mape": 1.691613098865976,
                    "confidence": 0.6229693454811039
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.025589740669774493,
                "mape": 3420258.113408813,
                "nrmse": 0.9474984893404093,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 80.0,
            "avg_nrmse": 1.0141761884299658,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.006960458687384458,
                "rmse": 0.030024132180696744,
                "mape": 1.6713632795500148,
                "confidence": 0.6193460059657456
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_CUSAN_h1_c2",
  "symbols": [
    "CUSAN"
  ],
  "horizon": 1,
  "best_model_choice": "lgbm",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "n_seeds": 3,
    "ml_adaptive_k_1d": 2.3406744760367415,
    "ml_pattern_weight_scale_1d": 0.9481414673408888,
    "external_min_days": 33,
    "external_smooth_alpha": 0.21858018310081495,
    "fingpt_confidence_threshold": 0.3506041823871676
  },
  "hyperparameters": {
    "model_choice": "lgbm",
    "lgb_n_estimators": 581,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.01665493231210222,
    "lgb_num_leaves": 63,
    "lgb_subsample": 0.8479696349833397,
    "lgb_colsample_bytree": 0.7849115186451281,
    "lgb_reg_alpha": 0.4812074670596728,
    "lgb_reg_lambda": 2.830173817319875,
    "lgb_min_data_in_leaf": 52,
    "lgb_feature_fraction_bynode": 0.6039581095227675,
    "lgb_bagging_freq": 8,
    "lgb_min_gain_to_split": 0.5577786945573949
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "0"
  },
  "best_trial_metrics": {
    "CUSAN_1d": {
      "symbol": "CUSAN",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 453,
          "test_days": 30,
          "train_end_idx": 453,
          "test_end_idx": 483,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-13T00:00:00",
          "test_start": "2025-06-16T00:00:00",
          "test_end": "2025-07-28T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.000786175452522575,
              "rmse": 0.02896499039867469,
              "mape": 1.6630341327314828,
              "confidence": 0.624361233267333
            },
            "lightgbm": {
              "raw_r2": -0.009483919072619695,
              "rmse": 0.029089305369695898,
              "mape": 1.7734193305428156,
              "confidence": 0.6172957593572599
            }
          },
          "dirhit": null,
          "rmse": 0.01581252561464069,
          "mape": 144.49096360770298,
          "nrmse": 1.0920250342191566,
          "mask_count": 3,
          "mask_pct": 10.344827586206897,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 2,
          "train_days": 483,
          "test_days": 30,
          "train_end_idx": 483,
          "test_end_idx": 513,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-28T00:00:00",
          "test_start": "2025-07-29T00:00:00",
          "test_end": "2025-09-08T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.00039531184170945216,
              "rmse": 0.028459631617844375,
              "mape": 1.6643619739285789,
              "confidence": 0.6246788092331796
            },
            "lightgbm": {
              "raw_r2": -0.002040896327875593,
              "rmse": 0.028565622103686603,
              "mape": 1.7740793349252508,
              "confidence": 0.6233417861229267
            }
          },
          "dirhit": null,
          "rmse": 0.05491724190050762,
          "mape": 102.39093189957855,
          "nrmse": 1.041698922720089,
          "mask_count": 4,
          "mask_pct": 13.793103448275861,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 3,
          "train_days": 513,
          "test_days": 30,
          "train_end_idx": 513,
          "test_end_idx": 543,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-08T00:00:00",
          "test_start": "2025-09-09T00:00:00",
          "test_end": "2025-10-20T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.001259754030087638,
              "rmse": 0.031171980589112358,
              "mape": 1.7688087165929751,
              "confidence": 0.6260235467653892
            },
            "lightgbm": {
              "raw_r2": -0.008313894012965747,
              "rmse": 0.03128155423612401,
              "mape": 1.8129491203562835,
              "confidence": 0.6182459336837353
            }
          },
          "dirhit": 90.0,
          "rmse": 0.040145042258019244,
          "mape": 95.09028520164271,
          "nrmse": 0.9959037924396277,
          "mask_count": 10,
          "mask_pct": 34.48275862068966,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 4,
          "train_days": 543,
          "test_days": 30,
          "train_end_idx": 543,
          "test_end_idx": 573,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-20T00:00:00",
          "test_start": "2025-10-21T00:00:00",
          "test_end": "2025-12-01T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.003720785676236608,
              "rmse": 0.03125019411460217,
              "mape": 1.710305645594675,
              "confidence": 0.6219769488289386
            },
            "lightgbm": {
              "raw_r2": -0.008855106765794337,
              "rmse": 0.03134471997766712,
              "mape": 1.8191892085078583,
              "confidence": 0.6178064008624905
            }
          },
          "dirhit": null,
          "rmse": 0.02566378236592327,
          "mape": 2889273.282027959,
          "nrmse": 0.9502399940767989,
          "mask_count": 6,
          "mask_pct": 20.689655172413794,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        }
      ],
      "avg_dirhit": 90.0,
      "avg_nrmse": 1.019966935863918,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.0009106297350952493,
          "rmse": 0.0299616991800584,
          "mape": 1.701627617211928,
          "confidence": 0.6242601345237101
        },
        "lightgbm": {
          "raw_r2": -0.007173454044813843,
          "rmse": 0.03007030042179341,
          "mape": 1.794909248583052,
          "confidence": 0.6191724700066031
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 10,
    "min_mask_pct": 5.0,
    "best_trial_number": 1277,
    "best_trial_seed": 1319,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "CUSAN_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 453,
            "test_end_idx": 483,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-13T00:00:00",
            "test_start": "2025-06-16T00:00:00",
            "test_end": "2025-07-28T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 483,
            "test_end_idx": 513,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-28T00:00:00",
            "test_start": "2025-07-29T00:00:00",
            "test_end": "2025-09-08T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 513,
            "test_end_idx": 543,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-08T00:00:00",
            "test_start": "2025-09-09T00:00:00",
            "test_end": "2025-10-20T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 543,
            "test_end_idx": 573,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-20T00:00:00",
            "test_start": "2025-10-21T00:00:00",
            "test_end": "2025-12-01T00:00:00"
          }
        ]
      }
    }
  }
}