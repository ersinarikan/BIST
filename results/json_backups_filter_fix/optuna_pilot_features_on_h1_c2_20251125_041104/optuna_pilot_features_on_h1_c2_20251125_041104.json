{
  "best_value": 31.988461440651307,
  "best_dirhit": 54.761904761904766,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "all",
    "ml_adaptive_k_1d": 2.901214293875112,
    "ml_pattern_weight_scale_1d": 1.360156832184929,
    "enable_talib_patterns_short": true,
    "external_min_days": 32,
    "external_smooth_alpha": 0.1978990454164622,
    "yolo_min_conf": 0.6362592280385192,
    "xgb_n_estimators": 489,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.0848521782719217,
    "xgb_subsample": 0.5364824412194762,
    "xgb_colsample_bytree": 0.6977681218810325,
    "xgb_reg_alpha": 2.2148920285054953e-06,
    "xgb_reg_lambda": 0.3821375673088133,
    "xgb_min_child_weight": 9,
    "xgb_gamma": 0.3554812765190891,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 183,
    "lgb_n_estimators": 486,
    "lgb_max_depth": 6,
    "lgb_learning_rate": 0.013538284454737013,
    "lgb_num_leaves": 11,
    "lgb_subsample": 0.780387652583648,
    "lgb_colsample_bytree": 0.5291052025456774,
    "lgb_reg_alpha": 0.2105170416946396,
    "lgb_reg_lambda": 0.23688206523847857,
    "lgb_min_data_in_leaf": 17,
    "lgb_feature_fraction_bynode": 0.542418857042596,
    "lgb_bagging_freq": 10,
    "lgb_min_gain_to_split": 0.3742707957561203,
    "cat_iterations": 298,
    "cat_depth": 7,
    "cat_learning_rate": 0.17076498036507637,
    "cat_l2_leaf_reg": 9.874009574405838,
    "cat_subsample": 0.8390201833665236,
    "cat_rsm": 0.669316813488912,
    "cat_border_count": 36,
    "cat_random_strength": 2.0909772087785825,
    "cat_leaf_estimation_iterations": 12,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 6,
    "value": 31.988461440651307,
    "state": "1"
  },
  "n_trials": 9,
  "pruned_count": 0,
  "avg_trial_time": 107.38571466666667,
  "top_k_trials": [
    {
      "number": 6,
      "value": 31.988461440651307,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.901214293875112,
        "ml_pattern_weight_scale_1d": 1.360156832184929,
        "enable_talib_patterns_short": true,
        "external_min_days": 32,
        "external_smooth_alpha": 0.1978990454164622,
        "yolo_min_conf": 0.6362592280385192,
        "xgb_n_estimators": 489,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.0848521782719217,
        "xgb_subsample": 0.5364824412194762,
        "xgb_colsample_bytree": 0.6977681218810325,
        "xgb_reg_alpha": 2.2148920285054953e-06,
        "xgb_reg_lambda": 0.3821375673088133,
        "xgb_min_child_weight": 9,
        "xgb_gamma": 0.3554812765190891,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 183,
        "lgb_n_estimators": 486,
        "lgb_max_depth": 6,
        "lgb_learning_rate": 0.013538284454737013,
        "lgb_num_leaves": 11,
        "lgb_subsample": 0.780387652583648,
        "lgb_colsample_bytree": 0.5291052025456774,
        "lgb_reg_alpha": 0.2105170416946396,
        "lgb_reg_lambda": 0.23688206523847857,
        "lgb_min_data_in_leaf": 17,
        "lgb_feature_fraction_bynode": 0.542418857042596,
        "lgb_bagging_freq": 10,
        "lgb_min_gain_to_split": 0.3742707957561203,
        "cat_iterations": 298,
        "cat_depth": 7,
        "cat_learning_rate": 0.17076498036507637,
        "cat_l2_leaf_reg": 9.874009574405838,
        "cat_subsample": 0.8390201833665236,
        "cat_rsm": 0.669316813488912,
        "cat_border_count": 36,
        "cat_random_strength": 2.0909772087785825,
        "cat_leaf_estimation_iterations": 12,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 54.761904761904766,
        "avg_nrmse": 1.0574786487803378,
        "model_choice": "all",
        "symbol_metrics": {
          "AKFGY_1d": {
            "symbol": "AKFGY",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 448,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007980854801721948,
                    "rmse": 0.02427265263882895,
                    "mape": 1.8480826489560267,
                    "confidence": 0.6185164157959636
                  },
                  "lightgbm": {
                    "raw_r2": -0.008702326669641991,
                    "rmse": 0.024272597440550957,
                    "mape": 1.925335322093842,
                    "confidence": 0.6179304749177951
                  },
                  "catboost": {
                    "raw_r2": -0.006624475557789482,
                    "rmse": 0.024213906756908803,
                    "mape": 1.6245546224670968,
                    "confidence": 0.6196181056363635
                  }
                },
                "dirhit": 33.33333333333333,
                "rmse": 0.03850386607775265,
                "mape": 2652883.76139414,
                "nrmse": 1.102519256266558,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 2,
                "train_days": 478,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.004004718990858154,
                    "rmse": 0.025764644608540405,
                    "mape": 1.9390176281494858,
                    "confidence": 0.6217462745327729
                  },
                  "lightgbm": {
                    "raw_r2": -0.00503231093732559,
                    "rmse": 0.025777481773485444,
                    "mape": 1.9272191454231922,
                    "confidence": 0.6209114630668476
                  },
                  "catboost": {
                    "raw_r2": -0.0025685103577664328,
                    "rmse": 0.0257702850367735,
                    "mape": 1.7137992499052381,
                    "confidence": 0.6229131140169424
                  }
                },
                "dirhit": 71.42857142857143,
                "rmse": 0.01390164993350635,
                "mape": 5042168.899301194,
                "nrmse": 1.0871256202061008,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 3,
                "train_days": 508,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.008004444240452028,
                    "rmse": 0.02490344047339746,
                    "mape": 1.9219837402629145,
                    "confidence": 0.6184972570274503
                  },
                  "lightgbm": {
                    "raw_r2": -0.009989574389093573,
                    "rmse": 0.024924854838785464,
                    "mape": 1.9701168948237218,
                    "confidence": 0.6168851578075875
                  },
                  "catboost": {
                    "raw_r2": -0.02058997800054933,
                    "rmse": 0.025082770586696855,
                    "mape": 1.7823251948685366,
                    "confidence": 0.6082854029893359
                  }
                },
                "dirhit": 71.42857142857143,
                "rmse": 0.018386529233653793,
                "mape": 2603499.1530407676,
                "nrmse": 0.9834680246596647,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 4,
                "train_days": 538,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0028888397755399975,
                    "rmse": 0.024722400395179693,
                    "mape": 1.933925846077746,
                    "confidence": 0.6226528584901977
                  },
                  "lightgbm": {
                    "raw_r2": -0.004236311892580336,
                    "rmse": 0.024740528633552188,
                    "mape": 1.9762863582452044,
                    "confidence": 0.6215581252718345
                  },
                  "catboost": {
                    "raw_r2": 0.004886794911800478,
                    "rmse": 0.02460105852474511,
                    "mape": 1.64264293907164,
                    "confidence": 0.6289703233378936
                  }
                },
                "dirhit": 42.857142857142854,
                "rmse": 0.025149605884182316,
                "mape": 2706311.390231409,
                "nrmse": 1.0568016939890277,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              }
            ],
            "avg_dirhit": 54.761904761904766,
            "avg_nrmse": 1.0574786487803378,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.005719714452143032,
                "rmse": 0.02491578452898663,
                "mape": 1.9107524658615433,
                "confidence": 0.6203532014615961
              },
              "lightgbm": {
                "raw_r2": -0.006990130972160372,
                "rmse": 0.02492886567159351,
                "mape": 1.94973943014649,
                "confidence": 0.6193213052660161
              },
              "catboost": {
                "raw_r2": -0.006224042251076191,
                "rmse": 0.02491700522628107,
                "mape": 1.690830501578128,
                "confidence": 0.6199467364951339
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 5,
      "value": 31.198141334856302,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.6221947156280143,
        "ml_loss_threshold": 0.002979708837909645,
        "ml_dir_penalty": 1.391336642604006,
        "meta_stacking_alpha": 0.29843353644467213,
        "ml_adaptive_k_1d": 1.9469435415611314,
        "ml_pattern_weight_scale_1d": 0.7598028048650227,
        "enable_talib_patterns_short": true,
        "external_min_days": 45,
        "external_smooth_alpha": 0.3357921428904397,
        "yolo_min_conf": 0.32265200488602225,
        "fingpt_confidence_threshold": 0.31238378438794134,
        "xgb_n_estimators": 432,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.10169748566247801,
        "xgb_subsample": 0.763477452647578,
        "xgb_colsample_bytree": 0.5651737708325719,
        "xgb_reg_alpha": 2.651016827185942e-06,
        "xgb_reg_lambda": 1.0440202406215924,
        "xgb_min_child_weight": 5,
        "xgb_gamma": 0.022034455606330692,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 277,
        "lgb_n_estimators": 429,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.05127005803485768,
        "lgb_num_leaves": 60,
        "lgb_subsample": 0.6544410551203097,
        "lgb_colsample_bytree": 0.8844762255295657,
        "lgb_reg_alpha": 0.7312500116137284,
        "lgb_reg_lambda": 0.0008620245917444437,
        "lgb_min_data_in_leaf": 16,
        "lgb_feature_fraction_bynode": 0.5503890006887133,
        "lgb_bagging_freq": 0,
        "lgb_min_gain_to_split": 0.0944429607559284,
        "cat_iterations": 448,
        "cat_depth": 2,
        "cat_learning_rate": 0.02600140781125379,
        "cat_l2_leaf_reg": 8.60387779872509,
        "cat_subsample": 0.5104723710811216,
        "cat_rsm": 0.8665108171650211,
        "cat_border_count": 83,
        "cat_random_strength": 0.15876636357150722,
        "cat_leaf_estimation_iterations": 14,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 57.2643244940997,
        "avg_nrmse": 1.4811476351689143,
        "model_choice": "all",
        "symbol_metrics": {
          "AKFGY_1d": {
            "symbol": "AKFGY",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 448,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007832896455198357,
                    "rmse": 0.0242417730084285,
                    "mape": 1.8986014130917566,
                    "confidence": 0.618636584989906
                  },
                  "lightgbm": {
                    "raw_r2": -0.008702326669641991,
                    "rmse": 0.024272597440550957,
                    "mape": 1.925335322093842,
                    "confidence": 0.6179304749177951
                  },
                  "catboost": {
                    "raw_r2": 0.005717244569856783,
                    "rmse": 0.024137246956349757,
                    "mape": 1.7743654019737178,
                    "confidence": 0.6296449449073536
                  }
                },
                "dirhit": 47.05882352941176,
                "rmse": 0.039782632407687826,
                "mape": 8851753.444701979,
                "nrmse": 1.1391354365787334,
                "mask_count": 17,
                "mask_pct": 58.620689655172406,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 2,
                "train_days": 478,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.003963701330896925,
                    "rmse": 0.025758677580600103,
                    "mape": 1.9195978151240907,
                    "confidence": 0.6217795980752554
                  },
                  "lightgbm": {
                    "raw_r2": -0.00503231093732559,
                    "rmse": 0.025777481773485444,
                    "mape": 1.9272191454231922,
                    "confidence": 0.6209114630668476
                  },
                  "catboost": {
                    "raw_r2": 0.005214563660171108,
                    "rmse": 0.025693991379724786,
                    "mape": 1.8143844477968258,
                    "confidence": 0.6292365929764919
                  }
                },
                "dirhit": 66.66666666666666,
                "rmse": 0.013550623967122697,
                "mape": 8448499.58748822,
                "nrmse": 1.0596749705897914,
                "mask_count": 9,
                "mask_pct": 31.03448275862069,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 3,
                "train_days": 508,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.011114760285150682,
                    "rmse": 0.024936378088792805,
                    "mape": 1.8996891261995092,
                    "confidence": 0.6159715807985371
                  },
                  "lightgbm": {
                    "raw_r2": -0.009989574389093573,
                    "rmse": 0.024924854838785464,
                    "mape": 1.9701168948237218,
                    "confidence": 0.6168851578075875
                  },
                  "catboost": {
                    "raw_r2": -0.004460047083629348,
                    "rmse": 0.024872447675870695,
                    "mape": 1.8616130839184082,
                    "confidence": 0.621376361913059
                  }
                },
                "dirhit": 63.1578947368421,
                "rmse": 0.023282257969163073,
                "mape": 22504597.281150267,
                "nrmse": 1.2453332525988294,
                "mask_count": 19,
                "mask_pct": 65.51724137931035,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 4,
                "train_days": 538,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0058977806420854595,
                    "rmse": 0.024766690597375754,
                    "mape": 1.8680329331958938,
                    "confidence": 0.6202084004526887
                  },
                  "lightgbm": {
                    "raw_r2": -0.004236311892580336,
                    "rmse": 0.024740528633552188,
                    "mape": 1.9762863582452044,
                    "confidence": 0.6215581252718345
                  },
                  "catboost": {
                    "raw_r2": -0.0011669934735058323,
                    "rmse": 0.024711641644091367,
                    "mape": 1.9169389562480543,
                    "confidence": 0.624051820492985
                  }
                },
                "dirhit": 52.17391304347826,
                "rmse": 0.05902929738504075,
                "mape": 58747912.19624165,
                "nrmse": 2.4804468809083033,
                "mask_count": 23,
                "mask_pct": 79.3103448275862,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              }
            ],
            "avg_dirhit": 57.2643244940997,
            "avg_nrmse": 1.4811476351689143,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.007202284678332856,
                "rmse": 0.02492587981879929,
                "mape": 1.8964803219028123,
                "confidence": 0.6191490410790967
              },
              "lightgbm": {
                "raw_r2": -0.006990130972160372,
                "rmse": 0.02492886567159351,
                "mape": 1.94973943014649,
                "confidence": 0.6193213052660161
              },
              "catboost": {
                "raw_r2": 0.0013261919182231774,
                "rmse": 0.024853831914009153,
                "mape": 1.8418254724842515,
                "confidence": 0.6260774300724724
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 0,
      "value": 30.904723379640952,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.8259756498732127,
        "ml_pattern_weight_scale_1d": 0.6208924801551614,
        "enable_talib_patterns_short": true,
        "external_min_days": 53,
        "external_smooth_alpha": 0.18583719817868904,
        "yolo_min_conf": 0.7337827152743697,
        "fingpt_confidence_threshold": 0.49536664701191435,
        "xgb_n_estimators": 405,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.07107777340621375,
        "xgb_subsample": 0.616836650416478,
        "xgb_colsample_bytree": 0.7826978823671097,
        "xgb_reg_alpha": 5.723208499907667e-06,
        "xgb_reg_lambda": 0.009091851741452564,
        "xgb_min_child_weight": 14,
        "xgb_gamma": 0.30776871683047624,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 467,
        "lgb_n_estimators": 174,
        "lgb_max_depth": 3,
        "lgb_learning_rate": 0.013116775420387963,
        "lgb_num_leaves": 41,
        "lgb_subsample": 0.6243240218789444,
        "lgb_colsample_bytree": 0.5434817604756949,
        "lgb_reg_alpha": 0.012498449913635426,
        "lgb_reg_lambda": 2.402588708001269,
        "lgb_min_data_in_leaf": 27,
        "lgb_feature_fraction_bynode": 0.5489285670336946,
        "lgb_bagging_freq": 0,
        "lgb_min_gain_to_split": 0.3294344681408719,
        "cat_iterations": 419,
        "cat_depth": 7,
        "cat_learning_rate": 0.04526162375289825,
        "cat_l2_leaf_reg": 6.415701960526871,
        "cat_subsample": 0.8852594505110294,
        "cat_rsm": 0.8328423677611595,
        "cat_border_count": 16,
        "cat_random_strength": 0.19722710442893343,
        "cat_leaf_estimation_iterations": 10,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 53.47222222222222,
        "avg_nrmse": 1.0876386959857665,
        "model_choice": "all",
        "symbol_metrics": {
          "AKFGY_1d": {
            "symbol": "AKFGY",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 448,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007154546634279058,
                    "rmse": 0.02424702625721059,
                    "mape": 1.9246888243357312,
                    "confidence": 0.6191875506901103
                  },
                  "lightgbm": {
                    "raw_r2": -0.008702326669641991,
                    "rmse": 0.024272597440550957,
                    "mape": 1.925335322093842,
                    "confidence": 0.6179304749177951
                  },
                  "catboost": {
                    "raw_r2": 0.0028301284974787677,
                    "rmse": 0.024137338850425783,
                    "mape": 1.768801554347989,
                    "confidence": 0.6272994410341927
                  }
                },
                "dirhit": 44.44444444444444,
                "rmse": 0.039015072222170995,
                "mape": 2139533.2617223654,
                "nrmse": 1.1171571270976293,
                "mask_count": 9,
                "mask_pct": 31.03448275862069,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 2,
                "train_days": 478,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0032834454916725875,
                    "rmse": 0.02575052101536142,
                    "mape": 1.9135320823850441,
                    "confidence": 0.6223322604563681
                  },
                  "lightgbm": {
                    "raw_r2": -0.00503231093732559,
                    "rmse": 0.025777481773485444,
                    "mape": 1.9272191454231922,
                    "confidence": 0.6209114630668476
                  },
                  "catboost": {
                    "raw_r2": -0.00830372366020371,
                    "rmse": 0.025818705109584766,
                    "mape": 1.8413731084736913,
                    "confidence": 0.6182541935309082
                  }
                },
                "dirhit": 62.5,
                "rmse": 0.014669612007487228,
                "mape": 7711225.92180495,
                "nrmse": 1.147181171163328,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 3,
                "train_days": 508,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007014936465423875,
                    "rmse": 0.024889479790989433,
                    "mape": 1.9558870308771454,
                    "confidence": 0.6193009483734737
                  },
                  "lightgbm": {
                    "raw_r2": -0.009989574389093573,
                    "rmse": 0.024924854838785464,
                    "mape": 1.9701168948237218,
                    "confidence": 0.6168851578075875
                  },
                  "catboost": {
                    "raw_r2": -0.011818608309981124,
                    "rmse": 0.02497947467914891,
                    "mape": 1.8969033346007493,
                    "confidence": 0.615400174124948
                  }
                },
                "dirhit": null,
                "rmse": 0.01901768382107049,
                "mape": 2417831.2928635348,
                "nrmse": 1.0172275421549757,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              },
              {
                "split_index": 4,
                "train_days": 538,
                "test_days": 30,
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0024456578498919987,
                    "rmse": 0.024718518859425286,
                    "mape": 1.9389540428146805,
                    "confidence": 0.6230129277576523
                  },
                  "lightgbm": {
                    "raw_r2": -0.004236311892580336,
                    "rmse": 0.024740528633552188,
                    "mape": 1.9762863582452044,
                    "confidence": 0.6215581252718345
                  },
                  "catboost": {
                    "raw_r2": 0.008227884477020017,
                    "rmse": 0.024640319571438054,
                    "mape": 1.7725960955578262,
                    "confidence": 0.6316842134382615
                  }
                },
                "dirhit": null,
                "rmse": 0.02543963619397354,
                "mape": 3362462.955072345,
                "nrmse": 1.0689889435271327,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 15.0
              }
            ],
            "avg_dirhit": 53.47222222222222,
            "avg_nrmse": 1.0876386959857665,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.00497464661031688,
                "rmse": 0.024901386480746683,
                "mape": 1.9332654951031505,
                "confidence": 0.6209584218194011
              },
              "lightgbm": {
                "raw_r2": -0.006990130972160372,
                "rmse": 0.02492886567159351,
                "mape": 1.94973943014649,
                "confidence": 0.6193213052660161
              },
              "catboost": {
                "raw_r2": -0.0022660797489215127,
                "rmse": 0.024893959552649378,
                "mape": 1.819918523245064,
                "confidence": 0.6231595055320776
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AKFGY_h1_c2",
  "symbols": [
    "AKFGY"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_adaptive_k_1d": 2.901214293875112,
    "ml_pattern_weight_scale_1d": 1.360156832184929,
    "external_min_days": 32,
    "external_smooth_alpha": 0.1978990454164622,
    "yolo_min_conf": 0.6362592280385192
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 489,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.0848521782719217,
    "xgb_subsample": 0.5364824412194762,
    "xgb_colsample_bytree": 0.6977681218810325,
    "xgb_reg_alpha": 2.2148920285054953e-06,
    "xgb_reg_lambda": 0.3821375673088133,
    "xgb_min_child_weight": 9,
    "xgb_gamma": 0.3554812765190891,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 183,
    "lgb_n_estimators": 486,
    "lgb_max_depth": 6,
    "lgb_learning_rate": 0.013538284454737013,
    "lgb_num_leaves": 11,
    "lgb_subsample": 0.780387652583648,
    "lgb_colsample_bytree": 0.5291052025456774,
    "lgb_reg_alpha": 0.2105170416946396,
    "lgb_reg_lambda": 0.23688206523847857,
    "lgb_min_data_in_leaf": 17,
    "lgb_feature_fraction_bynode": 0.542418857042596,
    "lgb_bagging_freq": 10,
    "lgb_min_gain_to_split": 0.3742707957561203,
    "cat_iterations": 298,
    "cat_depth": 7,
    "cat_learning_rate": 0.17076498036507637,
    "cat_l2_leaf_reg": 9.874009574405838,
    "cat_subsample": 0.8390201833665236,
    "cat_rsm": 0.669316813488912,
    "cat_border_count": 36,
    "cat_random_strength": 2.0909772087785825,
    "cat_leaf_estimation_iterations": 12,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AKFGY_1d": {
      "symbol": "AKFGY",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.007980854801721948,
              "rmse": 0.02427265263882895,
              "mape": 1.8480826489560267,
              "confidence": 0.6185164157959636
            },
            "lightgbm": {
              "raw_r2": -0.008702326669641991,
              "rmse": 0.024272597440550957,
              "mape": 1.925335322093842,
              "confidence": 0.6179304749177951
            },
            "catboost": {
              "raw_r2": -0.006624475557789482,
              "rmse": 0.024213906756908803,
              "mape": 1.6245546224670968,
              "confidence": 0.6196181056363635
            }
          },
          "dirhit": 33.33333333333333,
          "rmse": 0.03850386607775265,
          "mape": 2652883.76139414,
          "nrmse": 1.102519256266558,
          "mask_count": 6,
          "mask_pct": 20.689655172413794,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 15.0
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.004004718990858154,
              "rmse": 0.025764644608540405,
              "mape": 1.9390176281494858,
              "confidence": 0.6217462745327729
            },
            "lightgbm": {
              "raw_r2": -0.00503231093732559,
              "rmse": 0.025777481773485444,
              "mape": 1.9272191454231922,
              "confidence": 0.6209114630668476
            },
            "catboost": {
              "raw_r2": -0.0025685103577664328,
              "rmse": 0.0257702850367735,
              "mape": 1.7137992499052381,
              "confidence": 0.6229131140169424
            }
          },
          "dirhit": 71.42857142857143,
          "rmse": 0.01390164993350635,
          "mape": 5042168.899301194,
          "nrmse": 1.0871256202061008,
          "mask_count": 7,
          "mask_pct": 24.137931034482758,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 15.0
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.008004444240452028,
              "rmse": 0.02490344047339746,
              "mape": 1.9219837402629145,
              "confidence": 0.6184972570274503
            },
            "lightgbm": {
              "raw_r2": -0.009989574389093573,
              "rmse": 0.024924854838785464,
              "mape": 1.9701168948237218,
              "confidence": 0.6168851578075875
            },
            "catboost": {
              "raw_r2": -0.02058997800054933,
              "rmse": 0.025082770586696855,
              "mape": 1.7823251948685366,
              "confidence": 0.6082854029893359
            }
          },
          "dirhit": 71.42857142857143,
          "rmse": 0.018386529233653793,
          "mape": 2603499.1530407676,
          "nrmse": 0.9834680246596647,
          "mask_count": 7,
          "mask_pct": 24.137931034482758,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 15.0
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0028888397755399975,
              "rmse": 0.024722400395179693,
              "mape": 1.933925846077746,
              "confidence": 0.6226528584901977
            },
            "lightgbm": {
              "raw_r2": -0.004236311892580336,
              "rmse": 0.024740528633552188,
              "mape": 1.9762863582452044,
              "confidence": 0.6215581252718345
            },
            "catboost": {
              "raw_r2": 0.004886794911800478,
              "rmse": 0.02460105852474511,
              "mape": 1.64264293907164,
              "confidence": 0.6289703233378936
            }
          },
          "dirhit": 42.857142857142854,
          "rmse": 0.025149605884182316,
          "mape": 2706311.390231409,
          "nrmse": 1.0568016939890277,
          "mask_count": 7,
          "mask_pct": 24.137931034482758,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 15.0
        }
      ],
      "avg_dirhit": 54.761904761904766,
      "avg_nrmse": 1.0574786487803378,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.005719714452143032,
          "rmse": 0.02491578452898663,
          "mape": 1.9107524658615433,
          "confidence": 0.6203532014615961
        },
        "lightgbm": {
          "raw_r2": -0.006990130972160372,
          "rmse": 0.02492886567159351,
          "mape": 1.94973943014649,
          "confidence": 0.6193213052660161
        },
        "catboost": {
          "raw_r2": -0.006224042251076191,
          "rmse": 0.02491700522628107,
          "mape": 1.690830501578128,
          "confidence": 0.6199467364951339
        }
      }
    }
  }
}