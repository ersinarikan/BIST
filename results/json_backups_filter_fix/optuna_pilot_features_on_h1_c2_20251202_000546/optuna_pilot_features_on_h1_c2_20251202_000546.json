{
  "best_value": 58.18658844979133,
  "best_dirhit": 91.66666666666666,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "model_choice": "all",
    "n_seeds": 5,
    "ml_adaptive_k_1d": 1.2871581001917392,
    "ml_pattern_weight_scale_1d": 1.3685474410449414,
    "enable_talib_patterns_short": true,
    "external_min_days": 23,
    "external_smooth_alpha": 0.18706787390211344,
    "regime_scale_low": 0.8390625525026905,
    "regime_scale_high": 1.1120432034640217,
    "xgb_n_estimators": 560,
    "xgb_max_depth": 2,
    "xgb_learning_rate": 0.06286795872162577,
    "xgb_subsample": 0.5104184533020304,
    "xgb_colsample_bytree": 0.8502625108508404,
    "xgb_reg_alpha": 0.0011678354314994376,
    "xgb_reg_lambda": 0.0019814526048645563,
    "xgb_min_child_weight": 6,
    "xgb_gamma": 0.38956222465075274,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 334,
    "lgb_n_estimators": 456,
    "lgb_max_depth": 8,
    "lgb_learning_rate": 0.06467477112637621,
    "lgb_num_leaves": 36,
    "lgb_subsample": 0.7869064972910532,
    "lgb_colsample_bytree": 0.5966722581553141,
    "lgb_reg_alpha": 3.786041858090617e-05,
    "lgb_reg_lambda": 4.703562060606965,
    "lgb_min_data_in_leaf": 98,
    "lgb_feature_fraction_bynode": 0.5332815382383458,
    "lgb_bagging_freq": 5,
    "lgb_min_gain_to_split": 0.7475009143928545,
    "cat_iterations": 266,
    "cat_depth": 7,
    "cat_learning_rate": 0.05281683701560368,
    "cat_l2_leaf_reg": 3.521642121942141,
    "cat_subsample": 0.8559429679817876,
    "cat_rsm": 0.8237444129873687,
    "cat_border_count": 68,
    "cat_random_strength": 1.7813080081332782,
    "cat_leaf_estimation_iterations": 17,
    "cat_bootstrap_type": "No"
  },
  "best_trial": {
    "number": 103,
    "value": 58.18658844979133,
    "state": "1"
  },
  "best_trial_number": 103,
  "best_trial_seed": 145,
  "n_trials": 1365,
  "pruned_count": 0,
  "avg_trial_time": 266.9558833460972,
  "top_k_trials": [
    {
      "number": 103,
      "value": 58.18658844979133,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "n_seeds": 5,
        "ml_adaptive_k_1d": 1.2871581001917392,
        "ml_pattern_weight_scale_1d": 1.3685474410449414,
        "enable_talib_patterns_short": true,
        "external_min_days": 23,
        "external_smooth_alpha": 0.18706787390211344,
        "regime_scale_low": 0.8390625525026905,
        "regime_scale_high": 1.1120432034640217,
        "xgb_n_estimators": 560,
        "xgb_max_depth": 2,
        "xgb_learning_rate": 0.06286795872162577,
        "xgb_subsample": 0.5104184533020304,
        "xgb_colsample_bytree": 0.8502625108508404,
        "xgb_reg_alpha": 0.0011678354314994376,
        "xgb_reg_lambda": 0.0019814526048645563,
        "xgb_min_child_weight": 6,
        "xgb_gamma": 0.38956222465075274,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 334,
        "lgb_n_estimators": 456,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.06467477112637621,
        "lgb_num_leaves": 36,
        "lgb_subsample": 0.7869064972910532,
        "lgb_colsample_bytree": 0.5966722581553141,
        "lgb_reg_alpha": 3.786041858090617e-05,
        "lgb_reg_lambda": 4.703562060606965,
        "lgb_min_data_in_leaf": 98,
        "lgb_feature_fraction_bynode": 0.5332815382383458,
        "lgb_bagging_freq": 5,
        "lgb_min_gain_to_split": 0.7475009143928545,
        "cat_iterations": 266,
        "cat_depth": 7,
        "cat_learning_rate": 0.05281683701560368,
        "cat_l2_leaf_reg": 3.521642121942141,
        "cat_subsample": 0.8559429679817876,
        "cat_rsm": 0.8237444129873687,
        "cat_border_count": 68,
        "cat_random_strength": 1.7813080081332782,
        "cat_leaf_estimation_iterations": 17,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 91.66666666666666,
        "avg_nrmse": 0.9966797028125549,
        "model_choice": "all",
        "symbol_metrics": {
          "BUCIM_1d": {
            "symbol": "BUCIM",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 451,
                "test_days": 30,
                "train_end_idx": 451,
                "test_end_idx": 481,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-11T00:00:00",
                "test_start": "2025-06-12T00:00:00",
                "test_end": "2025-07-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.005755306723277324,
                    "rmse": 0.021156652655762158,
                    "mape": 1.8749733267847926,
                    "confidence": 0.6203241359521385
                  },
                  "lightgbm": {
                    "raw_r2": -0.0036709822839801434,
                    "rmse": 0.021125136028799837,
                    "mape": 1.8965955858465957,
                    "confidence": 0.6220174106306817
                  },
                  "catboost": {
                    "raw_r2": 0.03088987622210067,
                    "rmse": 0.02079616042663555,
                    "mape": 1.6833202415165305,
                    "confidence": 0.6500482511910619
                  }
                },
                "dirhit": 66.66666666666666,
                "rmse": 0.016361489923832594,
                "mape": 2471069.2973403106,
                "nrmse": 0.9772369338945982,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 2,
                "train_days": 481,
                "test_days": 30,
                "train_end_idx": 481,
                "test_end_idx": 511,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-24T00:00:00",
                "test_start": "2025-07-25T00:00:00",
                "test_end": "2025-09-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.002608194147751893,
                    "rmse": 0.02079884820266326,
                    "mape": 1.9296187120554666,
                    "confidence": 0.6228808722876596
                  },
                  "lightgbm": {
                    "raw_r2": -0.004214889308040777,
                    "rmse": 0.020810861140304053,
                    "mape": 1.8799237982328663,
                    "confidence": 0.6215755291794529
                  },
                  "catboost": {
                    "raw_r2": 0.03266836746317514,
                    "rmse": 0.020440991724560705,
                    "mape": 1.644431524089294,
                    "confidence": 0.6514841903218395
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.013174507453861473,
                "mape": 1328557.16687278,
                "nrmse": 0.9810084332002296,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 3,
                "train_days": 511,
                "test_days": 30,
                "train_end_idx": 511,
                "test_end_idx": 541,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-04T00:00:00",
                "test_start": "2025-09-05T00:00:00",
                "test_end": "2025-10-16T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -1.660566619069807e-05,
                    "rmse": 0.020423745110782585,
                    "mape": 1.9062091394831362,
                    "confidence": 0.6249865078962278
                  },
                  "lightgbm": {
                    "raw_r2": -0.0021996854582619165,
                    "rmse": 0.020449056156177647,
                    "mape": 1.892995595245379,
                    "confidence": 0.6232127735811728
                  },
                  "catboost": {
                    "raw_r2": 0.016494429309734993,
                    "rmse": 0.020248032311284372,
                    "mape": 1.6204708800284617,
                    "confidence": 0.6383941328188173
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.016930917595975745,
                "mape": 3182295.5230022823,
                "nrmse": 1.0482814073041076,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 4,
                "train_days": 541,
                "test_days": 30,
                "train_end_idx": 541,
                "test_end_idx": 571,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-16T00:00:00",
                "test_start": "2025-10-17T00:00:00",
                "test_end": "2025-11-27T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0005858745343635766,
                    "rmse": 0.020110455469120932,
                    "mape": 1.876976493626502,
                    "confidence": 0.6245239772812343
                  },
                  "lightgbm": {
                    "raw_r2": -0.0032335728208297,
                    "rmse": 0.020128876725433013,
                    "mape": 1.9115423667605638,
                    "confidence": 0.6223727793124132
                  },
                  "catboost": {
                    "raw_r2": 0.010805839919614849,
                    "rmse": 0.019984558247378038,
                    "mape": 1.629071897137451,
                    "confidence": 0.6337776097720437
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.013212089427848165,
                "mape": 1610233.9819675197,
                "nrmse": 0.9801920368512846,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              }
            ],
            "avg_dirhit": 91.66666666666666,
            "avg_nrmse": 0.9966797028125549,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.0022414952678958726,
                "rmse": 0.020622425359582235,
                "mape": 1.8969444179874744,
                "confidence": 0.6231788733543151
              },
              "lightgbm": {
                "raw_r2": -0.0033297824677781343,
                "rmse": 0.020628482512678636,
                "mape": 1.8952643365213513,
                "confidence": 0.6222946231759301
              },
              "catboost": {
                "raw_r2": 0.022714628228656414,
                "rmse": 0.020367435677464667,
                "mape": 1.6443236356929343,
                "confidence": 0.6434260460259406
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 810,
      "value": 56.88123512807631,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "n_seeds": 2,
        "ml_adaptive_k_1d": 1.3497674354185571,
        "ml_pattern_weight_scale_1d": 0.9376164834356251,
        "enable_talib_patterns_short": false,
        "external_min_days": 20,
        "external_smooth_alpha": 0.21519738573773967,
        "yolo_min_conf": 0.6637555228963316,
        "xgb_n_estimators": 585,
        "xgb_max_depth": 2,
        "xgb_learning_rate": 0.07772970771353044,
        "xgb_subsample": 0.5630751086863534,
        "xgb_colsample_bytree": 0.6685892662760855,
        "xgb_reg_alpha": 0.0017749510534267406,
        "xgb_reg_lambda": 0.007216755490331049,
        "xgb_min_child_weight": 7,
        "xgb_gamma": 0.48022551952734255,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 154,
        "lgb_n_estimators": 579,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.025415434642618646,
        "lgb_num_leaves": 20,
        "lgb_subsample": 0.7841101135502362,
        "lgb_colsample_bytree": 0.6113958026277546,
        "lgb_reg_alpha": 3.8035284641070924e-05,
        "lgb_reg_lambda": 0.5227303509778967,
        "lgb_min_data_in_leaf": 75,
        "lgb_feature_fraction_bynode": 0.5174479123894077,
        "lgb_bagging_freq": 6,
        "lgb_min_gain_to_split": 0.8356754157657523,
        "cat_iterations": 215,
        "cat_depth": 7,
        "cat_learning_rate": 0.06372420193762504,
        "cat_l2_leaf_reg": 2.128749945533671,
        "cat_subsample": 0.8265995325618564,
        "cat_rsm": 0.5721797738983521,
        "cat_border_count": 149,
        "cat_random_strength": 0.45631351831704076,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 90.0,
        "avg_nrmse": 1.0197941453206139,
        "model_choice": "all",
        "symbol_metrics": {
          "BUCIM_1d": {
            "symbol": "BUCIM",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 452,
                "test_days": 30,
                "train_end_idx": 452,
                "test_end_idx": 482,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0082274263494276,
                    "rmse": 0.021187580400749327,
                    "mape": 1.8426196235666081,
                    "confidence": 0.6183161586329656
                  },
                  "lightgbm": {
                    "raw_r2": -0.0036709822839801434,
                    "rmse": 0.021125136028799837,
                    "mape": 1.8965955858465957,
                    "confidence": 0.6220174106306817
                  },
                  "catboost": {
                    "raw_r2": 0.015326025053577866,
                    "rmse": 0.020942431952096222,
                    "mape": 1.705529685838977,
                    "confidence": 0.6374463053772847
                  }
                },
                "dirhit": 90.0,
                "rmse": 0.014770259406454166,
                "mape": 3926686.1867203624,
                "nrmse": 0.9787816729909943,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 482,
                "test_days": 30,
                "train_end_idx": 482,
                "test_end_idx": 512,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0023544271365688227,
                    "rmse": 0.02079751919994353,
                    "mape": 1.8978829178848018,
                    "confidence": 0.6230870500433773
                  },
                  "lightgbm": {
                    "raw_r2": -0.004214889308040777,
                    "rmse": 0.020810861140304053,
                    "mape": 1.8799237982328663,
                    "confidence": 0.6215755291794529
                  },
                  "catboost": {
                    "raw_r2": 0.024595279864592274,
                    "rmse": 0.020522558798151794,
                    "mape": 1.7200013618947834,
                    "confidence": 0.6449585181810912
                  }
                },
                "dirhit": null,
                "rmse": 0.01348760233439096,
                "mape": 2445572.6528935637,
                "nrmse": 1.043055091467336,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 512,
                "test_days": 30,
                "train_end_idx": 512,
                "test_end_idx": 542,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -5.254018920005284e-06,
                    "rmse": 0.020423618272200697,
                    "mape": 1.9120930358799133,
                    "confidence": 0.6249957311096277
                  },
                  "lightgbm": {
                    "raw_r2": -0.0021996854582619165,
                    "rmse": 0.020449056156177647,
                    "mape": 1.892995595245379,
                    "confidence": 0.6232127735811728
                  },
                  "catboost": {
                    "raw_r2": 0.003239772752350397,
                    "rmse": 0.020417087188492996,
                    "mape": 1.7447427646917366,
                    "confidence": 0.6276322578021334
                  }
                },
                "dirhit": null,
                "rmse": 0.01742429580153033,
                "mape": 2913064.289836959,
                "nrmse": 1.1107937414722737,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 542,
                "test_days": 30,
                "train_end_idx": 542,
                "test_end_idx": 572,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00041690287277592236,
                    "rmse": 0.020109165892275533,
                    "mape": 1.879423618428005,
                    "confidence": 0.6246612665385249
                  },
                  "lightgbm": {
                    "raw_r2": -0.0032335728208297,
                    "rmse": 0.020128876725433013,
                    "mape": 1.9115423667605638,
                    "confidence": 0.6223727793124132
                  },
                  "catboost": {
                    "raw_r2": 0.03510810988159815,
                    "rmse": 0.019638593691712603,
                    "mape": 1.6493633943418202,
                    "confidence": 0.6534523148229199
                  }
                },
                "dirhit": null,
                "rmse": 0.012709809076136168,
                "mape": 1648686.1700819202,
                "nrmse": 0.9465460753518518,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 90.0,
            "avg_nrmse": 1.0197941453206139,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.002751002594423088,
                "rmse": 0.02062947094129227,
                "mape": 1.8830047989398322,
                "confidence": 0.6227650515811238
              },
              "lightgbm": {
                "raw_r2": -0.0033297824677781343,
                "rmse": 0.020628482512678636,
                "mape": 1.8952643365213513,
                "confidence": 0.6222946231759301
              },
              "catboost": {
                "raw_r2": 0.019567296888029672,
                "rmse": 0.020380167907613402,
                "mape": 1.7049093016918295,
                "confidence": 0.6408723490458572
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 203,
      "value": 55.649250745016396,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "n_seeds": 5,
        "ml_adaptive_k_1d": 1.477678858811459,
        "ml_pattern_weight_scale_1d": 0.9863194027877142,
        "enable_talib_patterns_short": true,
        "external_min_days": 23,
        "external_smooth_alpha": 0.18796956905045334,
        "regime_scale_low": 0.8411419636312524,
        "regime_scale_high": 1.0297559698896614,
        "xgb_n_estimators": 569,
        "xgb_max_depth": 2,
        "xgb_learning_rate": 0.07141220790653685,
        "xgb_subsample": 0.5206136778786752,
        "xgb_colsample_bytree": 0.6655683787871254,
        "xgb_reg_alpha": 0.021281675407017114,
        "xgb_reg_lambda": 0.0032750321278781887,
        "xgb_min_child_weight": 7,
        "xgb_gamma": 0.3805997339066311,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 291,
        "lgb_n_estimators": 448,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.11821164967172633,
        "lgb_num_leaves": 20,
        "lgb_subsample": 0.7886173325912892,
        "lgb_colsample_bytree": 0.7676830776077032,
        "lgb_reg_alpha": 1.8521226559630436e-05,
        "lgb_reg_lambda": 0.11062767799940032,
        "lgb_min_data_in_leaf": 71,
        "lgb_feature_fraction_bynode": 0.522328921698238,
        "lgb_bagging_freq": 6,
        "lgb_min_gain_to_split": 0.5890885612224351,
        "cat_iterations": 287,
        "cat_depth": 7,
        "cat_learning_rate": 0.0832937408448403,
        "cat_l2_leaf_reg": 3.0809800803690734,
        "cat_subsample": 0.6747333063013864,
        "cat_rsm": 0.7373107604515742,
        "cat_border_count": 177,
        "cat_random_strength": 0.6354977121950911,
        "cat_leaf_estimation_iterations": 14,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 88.0952380952381,
        "avg_nrmse": 1.0029026536083785,
        "model_choice": "all",
        "symbol_metrics": {
          "BUCIM_1d": {
            "symbol": "BUCIM",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 452,
                "test_days": 30,
                "train_end_idx": 452,
                "test_end_idx": 482,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.008532817137429483,
                    "rmse": 0.02118979543625562,
                    "mape": 1.8682089840224023,
                    "confidence": 0.6180681375059346
                  },
                  "lightgbm": {
                    "raw_r2": -0.0036709822839801434,
                    "rmse": 0.021125136028799837,
                    "mape": 1.8965955858465957,
                    "confidence": 0.6220174106306817
                  },
                  "catboost": {
                    "raw_r2": 0.03953316781824775,
                    "rmse": 0.02070432769990836,
                    "mape": 1.6536525113388802,
                    "confidence": 0.657016521455934
                  }
                },
                "dirhit": 85.71428571428571,
                "rmse": 0.015178576516410424,
                "mape": 3002242.135056084,
                "nrmse": 1.005839647600377,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 2,
                "train_days": 482,
                "test_days": 30,
                "train_end_idx": 482,
                "test_end_idx": 512,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.002511438050053716,
                    "rmse": 0.020797971210356727,
                    "mape": 1.896761806813839,
                    "confidence": 0.6229594833971638
                  },
                  "lightgbm": {
                    "raw_r2": -0.004214889308040777,
                    "rmse": 0.020810861140304053,
                    "mape": 1.8799237982328663,
                    "confidence": 0.6215755291794529
                  },
                  "catboost": {
                    "raw_r2": 0.014888413723264438,
                    "rmse": 0.020594378761206737,
                    "mape": 1.670112609810948,
                    "confidence": 0.6370912529034678
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.012386687923509625,
                "mape": 3489830.8063854123,
                "nrmse": 0.9579165803317027,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 3,
                "train_days": 512,
                "test_days": 30,
                "train_end_idx": 512,
                "test_end_idx": 542,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -4.9370083354816074e-08,
                    "rmse": 0.02042356007259453,
                    "mape": 1.9208029910036062,
                    "confidence": 0.6249999598868072
                  },
                  "lightgbm": {
                    "raw_r2": -0.0021996854582619165,
                    "rmse": 0.020449056156177647,
                    "mape": 1.892995595245379,
                    "confidence": 0.6232127735811728
                  },
                  "catboost": {
                    "raw_r2": 0.0248332386551751,
                    "rmse": 0.02019131483519934,
                    "mape": 1.6999259083872786,
                    "confidence": 0.6451511234924224
                  }
                },
                "dirhit": 66.66666666666666,
                "rmse": 0.01673386392357442,
                "mape": 3390072.971237287,
                "nrmse": 1.066778911967427,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 4,
                "train_days": 542,
                "test_days": 30,
                "train_end_idx": 542,
                "test_end_idx": 572,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00029922020304303426,
                    "rmse": 0.020107888277126437,
                    "mape": 1.8931714874099141,
                    "confidence": 0.6247568836303752
                  },
                  "lightgbm": {
                    "raw_r2": -0.0032335728208297,
                    "rmse": 0.020128876725433013,
                    "mape": 1.9115423667605638,
                    "confidence": 0.6223727793124132
                  },
                  "catboost": {
                    "raw_r2": 0.009148845704554728,
                    "rmse": 0.02001394294905468,
                    "mape": 1.7565590519118353,
                    "confidence": 0.6324321411791969
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.013176300490934854,
                "mape": 1492172.419225291,
                "nrmse": 0.9810754745340077,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              }
            ],
            "avg_dirhit": 88.0952380952381,
            "avg_nrmse": 1.0029026536083785,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.002835881190152397,
                "rmse": 0.02062980374908333,
                "mape": 1.8947363173124403,
                "confidence": 0.6226961161050701
              },
              "lightgbm": {
                "raw_r2": -0.0033297824677781343,
                "rmse": 0.020628482512678636,
                "mape": 1.8952643365213513,
                "confidence": 0.6222946231759301
              },
              "catboost": {
                "raw_r2": 0.0221009164753105,
                "rmse": 0.020375991061342278,
                "mape": 1.6950625203622354,
                "confidence": 0.6429227597577553
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_BUCIM_h1_c2",
  "symbols": [
    "BUCIM"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "n_seeds": 5,
    "ml_adaptive_k_1d": 1.2871581001917392,
    "ml_pattern_weight_scale_1d": 1.3685474410449414,
    "external_min_days": 23,
    "external_smooth_alpha": 0.18706787390211344,
    "regime_scale_low": 0.8390625525026905,
    "regime_scale_high": 1.1120432034640217
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 560,
    "xgb_max_depth": 2,
    "xgb_learning_rate": 0.06286795872162577,
    "xgb_subsample": 0.5104184533020304,
    "xgb_colsample_bytree": 0.8502625108508404,
    "xgb_reg_alpha": 0.0011678354314994376,
    "xgb_reg_lambda": 0.0019814526048645563,
    "xgb_min_child_weight": 6,
    "xgb_gamma": 0.38956222465075274,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 334,
    "lgb_n_estimators": 456,
    "lgb_max_depth": 8,
    "lgb_learning_rate": 0.06467477112637621,
    "lgb_num_leaves": 36,
    "lgb_subsample": 0.7869064972910532,
    "lgb_colsample_bytree": 0.5966722581553141,
    "lgb_reg_alpha": 3.786041858090617e-05,
    "lgb_reg_lambda": 4.703562060606965,
    "lgb_min_data_in_leaf": 98,
    "lgb_feature_fraction_bynode": 0.5332815382383458,
    "lgb_bagging_freq": 5,
    "lgb_min_gain_to_split": 0.7475009143928545,
    "cat_iterations": 266,
    "cat_depth": 7,
    "cat_learning_rate": 0.05281683701560368,
    "cat_l2_leaf_reg": 3.521642121942141,
    "cat_subsample": 0.8559429679817876,
    "cat_rsm": 0.8237444129873687,
    "cat_border_count": 68,
    "cat_random_strength": 1.7813080081332782,
    "cat_leaf_estimation_iterations": 17,
    "cat_bootstrap_type": "No"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "BUCIM_1d": {
      "symbol": "BUCIM",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 451,
          "test_days": 30,
          "train_end_idx": 451,
          "test_end_idx": 481,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-11T00:00:00",
          "test_start": "2025-06-12T00:00:00",
          "test_end": "2025-07-24T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.005755306723277324,
              "rmse": 0.021156652655762158,
              "mape": 1.8749733267847926,
              "confidence": 0.6203241359521385
            },
            "lightgbm": {
              "raw_r2": -0.0036709822839801434,
              "rmse": 0.021125136028799837,
              "mape": 1.8965955858465957,
              "confidence": 0.6220174106306817
            },
            "catboost": {
              "raw_r2": 0.03088987622210067,
              "rmse": 0.02079616042663555,
              "mape": 1.6833202415165305,
              "confidence": 0.6500482511910619
            }
          },
          "dirhit": 66.66666666666666,
          "rmse": 0.016361489923832594,
          "mape": 2471069.2973403106,
          "nrmse": 0.9772369338945982,
          "mask_count": 6,
          "mask_pct": 20.689655172413794,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        },
        {
          "split_index": 2,
          "train_days": 481,
          "test_days": 30,
          "train_end_idx": 481,
          "test_end_idx": 511,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-24T00:00:00",
          "test_start": "2025-07-25T00:00:00",
          "test_end": "2025-09-04T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.002608194147751893,
              "rmse": 0.02079884820266326,
              "mape": 1.9296187120554666,
              "confidence": 0.6228808722876596
            },
            "lightgbm": {
              "raw_r2": -0.004214889308040777,
              "rmse": 0.020810861140304053,
              "mape": 1.8799237982328663,
              "confidence": 0.6215755291794529
            },
            "catboost": {
              "raw_r2": 0.03266836746317514,
              "rmse": 0.020440991724560705,
              "mape": 1.644431524089294,
              "confidence": 0.6514841903218395
            }
          },
          "dirhit": 100.0,
          "rmse": 0.013174507453861473,
          "mape": 1328557.16687278,
          "nrmse": 0.9810084332002296,
          "mask_count": 5,
          "mask_pct": 17.24137931034483,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        },
        {
          "split_index": 3,
          "train_days": 511,
          "test_days": 30,
          "train_end_idx": 511,
          "test_end_idx": 541,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-04T00:00:00",
          "test_start": "2025-09-05T00:00:00",
          "test_end": "2025-10-16T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -1.660566619069807e-05,
              "rmse": 0.020423745110782585,
              "mape": 1.9062091394831362,
              "confidence": 0.6249865078962278
            },
            "lightgbm": {
              "raw_r2": -0.0021996854582619165,
              "rmse": 0.020449056156177647,
              "mape": 1.892995595245379,
              "confidence": 0.6232127735811728
            },
            "catboost": {
              "raw_r2": 0.016494429309734993,
              "rmse": 0.020248032311284372,
              "mape": 1.6204708800284617,
              "confidence": 0.6383941328188173
            }
          },
          "dirhit": 100.0,
          "rmse": 0.016930917595975745,
          "mape": 3182295.5230022823,
          "nrmse": 1.0482814073041076,
          "mask_count": 2,
          "mask_pct": 6.896551724137931,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        },
        {
          "split_index": 4,
          "train_days": 541,
          "test_days": 30,
          "train_end_idx": 541,
          "test_end_idx": 571,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-16T00:00:00",
          "test_start": "2025-10-17T00:00:00",
          "test_end": "2025-11-27T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0005858745343635766,
              "rmse": 0.020110455469120932,
              "mape": 1.876976493626502,
              "confidence": 0.6245239772812343
            },
            "lightgbm": {
              "raw_r2": -0.0032335728208297,
              "rmse": 0.020128876725433013,
              "mape": 1.9115423667605638,
              "confidence": 0.6223727793124132
            },
            "catboost": {
              "raw_r2": 0.010805839919614849,
              "rmse": 0.019984558247378038,
              "mape": 1.629071897137451,
              "confidence": 0.6337776097720437
            }
          },
          "dirhit": 100.0,
          "rmse": 0.013212089427848165,
          "mape": 1610233.9819675197,
          "nrmse": 0.9801920368512846,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653,
          "low_support": false,
          "min_mask_count": 0,
          "min_mask_pct": 0.0
        }
      ],
      "avg_dirhit": 91.66666666666666,
      "avg_nrmse": 0.9966797028125549,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.0022414952678958726,
          "rmse": 0.020622425359582235,
          "mape": 1.8969444179874744,
          "confidence": 0.6231788733543151
        },
        "lightgbm": {
          "raw_r2": -0.0033297824677781343,
          "rmse": 0.020628482512678636,
          "mape": 1.8952643365213513,
          "confidence": 0.6222946231759301
        },
        "catboost": {
          "raw_r2": 0.022714628228656414,
          "rmse": 0.020367435677464667,
          "mape": 1.6443236356929343,
          "confidence": 0.6434260460259406
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 10,
    "min_mask_pct": 5.0,
    "best_trial_number": 103,
    "best_trial_seed": 145,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "BUCIM_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 451,
            "test_end_idx": 481,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-11T00:00:00",
            "test_start": "2025-06-12T00:00:00",
            "test_end": "2025-07-24T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 481,
            "test_end_idx": 511,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-24T00:00:00",
            "test_start": "2025-07-25T00:00:00",
            "test_end": "2025-09-04T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 511,
            "test_end_idx": 541,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-04T00:00:00",
            "test_start": "2025-09-05T00:00:00",
            "test_end": "2025-10-16T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 541,
            "test_end_idx": 571,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-16T00:00:00",
            "test_start": "2025-10-17T00:00:00",
            "test_end": "2025-11-27T00:00:00"
          }
        ]
      }
    }
  }
}