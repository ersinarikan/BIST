{
  "best_value": 49.99523803840566,
  "best_dirhit": 81.81818181818183,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.5342252773273466,
    "ml_loss_threshold": 0.0019457661116822375,
    "ml_dir_penalty": 2.7824302069882814,
    "ml_adaptive_k_1d": 1.354182678366195,
    "ml_pattern_weight_scale_1d": 1.2274400207076226,
    "enable_talib_patterns_short": false,
    "external_min_days": 38,
    "external_smooth_alpha": 0.398339898069647,
    "regime_scale_low": 0.8390289104935598,
    "regime_scale_high": 1.15889380034009,
    "smart_consensus_weight": 0.3635448545865128,
    "smart_performance_weight": 0.5363687994997655,
    "smart_sigma": 0.0076446969788998695,
    "smart_weight_xgb": 1.4285683017432724,
    "smart_weight_lgbm": 1.1058353186512146,
    "smart_weight_cat": 0.5962122284286895,
    "cat_iterations": 186,
    "cat_depth": 5,
    "cat_learning_rate": 0.02416038873364052,
    "cat_l2_leaf_reg": 3.6879969268098645,
    "cat_subsample": 0.9424499543207265,
    "cat_rsm": 0.8549573752314227,
    "cat_border_count": 100,
    "cat_random_strength": 0.9182325383526585,
    "cat_leaf_estimation_iterations": 4,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 1108,
    "value": 49.99523803840566,
    "state": "1"
  },
  "best_trial_number": 1108,
  "best_trial_seed": 1150,
  "n_trials": 1501,
  "pruned_count": 0,
  "avg_trial_time": 220.9976797010944,
  "top_k_trials": [
    {
      "number": 1108,
      "value": 49.99523803840566,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.5342252773273466,
        "ml_loss_threshold": 0.0019457661116822375,
        "ml_dir_penalty": 2.7824302069882814,
        "ml_adaptive_k_1d": 1.354182678366195,
        "ml_pattern_weight_scale_1d": 1.2274400207076226,
        "enable_talib_patterns_short": false,
        "external_min_days": 38,
        "external_smooth_alpha": 0.398339898069647,
        "regime_scale_low": 0.8390289104935598,
        "regime_scale_high": 1.15889380034009,
        "smart_consensus_weight": 0.3635448545865128,
        "smart_performance_weight": 0.5363687994997655,
        "smart_sigma": 0.0076446969788998695,
        "smart_weight_xgb": 1.4285683017432724,
        "smart_weight_lgbm": 1.1058353186512146,
        "smart_weight_cat": 0.5962122284286895,
        "cat_iterations": 186,
        "cat_depth": 5,
        "cat_learning_rate": 0.02416038873364052,
        "cat_l2_leaf_reg": 3.6879969268098645,
        "cat_subsample": 0.9424499543207265,
        "cat_rsm": 0.8549573752314227,
        "cat_border_count": 100,
        "cat_random_strength": 0.9182325383526585,
        "cat_leaf_estimation_iterations": 4,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 81.81818181818183,
        "avg_nrmse": 1.2129148723869356,
        "model_choice": "cat",
        "symbol_metrics": {
          "ANSGR_1d": {
            "symbol": "ANSGR",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.12125071475191158,
                    "rmse": 0.16596152037453915,
                    "mape": 1.380154779839241,
                    "confidence": 0.5293942828594742
                  },
                  "catboost": {
                    "raw_r2": -0.01643428184764321,
                    "rmse": 0.16596463206740164,
                    "mape": 1.5507015173671785,
                    "confidence": 0.6116546542913128
                  }
                },
                "dirhit": null,
                "rmse": 0.017380875811057406,
                "mape": 625902.3386900013,
                "nrmse": 0.9916567454008208,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.11333334722793913,
                    "rmse": 0.16109032310821547,
                    "mape": 1.382007940578006,
                    "confidence": 0.5353041036408933
                  },
                  "catboost": {
                    "raw_r2": -0.0020803699744680695,
                    "rmse": 0.16108346255969405,
                    "mape": 1.5350640843977998,
                    "confidence": 0.623309714636243
                  }
                },
                "dirhit": null,
                "rmse": 0.14376158448294274,
                "mape": 1722190.7596388767,
                "nrmse": 1.0460891942565909,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0870488133068937,
                    "rmse": 0.16069307246862732,
                    "mape": 1.391213316552796,
                    "confidence": 0.5553686165120499
                  },
                  "catboost": {
                    "raw_r2": -0.0010196924738004043,
                    "rmse": 0.16064355929274635,
                    "mape": 1.5711932545667395,
                    "confidence": 0.6241715016597239
                  }
                },
                "dirhit": null,
                "rmse": 0.02883069627181294,
                "mape": 553.1515941289022,
                "nrmse": 1.4764385162657068,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.09246321808030296,
                    "rmse": 0.1565658346317273,
                    "mape": 1.4031406396342379,
                    "confidence": 0.551183742461606
                  },
                  "catboost": {
                    "raw_r2": -0.00647277581223656,
                    "rmse": 0.15650397942622016,
                    "mape": 1.595567278786465,
                    "confidence": 0.6197413286479667
                  }
                },
                "dirhit": 81.81818181818183,
                "rmse": 0.01731591453775786,
                "mape": 3416454.365143212,
                "nrmse": 1.3374750336246242,
                "mask_count": 11,
                "mask_pct": 37.93103448275862,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 81.81818181818183,
            "avg_nrmse": 1.2129148723869356,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.10352402334176183,
                "rmse": 0.1610776876457773,
                "mape": 1.38912916915107,
                "confidence": 0.5428126863685059
              },
              "catboost": {
                "raw_r2": -0.006501780027037061,
                "rmse": 0.16104890833651556,
                "mape": 1.5631315337795457,
                "confidence": 0.6197192998088117
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 156,
      "value": 43.92434273822712,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.5705855573590978,
        "ml_loss_threshold": 0.003671426328604729,
        "ml_dir_penalty": 1.7153456799212887,
        "ml_adaptive_k_1d": 2.9509861986707713,
        "ml_pattern_weight_scale_1d": 1.0961049689467748,
        "enable_talib_patterns_short": false,
        "external_min_days": 35,
        "external_smooth_alpha": 0.43512466786498827,
        "regime_scale_low": 0.8808029458865015,
        "regime_scale_high": 1.0435808412904661,
        "smart_consensus_weight": 0.5986300923840928,
        "smart_performance_weight": 0.4218330312314328,
        "smart_sigma": 0.0058821677272079915,
        "smart_weight_xgb": 1.1791960617282686,
        "smart_weight_lgbm": 0.9768144495344421,
        "smart_weight_cat": 1.406975244232524,
        "cat_iterations": 145,
        "cat_depth": 4,
        "cat_learning_rate": 0.019807735916339202,
        "cat_l2_leaf_reg": 7.820789632952844,
        "cat_subsample": 0.8944161677466708,
        "cat_rsm": 0.7953278137898444,
        "cat_border_count": 158,
        "cat_random_strength": 0.4502820588761169,
        "cat_leaf_estimation_iterations": 5,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 71.66666666666666,
        "avg_nrmse": 1.0403873214065895,
        "model_choice": "cat",
        "symbol_metrics": {
          "ANSGR_1d": {
            "symbol": "ANSGR",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 450,
                "test_days": 30,
                "train_end_idx": 450,
                "test_end_idx": 480,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-05T00:00:00",
                "test_start": "2025-06-10T00:00:00",
                "test_end": "2025-07-22T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -2.566489133935771,
                    "rmse": 0.17278081630002207,
                    "mape": 1.5528619165530608,
                    "confidence": 0.30000173720812645
                  },
                  "catboost": {
                    "raw_r2": -0.012966301439524338,
                    "rmse": 0.16669231315683414,
                    "mape": 1.5700521955844302,
                    "confidence": 0.6144685685649788
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.017863333880951772,
                "mape": 88695.92937044699,
                "nrmse": 0.99423216392107,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 2,
                "train_days": 480,
                "test_days": 30,
                "train_end_idx": 480,
                "test_end_idx": 510,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-22T00:00:00",
                "test_start": "2025-07-23T00:00:00",
                "test_end": "2025-09-02T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -2.640391372644293,
                    "rmse": 0.16808503539248176,
                    "mape": 1.5558105826848598,
                    "confidence": 0.30000120053696994
                  },
                  "catboost": {
                    "raw_r2": -0.010535861248202272,
                    "rmse": 0.161780436226724,
                    "mape": 1.5295548613058834,
                    "confidence": 0.6164415918541406
                  }
                },
                "dirhit": 50.0,
                "rmse": 0.1409334337739467,
                "mape": 2021254.2137048943,
                "nrmse": 1.023550648745079,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 3,
                "train_days": 510,
                "test_days": 30,
                "train_end_idx": 510,
                "test_end_idx": 540,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-02T00:00:00",
                "test_start": "2025-09-03T00:00:00",
                "test_end": "2025-10-14T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -2.8001847230127104,
                    "rmse": 0.16809611622389642,
                    "mape": 1.5656088574774445,
                    "confidence": 0.3000005399942412
                  },
                  "catboost": {
                    "raw_r2": -0.005918286527914818,
                    "rmse": 0.16128210342527483,
                    "mape": 1.5431596967970689,
                    "confidence": 0.6201917430546212
                  }
                },
                "dirhit": 66.66666666666666,
                "rmse": 0.01896465539121986,
                "mape": 106.91797420489286,
                "nrmse": 0.9780380950967215,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 4,
                "train_days": 540,
                "test_days": 30,
                "train_end_idx": 540,
                "test_end_idx": 570,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-14T00:00:00",
                "test_start": "2025-10-15T00:00:00",
                "test_end": "2025-11-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -2.5808698610243317,
                    "rmse": 0.1641332906671976,
                    "mape": 1.570349422600888,
                    "confidence": 0.30000161668191716
                  },
                  "catboost": {
                    "raw_r2": -0.006828811175258724,
                    "rmse": 0.15707738241874844,
                    "mape": 1.5494011160589147,
                    "confidence": 0.6194521298928631
                  }
                },
                "dirhit": 70.0,
                "rmse": 0.016207117515615398,
                "mape": 5727931.629122353,
                "nrmse": 1.165728377863488,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              }
            ],
            "avg_dirhit": 71.66666666666666,
            "avg_nrmse": 1.0403873214065895,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -2.646983772654276,
                "rmse": 0.16827381464589947,
                "mape": 1.5611576948290633,
                "confidence": 0.3000012736053137
              },
              "catboost": {
                "raw_r2": -0.009062315097725038,
                "rmse": 0.16170805880689534,
                "mape": 1.5480419674365744,
                "confidence": 0.6176385083416509
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 759,
      "value": 43.715630472378784,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "meta_stacking_alpha": 0.3035565945883409,
        "ml_adaptive_k_1d": 1.2422536342334063,
        "ml_pattern_weight_scale_1d": 1.228282074887555,
        "enable_talib_patterns_short": false,
        "external_min_days": 40,
        "external_smooth_alpha": 0.14625724042846766,
        "regime_scale_low": 0.8574175661664329,
        "regime_scale_high": 1.0341709645250563,
        "smart_consensus_weight": 0.39334979707480683,
        "smart_performance_weight": 0.5942631644247325,
        "smart_sigma": 0.010689464573227933,
        "smart_weight_xgb": 0.9801568250999025,
        "smart_weight_lgbm": 0.9907038255167503,
        "smart_weight_cat": 1.1041158570446534,
        "cat_iterations": 171,
        "cat_depth": 5,
        "cat_learning_rate": 0.02106840032540978,
        "cat_l2_leaf_reg": 6.3207754144500665,
        "cat_subsample": 0.9039768403118923,
        "cat_rsm": 0.8554837270770705,
        "cat_border_count": 124,
        "cat_random_strength": 0.7671557143871184,
        "cat_leaf_estimation_iterations": 18,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 72.11538461538461,
        "avg_nrmse": 1.127523126398407,
        "model_choice": "cat",
        "symbol_metrics": {
          "ANSGR_1d": {
            "symbol": "ANSGR",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 452,
                "test_days": 30,
                "train_end_idx": 452,
                "test_end_idx": 482,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-11T00:00:00",
                "test_start": "2025-06-12T00:00:00",
                "test_end": "2025-07-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.014701014574662071,
                    "rmse": 0.16674920376128674,
                    "mape": 1.5466596385396887,
                    "confidence": 0.6130608007942773
                  },
                  "catboost": {
                    "raw_r2": -0.014431774190521033,
                    "rmse": 0.16671922302669728,
                    "mape": 1.5222468385882095,
                    "confidence": 0.6132792687544639
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.01759896669244544,
                "mape": 874987.2875692204,
                "nrmse": 1.010181888361895,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 2,
                "train_days": 482,
                "test_days": 30,
                "train_end_idx": 482,
                "test_end_idx": 512,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-24T00:00:00",
                "test_start": "2025-07-25T00:00:00",
                "test_end": "2025-09-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00835823289201946,
                    "rmse": 0.16112974770431576,
                    "mape": 1.5435494864595904,
                    "confidence": 0.6182099239862566
                  },
                  "catboost": {
                    "raw_r2": -0.014328785691026283,
                    "rmse": 0.16110983496463155,
                    "mape": 1.5284571323946308,
                    "confidence": 0.6133628388528928
                  }
                },
                "dirhit": 50.0,
                "rmse": 0.1407044001534182,
                "mape": 679010.9328524556,
                "nrmse": 1.0242390030310444,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 3,
                "train_days": 512,
                "test_days": 30,
                "train_end_idx": 512,
                "test_end_idx": 542,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-04T00:00:00",
                "test_start": "2025-09-05T00:00:00",
                "test_end": "2025-10-16T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.004675407685394095,
                    "rmse": 0.16129483179404006,
                    "mape": 1.5713746046351742,
                    "confidence": 0.6212014042439682
                  },
                  "catboost": {
                    "raw_r2": -0.010524354651714344,
                    "rmse": 0.16127363738529624,
                    "mape": 1.5432722440704676,
                    "confidence": 0.6164509344876602
                  }
                },
                "dirhit": 38.46153846153847,
                "rmse": 0.0299913129947883,
                "mape": 604.7579922781297,
                "nrmse": 1.525409584701598,
                "mask_count": 13,
                "mask_pct": 44.827586206896555,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 4,
                "train_days": 542,
                "test_days": 30,
                "train_end_idx": 542,
                "test_end_idx": 572,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-16T00:00:00",
                "test_start": "2025-10-17T00:00:00",
                "test_end": "2025-11-27T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0027988216250514064,
                    "rmse": 0.15652616709067227,
                    "mape": 1.6153315697787343,
                    "confidence": 0.622725994540358
                  },
                  "catboost": {
                    "raw_r2": -0.0004543982445521048,
                    "rmse": 0.15644683776193655,
                    "mape": 1.5714136697854535,
                    "confidence": 0.6246308015851165
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.01315348559794272,
                "mape": 1350440.3639883534,
                "nrmse": 0.9502620294990898,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              }
            ],
            "avg_dirhit": 72.11538461538461,
            "avg_nrmse": 1.127523126398407,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.007633369194281758,
                "rmse": 0.1614249875875787,
                "mape": 1.569228824853297,
                "confidence": 0.6187995308912151
              },
              "catboost": {
                "raw_r2": -0.009934828194453441,
                "rmse": 0.16138738328464042,
                "mape": 1.5413474712096904,
                "confidence": 0.6169309609200333
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ANSGR_h1_c2",
  "symbols": [
    "ANSGR"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.5342252773273466,
    "ml_loss_threshold": 0.0019457661116822375,
    "ml_dir_penalty": 2.7824302069882814,
    "ml_adaptive_k_1d": 1.354182678366195,
    "ml_pattern_weight_scale_1d": 1.2274400207076226,
    "external_min_days": 38,
    "external_smooth_alpha": 0.398339898069647,
    "regime_scale_low": 0.8390289104935598,
    "regime_scale_high": 1.15889380034009,
    "smart_consensus_weight": 0.3635448545865128,
    "smart_performance_weight": 0.5363687994997655,
    "smart_sigma": 0.0076446969788998695,
    "smart_weight_xgb": 1.4285683017432724,
    "smart_weight_lgbm": 1.1058353186512146,
    "smart_weight_cat": 0.5962122284286895
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 186,
    "cat_depth": 5,
    "cat_learning_rate": 0.02416038873364052,
    "cat_l2_leaf_reg": 3.6879969268098645,
    "cat_subsample": 0.9424499543207265,
    "cat_rsm": 0.8549573752314227,
    "cat_border_count": 100,
    "cat_random_strength": 0.9182325383526585,
    "cat_leaf_estimation_iterations": 4,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ANSGR_1d": {
      "symbol": "ANSGR",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 453,
          "test_days": 30,
          "train_end_idx": 453,
          "test_end_idx": 483,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-12T00:00:00",
          "test_start": "2025-06-13T00:00:00",
          "test_end": "2025-07-25T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.12125071475191158,
              "rmse": 0.16596152037453915,
              "mape": 1.380154779839241,
              "confidence": 0.5293942828594742
            },
            "catboost": {
              "raw_r2": -0.01643428184764321,
              "rmse": 0.16596463206740164,
              "mape": 1.5507015173671785,
              "confidence": 0.6116546542913128
            }
          },
          "dirhit": null,
          "rmse": 0.017380875811057406,
          "mape": 625902.3386900013,
          "nrmse": 0.9916567454008208,
          "mask_count": 4,
          "mask_pct": 13.793103448275861,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 2,
          "train_days": 483,
          "test_days": 30,
          "train_end_idx": 483,
          "test_end_idx": 513,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-25T00:00:00",
          "test_start": "2025-07-28T00:00:00",
          "test_end": "2025-09-05T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.11333334722793913,
              "rmse": 0.16109032310821547,
              "mape": 1.382007940578006,
              "confidence": 0.5353041036408933
            },
            "catboost": {
              "raw_r2": -0.0020803699744680695,
              "rmse": 0.16108346255969405,
              "mape": 1.5350640843977998,
              "confidence": 0.623309714636243
            }
          },
          "dirhit": null,
          "rmse": 0.14376158448294274,
          "mape": 1722190.7596388767,
          "nrmse": 1.0460891942565909,
          "mask_count": 4,
          "mask_pct": 13.793103448275861,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 3,
          "train_days": 513,
          "test_days": 30,
          "train_end_idx": 513,
          "test_end_idx": 543,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-05T00:00:00",
          "test_start": "2025-09-08T00:00:00",
          "test_end": "2025-10-17T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0870488133068937,
              "rmse": 0.16069307246862732,
              "mape": 1.391213316552796,
              "confidence": 0.5553686165120499
            },
            "catboost": {
              "raw_r2": -0.0010196924738004043,
              "rmse": 0.16064355929274635,
              "mape": 1.5711932545667395,
              "confidence": 0.6241715016597239
            }
          },
          "dirhit": null,
          "rmse": 0.02883069627181294,
          "mape": 553.1515941289022,
          "nrmse": 1.4764385162657068,
          "mask_count": 6,
          "mask_pct": 20.689655172413794,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 4,
          "train_days": 543,
          "test_days": 30,
          "train_end_idx": 543,
          "test_end_idx": 573,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-17T00:00:00",
          "test_start": "2025-10-20T00:00:00",
          "test_end": "2025-11-28T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.09246321808030296,
              "rmse": 0.1565658346317273,
              "mape": 1.4031406396342379,
              "confidence": 0.551183742461606
            },
            "catboost": {
              "raw_r2": -0.00647277581223656,
              "rmse": 0.15650397942622016,
              "mape": 1.595567278786465,
              "confidence": 0.6197413286479667
            }
          },
          "dirhit": 81.81818181818183,
          "rmse": 0.01731591453775786,
          "mape": 3416454.365143212,
          "nrmse": 1.3374750336246242,
          "mask_count": 11,
          "mask_pct": 37.93103448275862,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        }
      ],
      "avg_dirhit": 81.81818181818183,
      "avg_nrmse": 1.2129148723869356,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.10352402334176183,
          "rmse": 0.1610776876457773,
          "mape": 1.38912916915107,
          "confidence": 0.5428126863685059
        },
        "catboost": {
          "raw_r2": -0.006501780027037061,
          "rmse": 0.16104890833651556,
          "mape": 1.5631315337795457,
          "confidence": 0.6197192998088117
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 0,
    "min_mask_pct": 0.0,
    "best_trial_number": 1108,
    "best_trial_seed": 1150,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "ANSGR_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 453,
            "test_end_idx": 483,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-12T00:00:00",
            "test_start": "2025-06-13T00:00:00",
            "test_end": "2025-07-25T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 483,
            "test_end_idx": 513,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-25T00:00:00",
            "test_start": "2025-07-28T00:00:00",
            "test_end": "2025-09-05T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 513,
            "test_end_idx": 543,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-05T00:00:00",
            "test_start": "2025-09-08T00:00:00",
            "test_end": "2025-10-17T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 543,
            "test_end_idx": 573,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-17T00:00:00",
            "test_start": "2025-10-20T00:00:00",
            "test_end": "2025-11-28T00:00:00"
          }
        ]
      }
    }
  }
}