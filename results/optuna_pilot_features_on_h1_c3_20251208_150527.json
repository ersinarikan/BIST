{
  "best_value": 54.80877407059543,
  "best_dirhit": 87.5,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "model_choice": "all",
    "n_seeds": 3,
    "meta_stacking_alpha": 0.1683408390878453,
    "ml_adaptive_k_1d": 2.4303385077705024,
    "ml_pattern_weight_scale_1d": 1.4141137159466215,
    "enable_talib_patterns_short": false,
    "external_min_days": 21,
    "external_smooth_alpha": 0.10626655882687652,
    "yolo_min_conf": 0.6751564730511326,
    "xgb_n_estimators": 417,
    "xgb_max_depth": 6,
    "xgb_learning_rate": 0.02475348687663042,
    "xgb_subsample": 0.7305248295616504,
    "xgb_colsample_bytree": 0.5532477616568571,
    "xgb_reg_alpha": 0.008952290692586054,
    "xgb_reg_lambda": 1.4981689503158804,
    "xgb_min_child_weight": 8,
    "xgb_gamma": 0.03848848346683378,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 223,
    "lgb_n_estimators": 418,
    "lgb_max_depth": 3,
    "lgb_learning_rate": 0.09738652714280777,
    "lgb_num_leaves": 17,
    "lgb_subsample": 0.8859520410787332,
    "lgb_colsample_bytree": 0.7452955768390013,
    "lgb_reg_alpha": 1.9478630282823919,
    "lgb_reg_lambda": 0.6277172630873095,
    "lgb_min_data_in_leaf": 38,
    "lgb_feature_fraction_bynode": 0.7963254992366514,
    "lgb_bagging_freq": 1,
    "lgb_min_gain_to_split": 0.8180526510808022,
    "cat_iterations": 293,
    "cat_depth": 8,
    "cat_learning_rate": 0.0106099959228825,
    "cat_l2_leaf_reg": 7.030420007353736,
    "cat_subsample": 0.6763572556228052,
    "cat_rsm": 0.910916498048498,
    "cat_border_count": 237,
    "cat_random_strength": 0.27775916897533764,
    "cat_leaf_estimation_iterations": 17,
    "cat_bootstrap_type": "Bayesian"
  },
  "best_trial": {
    "number": 1482,
    "value": 54.80877407059543,
    "state": "1"
  },
  "best_trial_number": 1482,
  "best_trial_seed": 1524,
  "n_trials": 1500,
  "pruned_count": 0,
  "avg_trial_time": 280.8755153726415,
  "top_k_trials": [
    {
      "number": 1482,
      "value": 54.80877407059543,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "n_seeds": 3,
        "meta_stacking_alpha": 0.1683408390878453,
        "ml_adaptive_k_1d": 2.4303385077705024,
        "ml_pattern_weight_scale_1d": 1.4141137159466215,
        "enable_talib_patterns_short": false,
        "external_min_days": 21,
        "external_smooth_alpha": 0.10626655882687652,
        "yolo_min_conf": 0.6751564730511326,
        "xgb_n_estimators": 417,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.02475348687663042,
        "xgb_subsample": 0.7305248295616504,
        "xgb_colsample_bytree": 0.5532477616568571,
        "xgb_reg_alpha": 0.008952290692586054,
        "xgb_reg_lambda": 1.4981689503158804,
        "xgb_min_child_weight": 8,
        "xgb_gamma": 0.03848848346683378,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 223,
        "lgb_n_estimators": 418,
        "lgb_max_depth": 3,
        "lgb_learning_rate": 0.09738652714280777,
        "lgb_num_leaves": 17,
        "lgb_subsample": 0.8859520410787332,
        "lgb_colsample_bytree": 0.7452955768390013,
        "lgb_reg_alpha": 1.9478630282823919,
        "lgb_reg_lambda": 0.6277172630873095,
        "lgb_min_data_in_leaf": 38,
        "lgb_feature_fraction_bynode": 0.7963254992366514,
        "lgb_bagging_freq": 1,
        "lgb_min_gain_to_split": 0.8180526510808022,
        "cat_iterations": 293,
        "cat_depth": 8,
        "cat_learning_rate": 0.0106099959228825,
        "cat_l2_leaf_reg": 7.030420007353736,
        "cat_subsample": 0.6763572556228052,
        "cat_rsm": 0.910916498048498,
        "cat_border_count": 237,
        "cat_random_strength": 0.27775916897533764,
        "cat_leaf_estimation_iterations": 17,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 87.5,
        "avg_nrmse": 1.07353765490076,
        "model_choice": "all",
        "symbol_metrics": {
          "BORLS_1d": {
            "symbol": "BORLS",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 416,
                "test_days": 30,
                "train_end_idx": 416,
                "test_end_idx": 446,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.019385422562846515,
                    "rmse": 0.029839139856435135,
                    "mape": 1.6078552697709216,
                    "confidence": 0.6407383361323478
                  },
                  "lightgbm": {
                    "raw_r2": -0.007232901007132882,
                    "rmse": 0.030224683990261826,
                    "mape": 1.6592471656206558,
                    "confidence": 0.6191239083487747
                  },
                  "catboost": {
                    "raw_r2": 0.022894186882861083,
                    "rmse": 0.029811154272188403,
                    "mape": 1.5688420869137305,
                    "confidence": 0.6435812411841744
                  }
                },
                "dirhit": null,
                "rmse": 0.04334369695296515,
                "mape": 98.03028658969463,
                "nrmse": 1.0145342294804485,
                "mask_count": 0,
                "mask_pct": 0.0,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 446,
                "test_days": 30,
                "train_end_idx": 446,
                "test_end_idx": 476,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.017183252438620327,
                    "rmse": 0.032275827328661355,
                    "mape": 1.627398584190879,
                    "confidence": 0.6389528108183068
                  },
                  "lightgbm": {
                    "raw_r2": -0.011012148017002454,
                    "rmse": 0.03264801225170787,
                    "mape": 1.6716861956787743,
                    "confidence": 0.6160548895185183
                  },
                  "catboost": {
                    "raw_r2": 0.006122766986325597,
                    "rmse": 0.032429114820610574,
                    "mape": 1.6407706766006669,
                    "confidence": 0.6299743596821108
                  }
                },
                "dirhit": null,
                "rmse": 0.020276263467641987,
                "mape": 105.93122610295308,
                "nrmse": 1.031967228511104,
                "mask_count": 0,
                "mask_pct": 0.0,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 476,
                "test_days": 30,
                "train_end_idx": 476,
                "test_end_idx": 506,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.005679565777447622,
                    "rmse": 0.03140881579973949,
                    "mape": 1.659766955569661,
                    "confidence": 0.6296143371007842
                  },
                  "lightgbm": {
                    "raw_r2": -0.018208944814011252,
                    "rmse": 0.03164551587977957,
                    "mape": 1.677672845740702,
                    "confidence": 0.6102154435350574
                  },
                  "catboost": {
                    "raw_r2": 0.008163734392764854,
                    "rmse": 0.03130959983813888,
                    "mape": 1.63764750581722,
                    "confidence": 0.6316321133706573
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.036446173345142184,
                "mape": 1305818.9373468123,
                "nrmse": 0.9763810849061197,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 506,
                "test_days": 30,
                "train_end_idx": 506,
                "test_end_idx": 536,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.002999298344141329,
                    "rmse": 0.03196055069453755,
                    "mape": 1.6806807646724597,
                    "confidence": 0.6274368842345772
                  },
                  "lightgbm": {
                    "raw_r2": -0.007566469359554739,
                    "rmse": 0.03211782577522939,
                    "mape": 1.6817745307359009,
                    "confidence": 0.6188529768071303
                  },
                  "catboost": {
                    "raw_r2": 0.005866791121270791,
                    "rmse": 0.03184450904220445,
                    "mape": 1.6561037551434874,
                    "confidence": 0.6297664260060354
                  }
                },
                "dirhit": 75.0,
                "rmse": 0.07807520713555248,
                "mape": 1066398.9604423272,
                "nrmse": 1.271268076705368,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 87.5,
            "avg_nrmse": 1.07353765490076,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": 0.01131188478076395,
                "rmse": 0.03137108341984338,
                "mape": 1.64392539355098,
                "confidence": 0.634185592071504
              },
              "lightgbm": {
                "raw_r2": -0.01100511579942533,
                "rmse": 0.031659009474244666,
                "mape": 1.6725951844440083,
                "confidence": 0.6160618045523701
              },
              "catboost": {
                "raw_r2": 0.01076186984580558,
                "rmse": 0.03134859449328558,
                "mape": 1.625841006118776,
                "confidence": 0.6337385350607445
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1370,
      "value": 54.740148091676616,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "n_seeds": 3,
        "meta_stacking_alpha": 0.11364939751568925,
        "ml_adaptive_k_1d": 1.2533584937316176,
        "ml_pattern_weight_scale_1d": 1.4404611191133825,
        "enable_talib_patterns_short": false,
        "external_min_days": 58,
        "external_smooth_alpha": 0.09873383134532472,
        "yolo_min_conf": 0.6932019203278404,
        "xgb_n_estimators": 439,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.051025039582253934,
        "xgb_subsample": 0.7358834475834068,
        "xgb_colsample_bytree": 0.7362909905842125,
        "xgb_reg_alpha": 0.021258952838068557,
        "xgb_reg_lambda": 2.484061606030824,
        "xgb_min_child_weight": 9,
        "xgb_gamma": 0.08618465632574913,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 241,
        "lgb_n_estimators": 285,
        "lgb_max_depth": 3,
        "lgb_learning_rate": 0.10841830843913976,
        "lgb_num_leaves": 14,
        "lgb_subsample": 0.8063462274361416,
        "lgb_colsample_bytree": 0.673272285715061,
        "lgb_reg_alpha": 2.275651624332126,
        "lgb_reg_lambda": 0.008810033459064203,
        "lgb_min_data_in_leaf": 34,
        "lgb_feature_fraction_bynode": 0.513340028579519,
        "lgb_bagging_freq": 1,
        "lgb_min_gain_to_split": 0.020585916441053505,
        "cat_iterations": 302,
        "cat_depth": 8,
        "cat_learning_rate": 0.010011218501016156,
        "cat_l2_leaf_reg": 6.667943695548236,
        "cat_subsample": 0.6976713426311459,
        "cat_rsm": 0.9157684464373634,
        "cat_border_count": 239,
        "cat_random_strength": 0.5953980058335668,
        "cat_leaf_estimation_iterations": 13,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 87.36842105263158,
        "avg_nrmse": 1.0696244408609137,
        "model_choice": "all",
        "symbol_metrics": {
          "BORLS_1d": {
            "symbol": "BORLS",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 415,
                "test_days": 30,
                "train_end_idx": 415,
                "test_end_idx": 445,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-06-18T00:00:00",
                "test_start": "2025-06-19T00:00:00",
                "test_end": "2025-07-31T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0054587983560201074,
                    "rmse": 0.030187755458843363,
                    "mape": 1.7164174652254953,
                    "confidence": 0.6205650016577469
                  },
                  "lightgbm": {
                    "raw_r2": -0.007232901007132882,
                    "rmse": 0.030224683990261826,
                    "mape": 1.6592471656206558,
                    "confidence": 0.6191239083487747
                  },
                  "catboost": {
                    "raw_r2": 0.01665148375124655,
                    "rmse": 0.029903744046626428,
                    "mape": 1.5954278898103644,
                    "confidence": 0.6385215207461541
                  }
                },
                "dirhit": null,
                "rmse": 0.04744692819086823,
                "mape": 100.5883218849325,
                "nrmse": 1.0104235482161334,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 445,
                "test_days": 30,
                "train_end_idx": 445,
                "test_end_idx": 475,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-07-31T00:00:00",
                "test_start": "2025-08-01T00:00:00",
                "test_end": "2025-09-11T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0011026881801108335,
                    "rmse": 0.032508135277820434,
                    "mape": 1.7309487271400728,
                    "confidence": 0.6241040681232058
                  },
                  "lightgbm": {
                    "raw_r2": -0.011012148017002454,
                    "rmse": 0.03264801225170787,
                    "mape": 1.6716861956787743,
                    "confidence": 0.6160548895185183
                  },
                  "catboost": {
                    "raw_r2": 0.01301033806313571,
                    "rmse": 0.03236742920280957,
                    "mape": 1.6138708222779212,
                    "confidence": 0.6355671734936832
                  }
                },
                "dirhit": null,
                "rmse": 0.020297509162306604,
                "mape": 107.54286599813246,
                "nrmse": 1.0188061203709762,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 475,
                "test_days": 30,
                "train_end_idx": 475,
                "test_end_idx": 505,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-09-11T00:00:00",
                "test_start": "2025-09-12T00:00:00",
                "test_end": "2025-10-23T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.005566574139919123,
                    "rmse": 0.031522835743488686,
                    "mape": 1.7099980900671476,
                    "confidence": 0.6204774504640072
                  },
                  "lightgbm": {
                    "raw_r2": -0.018208944814011252,
                    "rmse": 0.03164551587977957,
                    "mape": 1.677672845740702,
                    "confidence": 0.6102154435350574
                  },
                  "catboost": {
                    "raw_r2": -0.004143350195385735,
                    "rmse": 0.03148730618667068,
                    "mape": 1.615854795571641,
                    "confidence": 0.621633648364012
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.03747527722941331,
                "mape": 1429678.2054421762,
                "nrmse": 0.979969065819249,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 505,
                "test_days": 30,
                "train_end_idx": 505,
                "test_end_idx": 535,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-10-23T00:00:00",
                "test_start": "2025-10-24T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007278821884070696,
                    "rmse": 0.03210969015272298,
                    "mape": 1.7726238059127293,
                    "confidence": 0.6190866099105903
                  },
                  "lightgbm": {
                    "raw_r2": -0.007566469359554739,
                    "rmse": 0.03211782577522939,
                    "mape": 1.6817745307359009,
                    "confidence": 0.6188529768071303
                  },
                  "catboost": {
                    "raw_r2": 0.0017037313826541907,
                    "rmse": 0.03193272423761031,
                    "mape": 1.6767231360533377,
                    "confidence": 0.62638427337731
                  }
                },
                "dirhit": 94.73684210526315,
                "rmse": 0.07042215897538374,
                "mape": 214905.0884892492,
                "nrmse": 1.2692990290372963,
                "mask_count": 19,
                "mask_pct": 65.51724137931035,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 87.36842105263158,
            "avg_nrmse": 1.0696244408609137,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.00485172064003019,
                "rmse": 0.03158210415821887,
                "mape": 1.7324970220863611,
                "confidence": 0.6210582825388875
              },
              "lightgbm": {
                "raw_r2": -0.01100511579942533,
                "rmse": 0.031659009474244666,
                "mape": 1.6725951844440083,
                "confidence": 0.6160618045523701
              },
              "catboost": {
                "raw_r2": 0.006805550750412679,
                "rmse": 0.03142280091842925,
                "mape": 1.625469160928316,
                "confidence": 0.6305266539952898
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 615,
      "value": 53.4017704874268,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "n_seeds": 3,
        "ml_adaptive_k_1d": 1.1731036446820122,
        "ml_pattern_weight_scale_1d": 0.875474443875784,
        "enable_talib_patterns_short": true,
        "external_min_days": 47,
        "external_smooth_alpha": 0.2056029522591576,
        "yolo_min_conf": 0.5217750079073056,
        "smart_consensus_weight": 0.6707912264477469,
        "smart_performance_weight": 0.6644910015175542,
        "smart_sigma": 0.012452198175567818,
        "smart_weight_xgb": 0.8434097498244902,
        "smart_weight_lgbm": 1.4254377212877312,
        "smart_weight_cat": 1.0204662510143645,
        "xgb_n_estimators": 458,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.023236745863454047,
        "xgb_subsample": 0.8831215767608236,
        "xgb_colsample_bytree": 0.6800084378399504,
        "xgb_reg_alpha": 8.681815658976525e-05,
        "xgb_reg_lambda": 0.02652042135576138,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.06712687556731876,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 463,
        "lgb_n_estimators": 305,
        "lgb_max_depth": 7,
        "lgb_learning_rate": 0.11017174355231754,
        "lgb_num_leaves": 36,
        "lgb_subsample": 0.8689035350500166,
        "lgb_colsample_bytree": 0.7050121918127848,
        "lgb_reg_alpha": 0.8951256246668108,
        "lgb_reg_lambda": 0.0018133965819311204,
        "lgb_min_data_in_leaf": 34,
        "lgb_feature_fraction_bynode": 0.5155503389424554,
        "lgb_bagging_freq": 0,
        "lgb_min_gain_to_split": 0.16707314344208804,
        "cat_iterations": 313,
        "cat_depth": 8,
        "cat_learning_rate": 0.015092558676100874,
        "cat_l2_leaf_reg": 6.65036295465783,
        "cat_subsample": 0.6026126506477307,
        "cat_rsm": 0.8544779252864177,
        "cat_border_count": 182,
        "cat_random_strength": 0.6461555344884135,
        "cat_leaf_estimation_iterations": 2,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 85.71428571428572,
        "avg_nrmse": 1.0997049187622003,
        "model_choice": "all",
        "symbol_metrics": {
          "BORLS_1d": {
            "symbol": "BORLS",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 415,
                "test_days": 30,
                "train_end_idx": 415,
                "test_end_idx": 445,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-06-18T00:00:00",
                "test_start": "2025-06-19T00:00:00",
                "test_end": "2025-07-31T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00809041308206663,
                    "rmse": 0.03023031628751696,
                    "mape": 1.774287914240892,
                    "confidence": 0.6184274356084231
                  },
                  "lightgbm": {
                    "raw_r2": -0.007232901007132882,
                    "rmse": 0.030224683990261826,
                    "mape": 1.6592471656206558,
                    "confidence": 0.6191239083487747
                  },
                  "catboost": {
                    "raw_r2": 0.0091176493838524,
                    "rmse": 0.030007636637543193,
                    "mape": 1.6240756207341138,
                    "confidence": 0.6324068073787448
                  }
                },
                "dirhit": null,
                "rmse": 0.04690778143951625,
                "mape": 100.73993387192593,
                "nrmse": 0.9989419498433412,
                "mask_count": 0,
                "mask_pct": 0.0,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.00809041308206663,
                    "lightgbm": -0.007232901007132882,
                    "catboost": 0.0091176493838524
                  },
                  "ensemble_weights": {
                    "xgboost": 0.1309552831505507,
                    "lightgbm": 0.7323566864557376,
                    "catboost": 0.1366880303937116
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 2,
                "train_days": 445,
                "test_days": 30,
                "train_end_idx": 445,
                "test_end_idx": 475,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-07-31T00:00:00",
                "test_start": "2025-08-01T00:00:00",
                "test_end": "2025-09-11T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.0023353658685281165,
                    "rmse": 0.032496131513865004,
                    "mape": 1.717125451073342,
                    "confidence": 0.6268974632085643
                  },
                  "lightgbm": {
                    "raw_r2": -0.011012148017002454,
                    "rmse": 0.03264801225170787,
                    "mape": 1.6716861956787743,
                    "confidence": 0.6160548895185183
                  },
                  "catboost": {
                    "raw_r2": 0.015256528471016403,
                    "rmse": 0.032318109476869125,
                    "mape": 1.601576813188743,
                    "confidence": 0.6373899218428378
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.01998511629076658,
                "mape": 98.42111288929848,
                "nrmse": 1.0031259811509248,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": 0.0023353658685281165,
                    "lightgbm": -0.011012148017002454,
                    "catboost": 0.015256528471016403
                  },
                  "ensemble_weights": {
                    "xgboost": 0.2788290721455532,
                    "lightgbm": 0.4438062696845628,
                    "catboost": 0.2773646581698841
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 3,
                "train_days": 475,
                "test_days": 30,
                "train_end_idx": 475,
                "test_end_idx": 505,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-09-11T00:00:00",
                "test_start": "2025-09-12T00:00:00",
                "test_end": "2025-10-23T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0005141922035714434,
                    "rmse": 0.03148972691077654,
                    "mape": 1.7160657530620782,
                    "confidence": 0.6245822190647203
                  },
                  "lightgbm": {
                    "raw_r2": -0.018208944814011252,
                    "rmse": 0.03164551587977957,
                    "mape": 1.677672845740702,
                    "confidence": 0.6102154435350574
                  },
                  "catboost": {
                    "raw_r2": 0.002658175530991902,
                    "rmse": 0.031429229704482496,
                    "mape": 1.616367615797019,
                    "confidence": 0.6271597358263761
                  }
                },
                "dirhit": 71.42857142857143,
                "rmse": 0.03744370008394849,
                "mape": 2438402.294214593,
                "nrmse": 0.9791433314143249,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.0005141922035714434,
                    "lightgbm": -0.018208944814011252,
                    "catboost": 0.002658175530991902
                  },
                  "ensemble_weights": {
                    "xgboost": 0.13258315699292952,
                    "lightgbm": 0.2221036920038134,
                    "catboost": 0.645313151003257
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 4,
                "train_days": 505,
                "test_days": 30,
                "train_end_idx": 505,
                "test_end_idx": 535,
                "train_start": "2023-10-19T00:00:00",
                "train_end": "2025-10-23T00:00:00",
                "test_start": "2025-10-24T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.006082088150819935,
                    "rmse": 0.03209248803494508,
                    "mape": 1.7256299803298705,
                    "confidence": 0.6200586841802314
                  },
                  "lightgbm": {
                    "raw_r2": -0.007566469359554739,
                    "rmse": 0.03211782577522939,
                    "mape": 1.6817745307359009,
                    "confidence": 0.6188529768071303
                  },
                  "catboost": {
                    "raw_r2": 0.003381261195426847,
                    "rmse": 0.031935124581298144,
                    "mape": 1.642256125584447,
                    "confidence": 0.6277472092869211
                  }
                },
                "dirhit": null,
                "rmse": 0.07815984810037156,
                "mape": 1236530.4353098408,
                "nrmse": 1.4176084126402104,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.006082088150819935,
                    "lightgbm": -0.007566469359554739,
                    "catboost": 0.003381261195426847
                  },
                  "ensemble_weights": {
                    "xgboost": 0.579130855415564,
                    "lightgbm": 0.24581199591960384,
                    "catboost": 0.17505714866483219
                  },
                  "source": "model"
                }
              }
            ],
            "avg_dirhit": 85.71428571428572,
            "avg_nrmse": 1.0997049187622003,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.003087831891982473,
                "rmse": 0.0315771656867759,
                "mape": 1.7332772746765457,
                "confidence": 0.6224914505154848
              },
              "lightgbm": {
                "raw_r2": -0.01100511579942533,
                "rmse": 0.031659009474244666,
                "mape": 1.6725951844440083,
                "confidence": 0.6160618045523701
              },
              "catboost": {
                "raw_r2": 0.007603403645321889,
                "rmse": 0.03142252510004824,
                "mape": 1.6210690438260809,
                "confidence": 0.6311759185837199
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_BORLS_h1_c3",
  "symbols": [
    "BORLS"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "n_seeds": 3,
    "meta_stacking_alpha": 0.1683408390878453,
    "ml_adaptive_k_1d": 2.4303385077705024,
    "ml_pattern_weight_scale_1d": 1.4141137159466215,
    "external_min_days": 21,
    "external_smooth_alpha": 0.10626655882687652,
    "yolo_min_conf": 0.6751564730511326
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 417,
    "xgb_max_depth": 6,
    "xgb_learning_rate": 0.02475348687663042,
    "xgb_subsample": 0.7305248295616504,
    "xgb_colsample_bytree": 0.5532477616568571,
    "xgb_reg_alpha": 0.008952290692586054,
    "xgb_reg_lambda": 1.4981689503158804,
    "xgb_min_child_weight": 8,
    "xgb_gamma": 0.03848848346683378,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 223,
    "lgb_n_estimators": 418,
    "lgb_max_depth": 3,
    "lgb_learning_rate": 0.09738652714280777,
    "lgb_num_leaves": 17,
    "lgb_subsample": 0.8859520410787332,
    "lgb_colsample_bytree": 0.7452955768390013,
    "lgb_reg_alpha": 1.9478630282823919,
    "lgb_reg_lambda": 0.6277172630873095,
    "lgb_min_data_in_leaf": 38,
    "lgb_feature_fraction_bynode": 0.7963254992366514,
    "lgb_bagging_freq": 1,
    "lgb_min_gain_to_split": 0.8180526510808022,
    "cat_iterations": 293,
    "cat_depth": 8,
    "cat_learning_rate": 0.0106099959228825,
    "cat_l2_leaf_reg": 7.030420007353736,
    "cat_subsample": 0.6763572556228052,
    "cat_rsm": 0.910916498048498,
    "cat_border_count": 237,
    "cat_random_strength": 0.27775916897533764,
    "cat_leaf_estimation_iterations": 17,
    "cat_bootstrap_type": "Bayesian"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "BORLS_1d": {
      "symbol": "BORLS",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 416,
          "test_days": 30,
          "train_end_idx": 416,
          "test_end_idx": 446,
          "train_start": "2023-10-19T00:00:00",
          "train_end": "2025-06-19T00:00:00",
          "test_start": "2025-06-20T00:00:00",
          "test_end": "2025-08-01T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.019385422562846515,
              "rmse": 0.029839139856435135,
              "mape": 1.6078552697709216,
              "confidence": 0.6407383361323478
            },
            "lightgbm": {
              "raw_r2": -0.007232901007132882,
              "rmse": 0.030224683990261826,
              "mape": 1.6592471656206558,
              "confidence": 0.6191239083487747
            },
            "catboost": {
              "raw_r2": 0.022894186882861083,
              "rmse": 0.029811154272188403,
              "mape": 1.5688420869137305,
              "confidence": 0.6435812411841744
            }
          },
          "dirhit": null,
          "rmse": 0.04334369695296515,
          "mape": 98.03028658969463,
          "nrmse": 1.0145342294804485,
          "mask_count": 0,
          "mask_pct": 0.0,
          "low_support": true,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 2,
          "train_days": 446,
          "test_days": 30,
          "train_end_idx": 446,
          "test_end_idx": 476,
          "train_start": "2023-10-19T00:00:00",
          "train_end": "2025-08-01T00:00:00",
          "test_start": "2025-08-04T00:00:00",
          "test_end": "2025-09-12T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.017183252438620327,
              "rmse": 0.032275827328661355,
              "mape": 1.627398584190879,
              "confidence": 0.6389528108183068
            },
            "lightgbm": {
              "raw_r2": -0.011012148017002454,
              "rmse": 0.03264801225170787,
              "mape": 1.6716861956787743,
              "confidence": 0.6160548895185183
            },
            "catboost": {
              "raw_r2": 0.006122766986325597,
              "rmse": 0.032429114820610574,
              "mape": 1.6407706766006669,
              "confidence": 0.6299743596821108
            }
          },
          "dirhit": null,
          "rmse": 0.020276263467641987,
          "mape": 105.93122610295308,
          "nrmse": 1.031967228511104,
          "mask_count": 0,
          "mask_pct": 0.0,
          "low_support": true,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 3,
          "train_days": 476,
          "test_days": 30,
          "train_end_idx": 476,
          "test_end_idx": 506,
          "train_start": "2023-10-19T00:00:00",
          "train_end": "2025-09-12T00:00:00",
          "test_start": "2025-09-15T00:00:00",
          "test_end": "2025-10-24T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.005679565777447622,
              "rmse": 0.03140881579973949,
              "mape": 1.659766955569661,
              "confidence": 0.6296143371007842
            },
            "lightgbm": {
              "raw_r2": -0.018208944814011252,
              "rmse": 0.03164551587977957,
              "mape": 1.677672845740702,
              "confidence": 0.6102154435350574
            },
            "catboost": {
              "raw_r2": 0.008163734392764854,
              "rmse": 0.03130959983813888,
              "mape": 1.63764750581722,
              "confidence": 0.6316321133706573
            }
          },
          "dirhit": 100.0,
          "rmse": 0.036446173345142184,
          "mape": 1305818.9373468123,
          "nrmse": 0.9763810849061197,
          "mask_count": 5,
          "mask_pct": 17.24137931034483,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 4,
          "train_days": 506,
          "test_days": 30,
          "train_end_idx": 506,
          "test_end_idx": 536,
          "train_start": "2023-10-19T00:00:00",
          "train_end": "2025-10-24T00:00:00",
          "test_start": "2025-10-27T00:00:00",
          "test_end": "2025-12-08T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.002999298344141329,
              "rmse": 0.03196055069453755,
              "mape": 1.6806807646724597,
              "confidence": 0.6274368842345772
            },
            "lightgbm": {
              "raw_r2": -0.007566469359554739,
              "rmse": 0.03211782577522939,
              "mape": 1.6817745307359009,
              "confidence": 0.6188529768071303
            },
            "catboost": {
              "raw_r2": 0.005866791121270791,
              "rmse": 0.03184450904220445,
              "mape": 1.6561037551434874,
              "confidence": 0.6297664260060354
            }
          },
          "dirhit": 75.0,
          "rmse": 0.07807520713555248,
          "mape": 1066398.9604423272,
          "nrmse": 1.271268076705368,
          "mask_count": 8,
          "mask_pct": 27.586206896551722,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        }
      ],
      "avg_dirhit": 87.5,
      "avg_nrmse": 1.07353765490076,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": 0.01131188478076395,
          "rmse": 0.03137108341984338,
          "mape": 1.64392539355098,
          "confidence": 0.634185592071504
        },
        "lightgbm": {
          "raw_r2": -0.01100511579942533,
          "rmse": 0.031659009474244666,
          "mape": 1.6725951844440083,
          "confidence": 0.6160618045523701
        },
        "catboost": {
          "raw_r2": 0.01076186984580558,
          "rmse": 0.03134859449328558,
          "mape": 1.625841006118776,
          "confidence": 0.6337385350607445
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 5,
    "min_mask_pct": 2.5,
    "best_trial_number": 1482,
    "best_trial_seed": 1524,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "BORLS_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 416,
            "test_end_idx": 446,
            "train_start": "2023-10-19T00:00:00",
            "train_end": "2025-06-19T00:00:00",
            "test_start": "2025-06-20T00:00:00",
            "test_end": "2025-08-01T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 446,
            "test_end_idx": 476,
            "train_start": "2023-10-19T00:00:00",
            "train_end": "2025-08-01T00:00:00",
            "test_start": "2025-08-04T00:00:00",
            "test_end": "2025-09-12T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 476,
            "test_end_idx": 506,
            "train_start": "2023-10-19T00:00:00",
            "train_end": "2025-09-12T00:00:00",
            "test_start": "2025-09-15T00:00:00",
            "test_end": "2025-10-24T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 506,
            "test_end_idx": 536,
            "train_start": "2023-10-19T00:00:00",
            "train_end": "2025-10-24T00:00:00",
            "test_start": "2025-10-27T00:00:00",
            "test_end": "2025-12-08T00:00:00"
          }
        ]
      }
    }
  }
}