{
  "best_value": 50.66730653984772,
  "best_dirhit": 81.51515151515152,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "model_choice": "all",
    "ml_loss_mse_weight": 0.42519936065652025,
    "ml_loss_threshold": 0.0021431483655515327,
    "ml_dir_penalty": 3.485274924667776,
    "meta_stacking_alpha": 1.352037737738716,
    "ml_adaptive_k_1d": 1.044763646289014,
    "ml_pattern_weight_scale_1d": 1.3072934095470967,
    "enable_talib_patterns_short": false,
    "external_min_days": 24,
    "external_smooth_alpha": 0.21872914271620972,
    "yolo_min_conf": 0.7226689561439273,
    "smart_consensus_weight": 0.36914218556985656,
    "smart_performance_weight": 0.5346726919276763,
    "smart_sigma": 0.002029516192055064,
    "smart_weight_xgb": 0.7134088257735247,
    "smart_weight_lgbm": 1.0250936790964422,
    "smart_weight_cat": 0.6357161839749778,
    "xgb_n_estimators": 480,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.12924939379656117,
    "xgb_subsample": 0.6095287891316138,
    "xgb_colsample_bytree": 0.8885815458943536,
    "xgb_reg_alpha": 0.01737896365991889,
    "xgb_reg_lambda": 0.8345923671739265,
    "xgb_min_child_weight": 11,
    "xgb_gamma": 0.28314597733203056,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 263,
    "lgb_n_estimators": 137,
    "lgb_max_depth": 2,
    "lgb_learning_rate": 0.10449743609784087,
    "lgb_num_leaves": 39,
    "lgb_subsample": 0.5488985386701961,
    "lgb_colsample_bytree": 0.5576079092073261,
    "lgb_reg_alpha": 0.09711268770427146,
    "lgb_reg_lambda": 0.0019518473397077498,
    "lgb_min_data_in_leaf": 62,
    "lgb_feature_fraction_bynode": 0.7866934284435169,
    "lgb_bagging_freq": 2,
    "lgb_min_gain_to_split": 0.47393689377687054,
    "cat_iterations": 150,
    "cat_depth": 3,
    "cat_learning_rate": 0.0382910115050207,
    "cat_l2_leaf_reg": 1.8092146313882835,
    "cat_subsample": 0.8073815806411665,
    "cat_rsm": 0.6083540717060268,
    "cat_border_count": 117,
    "cat_random_strength": 0.22214769300765053,
    "cat_leaf_estimation_iterations": 3,
    "cat_bootstrap_type": "Bayesian"
  },
  "best_trial": {
    "number": 1016,
    "value": 50.66730653984772,
    "state": "1"
  },
  "n_trials": 1385,
  "pruned_count": 0,
  "avg_trial_time": 188.6250432434971,
  "top_k_trials": [
    {
      "number": 1016,
      "value": 50.66730653984772,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.42519936065652025,
        "ml_loss_threshold": 0.0021431483655515327,
        "ml_dir_penalty": 3.485274924667776,
        "meta_stacking_alpha": 1.352037737738716,
        "ml_adaptive_k_1d": 1.044763646289014,
        "ml_pattern_weight_scale_1d": 1.3072934095470967,
        "enable_talib_patterns_short": false,
        "external_min_days": 24,
        "external_smooth_alpha": 0.21872914271620972,
        "yolo_min_conf": 0.7226689561439273,
        "smart_consensus_weight": 0.36914218556985656,
        "smart_performance_weight": 0.5346726919276763,
        "smart_sigma": 0.002029516192055064,
        "smart_weight_xgb": 0.7134088257735247,
        "smart_weight_lgbm": 1.0250936790964422,
        "smart_weight_cat": 0.6357161839749778,
        "xgb_n_estimators": 480,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.12924939379656117,
        "xgb_subsample": 0.6095287891316138,
        "xgb_colsample_bytree": 0.8885815458943536,
        "xgb_reg_alpha": 0.01737896365991889,
        "xgb_reg_lambda": 0.8345923671739265,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.28314597733203056,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 263,
        "lgb_n_estimators": 137,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.10449743609784087,
        "lgb_num_leaves": 39,
        "lgb_subsample": 0.5488985386701961,
        "lgb_colsample_bytree": 0.5576079092073261,
        "lgb_reg_alpha": 0.09711268770427146,
        "lgb_reg_lambda": 0.0019518473397077498,
        "lgb_min_data_in_leaf": 62,
        "lgb_feature_fraction_bynode": 0.7866934284435169,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.47393689377687054,
        "cat_iterations": 150,
        "cat_depth": 3,
        "cat_learning_rate": 0.0382910115050207,
        "cat_l2_leaf_reg": 1.8092146313882835,
        "cat_subsample": 0.8073815806411665,
        "cat_rsm": 0.6083540717060268,
        "cat_border_count": 117,
        "cat_random_strength": 0.22214769300765053,
        "cat_leaf_estimation_iterations": 3,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 81.51515151515152,
        "avg_nrmse": 1.0655499201263887,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 872,
      "value": 49.37404091193754,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.7439736157028335,
        "ml_loss_threshold": 0.0023528926136064158,
        "ml_dir_penalty": 3.857286549602749,
        "meta_stacking_alpha": 1.2360304799943027,
        "ml_adaptive_k_1d": 1.1855575421791642,
        "ml_pattern_weight_scale_1d": 1.330976908675689,
        "enable_talib_patterns_short": false,
        "external_min_days": 28,
        "external_smooth_alpha": 0.20280912304969095,
        "regime_scale_low": 0.911653601570841,
        "regime_scale_high": 1.190436984222069,
        "yolo_min_conf": 0.6937414710274864,
        "smart_consensus_weight": 0.30614725810104815,
        "smart_performance_weight": 0.5076032726441362,
        "smart_sigma": 0.0011383063523828826,
        "smart_weight_xgb": 0.7798830078181099,
        "smart_weight_lgbm": 1.1074033760539472,
        "smart_weight_cat": 0.6934111001679535,
        "xgb_n_estimators": 464,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.11466967914768172,
        "xgb_subsample": 0.5236153806848406,
        "xgb_colsample_bytree": 0.8757394938806097,
        "xgb_reg_alpha": 0.03861536651032413,
        "xgb_reg_lambda": 0.22776006185786266,
        "xgb_min_child_weight": 12,
        "xgb_gamma": 0.4458454091959779,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 256,
        "lgb_n_estimators": 131,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.13578773883118686,
        "lgb_num_leaves": 47,
        "lgb_subsample": 0.5151653932231345,
        "lgb_colsample_bytree": 0.5253532307334523,
        "lgb_reg_alpha": 0.42028335678353146,
        "lgb_reg_lambda": 0.00484761639159188,
        "lgb_min_data_in_leaf": 63,
        "lgb_feature_fraction_bynode": 0.8243977181099086,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.4202623625283887,
        "cat_iterations": 133,
        "cat_depth": 4,
        "cat_learning_rate": 0.035932924685327744,
        "cat_l2_leaf_reg": 1.0004989558263846,
        "cat_subsample": 0.7422763700721339,
        "cat_rsm": 0.5826772404604849,
        "cat_border_count": 134,
        "cat_random_strength": 0.28087535178925843,
        "cat_leaf_estimation_iterations": 2,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 80.0,
        "avg_nrmse": 1.104326514677076,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 1065,
      "value": 48.67890432451722,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_loss_mse_weight": 0.7456490867110077,
        "ml_loss_threshold": 0.00203989988293852,
        "ml_dir_penalty": 3.933546134923012,
        "meta_stacking_alpha": 0.9395970221305606,
        "ml_adaptive_k_1d": 1.0930617242263132,
        "ml_pattern_weight_scale_1d": 1.2650270808423696,
        "enable_talib_patterns_short": false,
        "external_min_days": 27,
        "external_smooth_alpha": 0.1829115398928399,
        "yolo_min_conf": 0.7388265412980775,
        "xgb_n_estimators": 465,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.1403165180942851,
        "xgb_subsample": 0.6333828756059992,
        "xgb_colsample_bytree": 0.8718061973463843,
        "xgb_reg_alpha": 0.010860747151033015,
        "xgb_reg_lambda": 0.45303333696482506,
        "xgb_min_child_weight": 11,
        "xgb_gamma": 0.17586311235282587,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 264,
        "lgb_n_estimators": 130,
        "lgb_max_depth": 2,
        "lgb_learning_rate": 0.09361269924916087,
        "lgb_num_leaves": 12,
        "lgb_subsample": 0.5313951615778794,
        "lgb_colsample_bytree": 0.5799823506619964,
        "lgb_reg_alpha": 0.26649088915331964,
        "lgb_reg_lambda": 0.01946945973107957,
        "lgb_min_data_in_leaf": 67,
        "lgb_feature_fraction_bynode": 0.8305707899537382,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.4845488624347509,
        "cat_iterations": 155,
        "cat_depth": 3,
        "cat_learning_rate": 0.0372526846350624,
        "cat_l2_leaf_reg": 1.1507390304656873,
        "cat_subsample": 0.7971426008648448,
        "cat_rsm": 0.5821501189100361,
        "cat_border_count": 112,
        "cat_random_strength": 0.14937554795413857,
        "cat_leaf_estimation_iterations": 5,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 78.57142857142857,
        "avg_nrmse": 1.053515945913796,
        "model_choice": "all"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ALBRK_h1_c1",
  "symbols": [
    "ALBRK"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.42519936065652025,
    "ml_loss_threshold": 0.0021431483655515327,
    "ml_dir_penalty": 3.485274924667776,
    "meta_stacking_alpha": 1.352037737738716,
    "ml_adaptive_k_1d": 1.044763646289014,
    "ml_pattern_weight_scale_1d": 1.3072934095470967,
    "external_min_days": 24,
    "external_smooth_alpha": 0.21872914271620972,
    "yolo_min_conf": 0.7226689561439273,
    "smart_consensus_weight": 0.36914218556985656,
    "smart_performance_weight": 0.5346726919276763,
    "smart_sigma": 0.002029516192055064,
    "smart_weight_xgb": 0.7134088257735247,
    "smart_weight_lgbm": 1.0250936790964422,
    "smart_weight_cat": 0.6357161839749778
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 480,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.12924939379656117,
    "xgb_subsample": 0.6095287891316138,
    "xgb_colsample_bytree": 0.8885815458943536,
    "xgb_reg_alpha": 0.01737896365991889,
    "xgb_reg_lambda": 0.8345923671739265,
    "xgb_min_child_weight": 11,
    "xgb_gamma": 0.28314597733203056,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 263,
    "lgb_n_estimators": 137,
    "lgb_max_depth": 2,
    "lgb_learning_rate": 0.10449743609784087,
    "lgb_num_leaves": 39,
    "lgb_subsample": 0.5488985386701961,
    "lgb_colsample_bytree": 0.5576079092073261,
    "lgb_reg_alpha": 0.09711268770427146,
    "lgb_reg_lambda": 0.0019518473397077498,
    "lgb_min_data_in_leaf": 62,
    "lgb_feature_fraction_bynode": 0.7866934284435169,
    "lgb_bagging_freq": 2,
    "lgb_min_gain_to_split": 0.47393689377687054,
    "cat_iterations": 150,
    "cat_depth": 3,
    "cat_learning_rate": 0.0382910115050207,
    "cat_l2_leaf_reg": 1.8092146313882835,
    "cat_subsample": 0.8073815806411665,
    "cat_rsm": 0.6083540717060268,
    "cat_border_count": 117,
    "cat_random_strength": 0.22214769300765053,
    "cat_leaf_estimation_iterations": 3,
    "cat_bootstrap_type": "Bayesian"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  }
}