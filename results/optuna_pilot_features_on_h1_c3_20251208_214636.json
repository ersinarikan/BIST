{
  "best_value": 50.15198118021987,
  "best_dirhit": 80.83333333333333,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "all",
    "ml_adaptive_k_1d": 1.4305792935051502,
    "ml_pattern_weight_scale_1d": 0.7108277120477305,
    "enable_talib_patterns_short": true,
    "external_min_days": 30,
    "external_smooth_alpha": 0.13877456301535107,
    "yolo_min_conf": 0.5673416055264431,
    "fingpt_confidence_threshold": 0.491485027082052,
    "xgb_n_estimators": 421,
    "xgb_max_depth": 2,
    "xgb_learning_rate": 0.022476619180480353,
    "xgb_subsample": 0.7444002725256534,
    "xgb_colsample_bytree": 0.6111069133490599,
    "xgb_reg_alpha": 0.5036430339440657,
    "xgb_reg_lambda": 0.013693078490591887,
    "xgb_min_child_weight": 15,
    "xgb_gamma": 0.5505170798912463,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 312,
    "lgb_n_estimators": 495,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.0552929211122327,
    "lgb_num_leaves": 14,
    "lgb_subsample": 0.624534201577359,
    "lgb_colsample_bytree": 0.8314799664193346,
    "lgb_reg_alpha": 0.00027674014714891874,
    "lgb_reg_lambda": 0.02532575952152317,
    "lgb_min_data_in_leaf": 10,
    "lgb_feature_fraction_bynode": 0.5090832655725225,
    "lgb_bagging_freq": 1,
    "lgb_min_gain_to_split": 0.992078823374069,
    "cat_iterations": 396,
    "cat_depth": 7,
    "cat_learning_rate": 0.021323995874464464,
    "cat_l2_leaf_reg": 1.6355422572579277,
    "cat_subsample": 0.5359904049738684,
    "cat_rsm": 0.760505662419233,
    "cat_border_count": 20,
    "cat_random_strength": 3.7426683548380484,
    "cat_leaf_estimation_iterations": 5,
    "cat_bootstrap_type": "Bayesian"
  },
  "best_trial": {
    "number": 60,
    "value": 50.15198118021987,
    "state": "1"
  },
  "best_trial_number": 60,
  "best_trial_seed": 102,
  "n_trials": 1036,
  "pruned_count": 0,
  "avg_trial_time": 288.6508781299709,
  "top_k_trials": [
    {
      "number": 60,
      "value": 50.15198118021987,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.4305792935051502,
        "ml_pattern_weight_scale_1d": 0.7108277120477305,
        "enable_talib_patterns_short": true,
        "external_min_days": 30,
        "external_smooth_alpha": 0.13877456301535107,
        "yolo_min_conf": 0.5673416055264431,
        "fingpt_confidence_threshold": 0.491485027082052,
        "xgb_n_estimators": 421,
        "xgb_max_depth": 2,
        "xgb_learning_rate": 0.022476619180480353,
        "xgb_subsample": 0.7444002725256534,
        "xgb_colsample_bytree": 0.6111069133490599,
        "xgb_reg_alpha": 0.5036430339440657,
        "xgb_reg_lambda": 0.013693078490591887,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.5505170798912463,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 312,
        "lgb_n_estimators": 495,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.0552929211122327,
        "lgb_num_leaves": 14,
        "lgb_subsample": 0.624534201577359,
        "lgb_colsample_bytree": 0.8314799664193346,
        "lgb_reg_alpha": 0.00027674014714891874,
        "lgb_reg_lambda": 0.02532575952152317,
        "lgb_min_data_in_leaf": 10,
        "lgb_feature_fraction_bynode": 0.5090832655725225,
        "lgb_bagging_freq": 1,
        "lgb_min_gain_to_split": 0.992078823374069,
        "cat_iterations": 396,
        "cat_depth": 7,
        "cat_learning_rate": 0.021323995874464464,
        "cat_l2_leaf_reg": 1.6355422572579277,
        "cat_subsample": 0.5359904049738684,
        "cat_rsm": 0.760505662419233,
        "cat_border_count": 20,
        "cat_random_strength": 3.7426683548380484,
        "cat_leaf_estimation_iterations": 5,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 80.83333333333333,
        "avg_nrmse": 1.0718920255189093,
        "model_choice": "all",
        "symbol_metrics": {
          "AKGRT_1d": {
            "symbol": "AKGRT",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 454,
                "test_days": 30,
                "train_end_idx": 454,
                "test_end_idx": 484,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-16T00:00:00",
                "test_start": "2025-06-17T00:00:00",
                "test_end": "2025-07-29T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.004015784073883773,
                    "rmse": 0.02640789613860745,
                    "mape": 1.8418874443751838,
                    "confidence": 0.6217372850564067
                  },
                  "lightgbm": {
                    "raw_r2": -0.010353392742868431,
                    "rmse": 0.02648974064665363,
                    "mape": 1.698691166023356,
                    "confidence": 0.6165897464753105
                  },
                  "catboost": {
                    "raw_r2": 0.024096609225179828,
                    "rmse": 0.02600244111408147,
                    "mape": 1.6238580542387526,
                    "confidence": 0.6445548456037002
                  }
                },
                "dirhit": 87.5,
                "rmse": 0.020010542517342182,
                "mape": 132.60248486386362,
                "nrmse": 1.0580523121106553,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 484,
                "test_days": 30,
                "train_end_idx": 484,
                "test_end_idx": 514,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-29T00:00:00",
                "test_start": "2025-07-30T00:00:00",
                "test_end": "2025-09-09T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.006331851344407724,
                    "rmse": 0.026055705233473194,
                    "mape": 1.8453377509942959,
                    "confidence": 0.619855800448418
                  },
                  "lightgbm": {
                    "raw_r2": -0.014101750353186912,
                    "rmse": 0.02618482196649675,
                    "mape": 1.7035733145807488,
                    "confidence": 0.613547072282248
                  },
                  "catboost": {
                    "raw_r2": 0.01685431129174771,
                    "rmse": 0.025807891831034754,
                    "mape": 1.6313206868917944,
                    "confidence": 0.6386860293822565
                  }
                },
                "dirhit": 75.0,
                "rmse": 0.015284739105841,
                "mape": 2651539.784948901,
                "nrmse": 1.152304805096368,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 514,
                "test_days": 30,
                "train_end_idx": 514,
                "test_end_idx": 544,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-09T00:00:00",
                "test_start": "2025-09-10T00:00:00",
                "test_end": "2025-10-21T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.001868340287626058,
                    "rmse": 0.02538311892858844,
                    "mape": 1.9364935246013175,
                    "confidence": 0.6234819845557245
                  },
                  "lightgbm": {
                    "raw_r2": -0.009950508268603034,
                    "rmse": 0.025502111040116605,
                    "mape": 1.7259562330543945,
                    "confidence": 0.6169168793190485
                  },
                  "catboost": {
                    "raw_r2": 0.021222553267553252,
                    "rmse": 0.02509927304308305,
                    "mape": 1.6154251330914076,
                    "confidence": 0.6422271628575057
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.01705585028820034,
                "mape": 132.56256981469653,
                "nrmse": 0.9993563935697922,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 544,
                "test_days": 30,
                "train_end_idx": 544,
                "test_end_idx": 574,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-21T00:00:00",
                "test_start": "2025-10-22T00:00:00",
                "test_end": "2025-12-02T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0015016260214391064,
                    "rmse": 0.024939772885597795,
                    "mape": 1.9123486455111653,
                    "confidence": 0.6237799345890377
                  },
                  "lightgbm": {
                    "raw_r2": -0.004583588030214081,
                    "rmse": 0.02497717066111239,
                    "mape": 1.7636538226877407,
                    "confidence": 0.6212759977211153
                  },
                  "catboost": {
                    "raw_r2": 0.036185515958789015,
                    "rmse": 0.024415620522866468,
                    "mape": 1.5889053778398394,
                    "confidence": 0.6543207911606284
                  }
                },
                "dirhit": null,
                "rmse": 0.016107441718932216,
                "mape": 4229152.755003885,
                "nrmse": 1.0778545912988213,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 80.83333333333333,
            "avg_nrmse": 1.0718920255189093,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.003429400431839165,
                "rmse": 0.025696623296566717,
                "mape": 1.8840168413704905,
                "confidence": 0.6222137511623967
              },
              "lightgbm": {
                "raw_r2": -0.009747309848718114,
                "rmse": 0.025788461078594848,
                "mape": 1.72296863408656,
                "confidence": 0.6170824239494306
              },
              "catboost": {
                "raw_r2": 0.024589747435817454,
                "rmse": 0.025331306627766434,
                "mape": 1.6148773130154486,
                "confidence": 0.6449472072510227
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 541,
      "value": 46.4465870309745,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.0803315988955202,
        "ml_pattern_weight_scale_1d": 1.4150114372270184,
        "enable_talib_patterns_short": true,
        "external_min_days": 32,
        "external_smooth_alpha": 0.05725941682892831,
        "regime_scale_low": 0.8763961342272947,
        "regime_scale_high": 1.129613902248281,
        "yolo_min_conf": 0.7493050986562225,
        "fingpt_confidence_threshold": 0.45537220675563866,
        "xgb_n_estimators": 455,
        "xgb_max_depth": 2,
        "xgb_learning_rate": 0.029079971413972002,
        "xgb_subsample": 0.8249217318363506,
        "xgb_colsample_bytree": 0.6229912082579961,
        "xgb_reg_alpha": 0.8218396670225987,
        "xgb_reg_lambda": 48.084387070230356,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.30140191119519905,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 291,
        "lgb_n_estimators": 388,
        "lgb_max_depth": 7,
        "lgb_learning_rate": 0.03525989385890983,
        "lgb_num_leaves": 19,
        "lgb_subsample": 0.698499138666862,
        "lgb_colsample_bytree": 0.5031357548129797,
        "lgb_reg_alpha": 3.427327390948059e-06,
        "lgb_reg_lambda": 1.4585402802925944,
        "lgb_min_data_in_leaf": 35,
        "lgb_feature_fraction_bynode": 0.7353022154541918,
        "lgb_bagging_freq": 9,
        "lgb_min_gain_to_split": 0.8293257252969658,
        "cat_iterations": 400,
        "cat_depth": 3,
        "cat_learning_rate": 0.022190750873060563,
        "cat_l2_leaf_reg": 9.17000226744745,
        "cat_subsample": 0.5155639001550428,
        "cat_rsm": 0.6953397165626932,
        "cat_border_count": 36,
        "cat_random_strength": 3.6693600050693354,
        "cat_leaf_estimation_iterations": 16,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 75.71428571428572,
        "avg_nrmse": 1.092235494837583,
        "model_choice": "all",
        "symbol_metrics": {
          "AKGRT_1d": {
            "symbol": "AKGRT",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 457,
                "test_days": 30,
                "train_end_idx": 457,
                "test_end_idx": 487,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00609190282449575,
                    "rmse": 0.026309760512738024,
                    "mape": 1.8166749436881153,
                    "confidence": 0.6200507116042377
                  },
                  "lightgbm": {
                    "raw_r2": -0.012734738929446321,
                    "rmse": 0.02639901037766954,
                    "mape": 1.699601434782716,
                    "confidence": 0.6146565190488926
                  },
                  "catboost": {
                    "raw_r2": 0.03634031742907654,
                    "rmse": 0.02574806249507251,
                    "mape": 1.5564666300929972,
                    "confidence": 0.6544455392689725
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.020825397401039957,
                "mape": 3627536.2547274525,
                "nrmse": 1.156895529318795,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 487,
                "test_days": 30,
                "train_end_idx": 487,
                "test_end_idx": 517,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007685462082663852,
                    "rmse": 0.025926923813030255,
                    "mape": 1.8147436681618048,
                    "confidence": 0.6187563303527517
                  },
                  "lightgbm": {
                    "raw_r2": -0.013278614063729396,
                    "rmse": 0.02601878166481819,
                    "mape": 1.6988472448270056,
                    "confidence": 0.6142150874758203
                  },
                  "catboost": {
                    "raw_r2": 0.033011143548571265,
                    "rmse": 0.025432800504763,
                    "mape": 1.6326870467188674,
                    "confidence": 0.6517608270640916
                  }
                },
                "dirhit": 71.42857142857143,
                "rmse": 0.014651089596057845,
                "mape": 237227.45082257135,
                "nrmse": 1.1036022938573073,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 517,
                "test_days": 30,
                "train_end_idx": 517,
                "test_end_idx": 547,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0025048502100902446,
                    "rmse": 0.02534365973299019,
                    "mape": 1.890189913967878,
                    "confidence": 0.6229648358066884
                  },
                  "lightgbm": {
                    "raw_r2": -0.007843723646449549,
                    "rmse": 0.025421715171481216,
                    "mape": 1.7455449217552594,
                    "confidence": 0.6186277912741849
                  },
                  "catboost": {
                    "raw_r2": 0.03106807053404999,
                    "rmse": 0.02494208567051664,
                    "mape": 1.5712029907622376,
                    "confidence": 0.6501921691051118
                  }
                },
                "dirhit": null,
                "rmse": 0.0174473102079371,
                "mape": 137.04106672152247,
                "nrmse": 1.0711481715464377,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 547,
                "test_days": 30,
                "train_end_idx": 547,
                "test_end_idx": 577,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.000589789716354853,
                    "rmse": 0.024850987972062942,
                    "mape": 1.8900686933613684,
                    "confidence": 0.6245207962027366
                  },
                  "lightgbm": {
                    "raw_r2": -0.004292227089872425,
                    "rmse": 0.024903090266965657,
                    "mape": 1.745267894286331,
                    "confidence": 0.6215126993369602
                  },
                  "catboost": {
                    "raw_r2": 0.04967724202130134,
                    "rmse": 0.024167454277352833,
                    "mape": 1.6327758790437246,
                    "confidence": 0.6651565140710565
                  }
                },
                "dirhit": null,
                "rmse": 0.0148445896780022,
                "mape": 4285411.51480036,
                "nrmse": 1.0372959846277923,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 75.71428571428572,
            "avg_nrmse": 1.092235494837583,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.004218001208401175,
                "rmse": 0.025607833007705354,
                "mape": 1.8529193047947916,
                "confidence": 0.6215731684916036
              },
              "lightgbm": {
                "raw_r2": -0.009537325932374423,
                "rmse": 0.02568564937023365,
                "mape": 1.7223153739128279,
                "confidence": 0.6172530242839644
              },
              "catboost": {
                "raw_r2": 0.03752419338324978,
                "rmse": 0.02507260073692625,
                "mape": 1.5982831366544568,
                "confidence": 0.655388762377308
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 111,
      "value": 44.22146779331866,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.1386653725678708,
        "ml_pattern_weight_scale_1d": 1.537931366821018,
        "enable_talib_patterns_short": true,
        "external_min_days": 36,
        "external_smooth_alpha": 0.16147474908297627,
        "yolo_min_conf": 0.5162753938748107,
        "fingpt_confidence_threshold": 0.4693858373015751,
        "xgb_n_estimators": 363,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.021109285460938564,
        "xgb_subsample": 0.622497702919922,
        "xgb_colsample_bytree": 0.6221800877774477,
        "xgb_reg_alpha": 0.21025532917487008,
        "xgb_reg_lambda": 0.014826672694554687,
        "xgb_min_child_weight": 15,
        "xgb_gamma": 0.3184171232197409,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 411,
        "lgb_n_estimators": 416,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.0202822302011664,
        "lgb_num_leaves": 16,
        "lgb_subsample": 0.7137201466011911,
        "lgb_colsample_bytree": 0.8585558448077623,
        "lgb_reg_alpha": 0.0011675748979185874,
        "lgb_reg_lambda": 0.21945809116295786,
        "lgb_min_data_in_leaf": 15,
        "lgb_feature_fraction_bynode": 0.519617563739049,
        "lgb_bagging_freq": 4,
        "lgb_min_gain_to_split": 0.17508504057930885,
        "cat_iterations": 326,
        "cat_depth": 3,
        "cat_learning_rate": 0.02441571033698423,
        "cat_l2_leaf_reg": 2.400241528604857,
        "cat_subsample": 0.5012963735737471,
        "cat_rsm": 0.7299473286018837,
        "cat_border_count": 48,
        "cat_random_strength": 3.774475006559713,
        "cat_leaf_estimation_iterations": 7,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 72.6984126984127,
        "avg_nrmse": 1.1112368492617046,
        "model_choice": "all",
        "symbol_metrics": {
          "AKGRT_1d": {
            "symbol": "AKGRT",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 457,
                "test_days": 30,
                "train_end_idx": 457,
                "test_end_idx": 487,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00639222665789374,
                    "rmse": 0.026313597785369364,
                    "mape": 1.8056751927631929,
                    "confidence": 0.6198067579137441
                  },
                  "lightgbm": {
                    "raw_r2": -0.012734738929446321,
                    "rmse": 0.02639901037766954,
                    "mape": 1.699601434782716,
                    "confidence": 0.6146565190488926
                  },
                  "catboost": {
                    "raw_r2": 0.043994688398669934,
                    "rmse": 0.025634831852025686,
                    "mape": 1.5635565858884097,
                    "confidence": 0.6606022389387181
                  }
                },
                "dirhit": 66.66666666666666,
                "rmse": 0.021658587057053907,
                "mape": 2593538.7782078707,
                "nrmse": 1.203181003231003,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 487,
                "test_days": 30,
                "train_end_idx": 487,
                "test_end_idx": 517,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007215270572794956,
                    "rmse": 0.025923169175847385,
                    "mape": 1.7941462523507636,
                    "confidence": 0.619138228405372
                  },
                  "lightgbm": {
                    "raw_r2": -0.013278614063729396,
                    "rmse": 0.02601878166481819,
                    "mape": 1.6988472448270056,
                    "confidence": 0.6142150874758203
                  },
                  "catboost": {
                    "raw_r2": 0.028624040530443578,
                    "rmse": 0.025491194966152375,
                    "mape": 1.5655132478203473,
                    "confidence": 0.6482174155012967
                  }
                },
                "dirhit": null,
                "rmse": 0.01519363065906926,
                "mape": 201100.92185381523,
                "nrmse": 1.1444695315958768,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 517,
                "test_days": 30,
                "train_end_idx": 517,
                "test_end_idx": 547,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.002572076729287461,
                    "rmse": 0.0253453001263589,
                    "mape": 1.8549062311691495,
                    "confidence": 0.6229102164597234
                  },
                  "lightgbm": {
                    "raw_r2": -0.007843723646449549,
                    "rmse": 0.025421715171481216,
                    "mape": 1.7455449217552594,
                    "confidence": 0.6186277912741849
                  },
                  "catboost": {
                    "raw_r2": 0.04338107342831613,
                    "rmse": 0.024787436301011434,
                    "mape": 1.5700936473749378,
                    "confidence": 0.6601095772092126
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.016693817817791272,
                "mape": 135.7918171349615,
                "nrmse": 1.0248887776135154,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 547,
                "test_days": 30,
                "train_end_idx": 547,
                "test_end_idx": 577,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0006211809796566511,
                    "rmse": 0.024851255813147503,
                    "mape": 1.8621391036961537,
                    "confidence": 0.6244952908597581
                  },
                  "lightgbm": {
                    "raw_r2": -0.004292227089872425,
                    "rmse": 0.024903090266965657,
                    "mape": 1.745267894286331,
                    "confidence": 0.6215126993369602
                  },
                  "catboost": {
                    "raw_r2": 0.0370818943797104,
                    "rmse": 0.02431221166359645,
                    "mape": 1.6091384201018437,
                    "confidence": 0.655043023522486
                  }
                },
                "dirhit": 71.42857142857143,
                "rmse": 0.015178159520091822,
                "mape": 2186672.1963159125,
                "nrmse": 1.0724080846064235,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 72.6984126984127,
            "avg_nrmse": 1.1112368492617046,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.004200188734908202,
                "rmse": 0.02560833072518079,
                "mape": 1.829216694994815,
                "confidence": 0.6215876234096495
              },
              "lightgbm": {
                "raw_r2": -0.009537325932374423,
                "rmse": 0.02568564937023365,
                "mape": 1.7223153739128279,
                "confidence": 0.6172530242839644
              },
              "catboost": {
                "raw_r2": 0.038270424184285015,
                "rmse": 0.025056418695696484,
                "mape": 1.5770754752963847,
                "confidence": 0.6559930637929283
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AKGRT_h1_c3",
  "symbols": [
    "AKGRT"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_adaptive_k_1d": 1.4305792935051502,
    "ml_pattern_weight_scale_1d": 0.7108277120477305,
    "external_min_days": 30,
    "external_smooth_alpha": 0.13877456301535107,
    "yolo_min_conf": 0.5673416055264431,
    "fingpt_confidence_threshold": 0.491485027082052
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 421,
    "xgb_max_depth": 2,
    "xgb_learning_rate": 0.022476619180480353,
    "xgb_subsample": 0.7444002725256534,
    "xgb_colsample_bytree": 0.6111069133490599,
    "xgb_reg_alpha": 0.5036430339440657,
    "xgb_reg_lambda": 0.013693078490591887,
    "xgb_min_child_weight": 15,
    "xgb_gamma": 0.5505170798912463,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 312,
    "lgb_n_estimators": 495,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.0552929211122327,
    "lgb_num_leaves": 14,
    "lgb_subsample": 0.624534201577359,
    "lgb_colsample_bytree": 0.8314799664193346,
    "lgb_reg_alpha": 0.00027674014714891874,
    "lgb_reg_lambda": 0.02532575952152317,
    "lgb_min_data_in_leaf": 10,
    "lgb_feature_fraction_bynode": 0.5090832655725225,
    "lgb_bagging_freq": 1,
    "lgb_min_gain_to_split": 0.992078823374069,
    "cat_iterations": 396,
    "cat_depth": 7,
    "cat_learning_rate": 0.021323995874464464,
    "cat_l2_leaf_reg": 1.6355422572579277,
    "cat_subsample": 0.5359904049738684,
    "cat_rsm": 0.760505662419233,
    "cat_border_count": 20,
    "cat_random_strength": 3.7426683548380484,
    "cat_leaf_estimation_iterations": 5,
    "cat_bootstrap_type": "Bayesian"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AKGRT_1d": {
      "symbol": "AKGRT",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 454,
          "test_days": 30,
          "train_end_idx": 454,
          "test_end_idx": 484,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-16T00:00:00",
          "test_start": "2025-06-17T00:00:00",
          "test_end": "2025-07-29T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.004015784073883773,
              "rmse": 0.02640789613860745,
              "mape": 1.8418874443751838,
              "confidence": 0.6217372850564067
            },
            "lightgbm": {
              "raw_r2": -0.010353392742868431,
              "rmse": 0.02648974064665363,
              "mape": 1.698691166023356,
              "confidence": 0.6165897464753105
            },
            "catboost": {
              "raw_r2": 0.024096609225179828,
              "rmse": 0.02600244111408147,
              "mape": 1.6238580542387526,
              "confidence": 0.6445548456037002
            }
          },
          "dirhit": 87.5,
          "rmse": 0.020010542517342182,
          "mape": 132.60248486386362,
          "nrmse": 1.0580523121106553,
          "mask_count": 8,
          "mask_pct": 27.586206896551722,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 2,
          "train_days": 484,
          "test_days": 30,
          "train_end_idx": 484,
          "test_end_idx": 514,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-29T00:00:00",
          "test_start": "2025-07-30T00:00:00",
          "test_end": "2025-09-09T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.006331851344407724,
              "rmse": 0.026055705233473194,
              "mape": 1.8453377509942959,
              "confidence": 0.619855800448418
            },
            "lightgbm": {
              "raw_r2": -0.014101750353186912,
              "rmse": 0.02618482196649675,
              "mape": 1.7035733145807488,
              "confidence": 0.613547072282248
            },
            "catboost": {
              "raw_r2": 0.01685431129174771,
              "rmse": 0.025807891831034754,
              "mape": 1.6313206868917944,
              "confidence": 0.6386860293822565
            }
          },
          "dirhit": 75.0,
          "rmse": 0.015284739105841,
          "mape": 2651539.784948901,
          "nrmse": 1.152304805096368,
          "mask_count": 8,
          "mask_pct": 27.586206896551722,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 3,
          "train_days": 514,
          "test_days": 30,
          "train_end_idx": 514,
          "test_end_idx": 544,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-09T00:00:00",
          "test_start": "2025-09-10T00:00:00",
          "test_end": "2025-10-21T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.001868340287626058,
              "rmse": 0.02538311892858844,
              "mape": 1.9364935246013175,
              "confidence": 0.6234819845557245
            },
            "lightgbm": {
              "raw_r2": -0.009950508268603034,
              "rmse": 0.025502111040116605,
              "mape": 1.7259562330543945,
              "confidence": 0.6169168793190485
            },
            "catboost": {
              "raw_r2": 0.021222553267553252,
              "rmse": 0.02509927304308305,
              "mape": 1.6154251330914076,
              "confidence": 0.6422271628575057
            }
          },
          "dirhit": 80.0,
          "rmse": 0.01705585028820034,
          "mape": 132.56256981469653,
          "nrmse": 0.9993563935697922,
          "mask_count": 5,
          "mask_pct": 17.24137931034483,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 4,
          "train_days": 544,
          "test_days": 30,
          "train_end_idx": 544,
          "test_end_idx": 574,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-21T00:00:00",
          "test_start": "2025-10-22T00:00:00",
          "test_end": "2025-12-02T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0015016260214391064,
              "rmse": 0.024939772885597795,
              "mape": 1.9123486455111653,
              "confidence": 0.6237799345890377
            },
            "lightgbm": {
              "raw_r2": -0.004583588030214081,
              "rmse": 0.02497717066111239,
              "mape": 1.7636538226877407,
              "confidence": 0.6212759977211153
            },
            "catboost": {
              "raw_r2": 0.036185515958789015,
              "rmse": 0.024415620522866468,
              "mape": 1.5889053778398394,
              "confidence": 0.6543207911606284
            }
          },
          "dirhit": null,
          "rmse": 0.016107441718932216,
          "mape": 4229152.755003885,
          "nrmse": 1.0778545912988213,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653,
          "low_support": true,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        }
      ],
      "avg_dirhit": 80.83333333333333,
      "avg_nrmse": 1.0718920255189093,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.003429400431839165,
          "rmse": 0.025696623296566717,
          "mape": 1.8840168413704905,
          "confidence": 0.6222137511623967
        },
        "lightgbm": {
          "raw_r2": -0.009747309848718114,
          "rmse": 0.025788461078594848,
          "mape": 1.72296863408656,
          "confidence": 0.6170824239494306
        },
        "catboost": {
          "raw_r2": 0.024589747435817454,
          "rmse": 0.025331306627766434,
          "mape": 1.6148773130154486,
          "confidence": 0.6449472072510227
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 5,
    "min_mask_pct": 2.5,
    "best_trial_number": 60,
    "best_trial_seed": 102,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "AKGRT_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 454,
            "test_end_idx": 484,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-16T00:00:00",
            "test_start": "2025-06-17T00:00:00",
            "test_end": "2025-07-29T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 484,
            "test_end_idx": 514,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-29T00:00:00",
            "test_start": "2025-07-30T00:00:00",
            "test_end": "2025-09-09T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 514,
            "test_end_idx": 544,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-09T00:00:00",
            "test_start": "2025-09-10T00:00:00",
            "test_end": "2025-10-21T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 544,
            "test_end_idx": 574,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-21T00:00:00",
            "test_start": "2025-10-22T00:00:00",
            "test_end": "2025-12-02T00:00:00"
          }
        ]
      }
    }
  }
}