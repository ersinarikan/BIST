{
  "best_value": 56.844884141403625,
  "best_dirhit": 90.0,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "model_choice": "all",
    "n_seeds": 4,
    "ml_adaptive_k_1d": 1.5647669145215104,
    "ml_pattern_weight_scale_1d": 1.0769084519817553,
    "enable_talib_patterns_short": false,
    "external_min_days": 26,
    "external_smooth_alpha": 0.11716641217721781,
    "regime_scale_low": 0.886858196987584,
    "regime_scale_high": 1.1050943155404669,
    "yolo_min_conf": 0.624387631451469,
    "fingpt_confidence_threshold": 0.47403440397321617,
    "xgb_n_estimators": 556,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.03863299418506865,
    "xgb_subsample": 0.8722724080332139,
    "xgb_colsample_bytree": 0.5083769546943541,
    "xgb_reg_alpha": 0.37396931838107633,
    "xgb_reg_lambda": 13.19822706472489,
    "xgb_min_child_weight": 12,
    "xgb_gamma": 0.0001334691908639132,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 341,
    "lgb_n_estimators": 274,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.04339793322390948,
    "lgb_num_leaves": 41,
    "lgb_subsample": 0.5590038929827179,
    "lgb_colsample_bytree": 0.7989039476972158,
    "lgb_reg_alpha": 0.08533126189086238,
    "lgb_reg_lambda": 0.0005008059382108562,
    "lgb_min_data_in_leaf": 23,
    "lgb_feature_fraction_bynode": 0.7210834465084097,
    "lgb_bagging_freq": 3,
    "lgb_min_gain_to_split": 0.6540425989690917,
    "cat_iterations": 273,
    "cat_depth": 5,
    "cat_learning_rate": 0.03728567791484031,
    "cat_l2_leaf_reg": 6.964043526786673,
    "cat_subsample": 0.7732561081974748,
    "cat_rsm": 0.7648458444447277,
    "cat_border_count": 118,
    "cat_random_strength": 0.2698523632458157,
    "cat_leaf_estimation_iterations": 14,
    "cat_bootstrap_type": "No"
  },
  "best_trial": {
    "number": 1034,
    "value": 56.844884141403625,
    "state": "1"
  },
  "best_trial_number": 1034,
  "best_trial_seed": 1076,
  "n_trials": 1500,
  "pruned_count": 0,
  "avg_trial_time": 286.35875875673855,
  "top_k_trials": [
    {
      "number": 1034,
      "value": 56.844884141403625,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "n_seeds": 4,
        "ml_adaptive_k_1d": 1.5647669145215104,
        "ml_pattern_weight_scale_1d": 1.0769084519817553,
        "enable_talib_patterns_short": false,
        "external_min_days": 26,
        "external_smooth_alpha": 0.11716641217721781,
        "regime_scale_low": 0.886858196987584,
        "regime_scale_high": 1.1050943155404669,
        "yolo_min_conf": 0.624387631451469,
        "fingpt_confidence_threshold": 0.47403440397321617,
        "xgb_n_estimators": 556,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.03863299418506865,
        "xgb_subsample": 0.8722724080332139,
        "xgb_colsample_bytree": 0.5083769546943541,
        "xgb_reg_alpha": 0.37396931838107633,
        "xgb_reg_lambda": 13.19822706472489,
        "xgb_min_child_weight": 12,
        "xgb_gamma": 0.0001334691908639132,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 341,
        "lgb_n_estimators": 274,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.04339793322390948,
        "lgb_num_leaves": 41,
        "lgb_subsample": 0.5590038929827179,
        "lgb_colsample_bytree": 0.7989039476972158,
        "lgb_reg_alpha": 0.08533126189086238,
        "lgb_reg_lambda": 0.0005008059382108562,
        "lgb_min_data_in_leaf": 23,
        "lgb_feature_fraction_bynode": 0.7210834465084097,
        "lgb_bagging_freq": 3,
        "lgb_min_gain_to_split": 0.6540425989690917,
        "cat_iterations": 273,
        "cat_depth": 5,
        "cat_learning_rate": 0.03728567791484031,
        "cat_l2_leaf_reg": 6.964043526786673,
        "cat_subsample": 0.7732561081974748,
        "cat_rsm": 0.7648458444447277,
        "cat_border_count": 118,
        "cat_random_strength": 0.2698523632458157,
        "cat_leaf_estimation_iterations": 14,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 90.0,
        "avg_nrmse": 1.025852643099395,
        "model_choice": "all",
        "symbol_metrics": {
          "AGYO_1d": {
            "symbol": "AGYO",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 457,
                "test_days": 30,
                "train_end_idx": 457,
                "test_end_idx": 487,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.00898095657983274,
                    "rmse": 0.02749820962909613,
                    "mape": 1.6127343102492286,
                    "confidence": 0.6322958013004696
                  },
                  "lightgbm": {
                    "raw_r2": -0.02097856144373626,
                    "rmse": 0.02794080923530631,
                    "mape": 1.648798072593829,
                    "confidence": 0.6079705298613769
                  },
                  "catboost": {
                    "raw_r2": 0.018559403942077557,
                    "rmse": 0.027393493885276662,
                    "mape": 1.6221254391988216,
                    "confidence": 0.6400687038436168
                  }
                },
                "dirhit": null,
                "rmse": 0.017729124916013198,
                "mape": 865967.3023081359,
                "nrmse": 1.074673987787856,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 487,
                "test_days": 30,
                "train_end_idx": 487,
                "test_end_idx": 517,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.019549051088729768,
                    "rmse": 0.026911105899782663,
                    "mape": 1.6642384144568436,
                    "confidence": 0.6408709699055504
                  },
                  "lightgbm": {
                    "raw_r2": -0.013721139146248692,
                    "rmse": 0.027340699386301848,
                    "mape": 1.65690096731612,
                    "confidence": 0.6138559451162784
                  },
                  "catboost": {
                    "raw_r2": 0.007844303353550316,
                    "rmse": 0.027102604342470957,
                    "mape": 1.6104961245079494,
                    "confidence": 0.6313726795567516
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.017873859977493255,
                "mape": 95.9177392927533,
                "nrmse": 1.02150373711997,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 517,
                "test_days": 30,
                "train_end_idx": 517,
                "test_end_idx": 547,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.009015444309352602,
                    "rmse": 0.025726840310386082,
                    "mape": 1.7156221058848098,
                    "confidence": 0.617676191594631
                  },
                  "lightgbm": {
                    "raw_r2": -0.021408755958495968,
                    "rmse": 0.025913662592083695,
                    "mape": 1.6924891544927578,
                    "confidence": 0.6076219762689448
                  },
                  "catboost": {
                    "raw_r2": -0.005019579131024872,
                    "rmse": 0.02572434954402162,
                    "mape": 1.6813520261788653,
                    "confidence": 0.6209218060264774
                  }
                },
                "dirhit": null,
                "rmse": 0.014235395908464699,
                "mape": 476577.8691620569,
                "nrmse": 1.0206721327697867,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 547,
                "test_days": 30,
                "train_end_idx": 547,
                "test_end_idx": 577,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.006671047747819496,
                    "rmse": 0.024572255137980118,
                    "mape": 1.6676175675387763,
                    "confidence": 0.619580276181638
                  },
                  "lightgbm": {
                    "raw_r2": -0.023848899662045103,
                    "rmse": 0.024842737204981504,
                    "mape": 1.702521755865616,
                    "confidence": 0.6056456972311872
                  },
                  "catboost": {
                    "raw_r2": -0.01509725496329728,
                    "rmse": 0.024719602829638206,
                    "mape": 1.6637891923456567,
                    "confidence": 0.6127393017592462
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.012223940871304812,
                "mape": 2540135.2671229867,
                "nrmse": 0.9865607147199675,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 90.0,
            "avg_nrmse": 1.025852643099395,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": 0.0032108789028476017,
                "rmse": 0.026177102744311245,
                "mape": 1.6650530995324146,
                "confidence": 0.6276058097455722
              },
              "lightgbm": {
                "raw_r2": -0.019989339052631505,
                "rmse": 0.02650947710466834,
                "mape": 1.6751774875670806,
                "confidence": 0.6087735371194468
              },
              "catboost": {
                "raw_r2": 0.001571718300326431,
                "rmse": 0.026235012650351858,
                "mape": 1.6444406955578232,
                "confidence": 0.6262756227965229
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1382,
      "value": 56.424508734698925,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.6681230296073526,
        "ml_pattern_weight_scale_1d": 1.844143047980216,
        "enable_talib_patterns_short": true,
        "external_min_days": 24,
        "external_smooth_alpha": 0.40076409623232395,
        "regime_scale_low": 0.9045478254240191,
        "regime_scale_high": 1.1058833601911984,
        "yolo_min_conf": 0.6139180668773326,
        "fingpt_confidence_threshold": 0.45073626143361367,
        "xgb_n_estimators": 486,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.13690263020499832,
        "xgb_subsample": 0.886074531562658,
        "xgb_colsample_bytree": 0.5373678710075991,
        "xgb_reg_alpha": 0.014214615625304317,
        "xgb_reg_lambda": 0.0014289731026861914,
        "xgb_min_child_weight": 14,
        "xgb_gamma": 0.010892329220980719,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 304,
        "lgb_n_estimators": 233,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.04479106488646299,
        "lgb_num_leaves": 22,
        "lgb_subsample": 0.5905783614332356,
        "lgb_colsample_bytree": 0.8930919648196918,
        "lgb_reg_alpha": 0.020072457522854418,
        "lgb_reg_lambda": 0.0001708533642722496,
        "lgb_min_data_in_leaf": 27,
        "lgb_feature_fraction_bynode": 0.6417796533618322,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.06574124836647224,
        "cat_iterations": 401,
        "cat_depth": 8,
        "cat_learning_rate": 0.04305248682776226,
        "cat_l2_leaf_reg": 7.631473377768745,
        "cat_subsample": 0.7776132450163601,
        "cat_rsm": 0.7202992601545731,
        "cat_border_count": 132,
        "cat_random_strength": 0.2993054995230158,
        "cat_leaf_estimation_iterations": 11,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 89.68253968253968,
        "avg_nrmse": 1.0588781738464748,
        "model_choice": "all",
        "symbol_metrics": {
          "AGYO_1d": {
            "symbol": "AGYO",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 457,
                "test_days": 30,
                "train_end_idx": 457,
                "test_end_idx": 487,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007953120103053046,
                    "rmse": 0.027741713340424523,
                    "mape": 1.6095847491729902,
                    "confidence": 0.6185389413014482
                  },
                  "lightgbm": {
                    "raw_r2": -0.02097856144373626,
                    "rmse": 0.02794080923530631,
                    "mape": 1.648798072593829,
                    "confidence": 0.6079705298613769
                  },
                  "catboost": {
                    "raw_r2": 0.0100705695285086,
                    "rmse": 0.027531593765490157,
                    "mape": 1.6269260695643513,
                    "confidence": 0.6331806093822113
                  }
                },
                "dirhit": 83.33333333333334,
                "rmse": 0.018153401540136692,
                "mape": 1095720.0689519434,
                "nrmse": 1.1003920677118197,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 487,
                "test_days": 30,
                "train_end_idx": 487,
                "test_end_idx": 517,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.029770446197619815,
                    "rmse": 0.027534864094813,
                    "mape": 1.6543248869449412,
                    "confidence": 0.6008560757279322
                  },
                  "lightgbm": {
                    "raw_r2": -0.013721139146248692,
                    "rmse": 0.027340699386301848,
                    "mape": 1.65690096731612,
                    "confidence": 0.6138559451162784
                  },
                  "catboost": {
                    "raw_r2": -0.0025874084707548186,
                    "rmse": 0.02722235737356658,
                    "mape": 1.6466485871228977,
                    "confidence": 0.6228977599379091
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.01793097520510511,
                "mape": 93.27480098815496,
                "nrmse": 1.0247679127667209,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 517,
                "test_days": 30,
                "train_end_idx": 517,
                "test_end_idx": 547,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.04067598649046744,
                    "rmse": 0.026307266028695278,
                    "mape": 1.6820342552622487,
                    "confidence": 0.5920642107985714
                  },
                  "lightgbm": {
                    "raw_r2": -0.021408755958495968,
                    "rmse": 0.025913662592083695,
                    "mape": 1.6924891544927578,
                    "confidence": 0.6076219762689448
                  },
                  "catboost": {
                    "raw_r2": -0.001320994885480135,
                    "rmse": 0.025681108135704987,
                    "mape": 1.683738578801771,
                    "confidence": 0.6239266955575149
                  }
                },
                "dirhit": null,
                "rmse": 0.015722462041876117,
                "mape": 63805.763009487746,
                "nrmse": 1.1272941734716002,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 547,
                "test_days": 30,
                "train_end_idx": 547,
                "test_end_idx": 577,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.08869737530163953,
                    "rmse": 0.025102793587348907,
                    "mape": 1.4941117465024263,
                    "confidence": 0.5540917799803583
                  },
                  "lightgbm": {
                    "raw_r2": -0.023848899662045103,
                    "rmse": 0.024842737204981504,
                    "mape": 1.702521755865616,
                    "confidence": 0.6056456972311872
                  },
                  "catboost": {
                    "raw_r2": -0.0037672082904939654,
                    "rmse": 0.024563669880766664,
                    "mape": 1.67141405817673,
                    "confidence": 0.6219392337591901
                  }
                },
                "dirhit": 85.71428571428571,
                "rmse": 0.012180547334030838,
                "mape": 1171652.9804471685,
                "nrmse": 0.9830585414357581,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 89.68253968253968,
            "avg_nrmse": 1.0588781738464748,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.041774232023194954,
                "rmse": 0.026671659262820425,
                "mape": 1.6100139094706516,
                "confidence": 0.5913877519520775
              },
              "lightgbm": {
                "raw_r2": -0.019989339052631505,
                "rmse": 0.02650947710466834,
                "mape": 1.6751774875670806,
                "confidence": 0.6087735371194468
              },
              "catboost": {
                "raw_r2": 0.0005987394704449201,
                "rmse": 0.026249682288882095,
                "mape": 1.6571818234164373,
                "confidence": 0.6254860746592064
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 672,
      "value": 52.030747171786935,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.694664121438704,
        "ml_pattern_weight_scale_1d": 1.1329392885373324,
        "enable_talib_patterns_short": true,
        "external_min_days": 21,
        "external_smooth_alpha": 0.08275799044095147,
        "regime_scale_low": 0.8709422641528826,
        "regime_scale_high": 1.067382153810009,
        "yolo_min_conf": 0.7313490327390837,
        "fingpt_confidence_threshold": 0.36019594260333804,
        "xgb_n_estimators": 332,
        "xgb_max_depth": 6,
        "xgb_learning_rate": 0.11751483411905536,
        "xgb_subsample": 0.8593178090651955,
        "xgb_colsample_bytree": 0.5190416381635544,
        "xgb_reg_alpha": 0.3833236481601659,
        "xgb_reg_lambda": 0.4521812522692239,
        "xgb_min_child_weight": 14,
        "xgb_gamma": 0.0007552507179027656,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 487,
        "lgb_n_estimators": 271,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.1574233608443179,
        "lgb_num_leaves": 28,
        "lgb_subsample": 0.526350742001137,
        "lgb_colsample_bytree": 0.7287367184210213,
        "lgb_reg_alpha": 0.25336942961626746,
        "lgb_reg_lambda": 0.00036755315863584725,
        "lgb_min_data_in_leaf": 27,
        "lgb_feature_fraction_bynode": 0.7075457257310666,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.21269562828739702,
        "cat_iterations": 344,
        "cat_depth": 5,
        "cat_learning_rate": 0.06380593976555929,
        "cat_l2_leaf_reg": 7.394449905453119,
        "cat_subsample": 0.7452602685517923,
        "cat_rsm": 0.858126166144141,
        "cat_border_count": 145,
        "cat_random_strength": 3.450443522188807,
        "cat_leaf_estimation_iterations": 13,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 83.33333333333333,
        "avg_nrmse": 1.0504310269243988,
        "model_choice": "all",
        "symbol_metrics": {
          "AGYO_1d": {
            "symbol": "AGYO",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 457,
                "test_days": 30,
                "train_end_idx": 457,
                "test_end_idx": 487,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.009528196248825505,
                    "rmse": 0.027499559729772007,
                    "mape": 1.5547310345084564,
                    "confidence": 0.6327401955378671
                  },
                  "lightgbm": {
                    "raw_r2": -0.02097856144373626,
                    "rmse": 0.02794080923530631,
                    "mape": 1.648798072593829,
                    "confidence": 0.6079705298613769
                  },
                  "catboost": {
                    "raw_r2": 9.940245453265995e-05,
                    "rmse": 0.02765172842507299,
                    "mape": 1.618885276616147,
                    "confidence": 0.6250807644926453
                  }
                },
                "dirhit": null,
                "rmse": 0.018113308149884357,
                "mape": 2255965.3023898574,
                "nrmse": 1.09796175466532,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 487,
                "test_days": 30,
                "train_end_idx": 487,
                "test_end_idx": 517,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.007808606972116013,
                    "rmse": 0.027313751187644175,
                    "mape": 1.6690932163049355,
                    "confidence": 0.6186563126525317
                  },
                  "lightgbm": {
                    "raw_r2": -0.013721139146248692,
                    "rmse": 0.027340699386301848,
                    "mape": 1.65690096731612,
                    "confidence": 0.6138559451162784
                  },
                  "catboost": {
                    "raw_r2": 0.013103016942027127,
                    "rmse": 0.027001917449661256,
                    "mape": 1.6600114473548804,
                    "confidence": 0.6356423949070531
                  }
                },
                "dirhit": 66.66666666666666,
                "rmse": 0.01847984711571952,
                "mape": 107.16589098806948,
                "nrmse": 1.056136330590224,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 517,
                "test_days": 30,
                "train_end_idx": 517,
                "test_end_idx": 547,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.027116243157470448,
                    "rmse": 0.025266302615516326,
                    "mape": 1.6429963071488698,
                    "confidence": 0.6469982597297753
                  },
                  "lightgbm": {
                    "raw_r2": -0.021408755958495968,
                    "rmse": 0.025913662592083695,
                    "mape": 1.6924891544927578,
                    "confidence": 0.6076219762689448
                  },
                  "catboost": {
                    "raw_r2": -0.0227936192669288,
                    "rmse": 0.025935072492074423,
                    "mape": 1.7094210898892623,
                    "confidence": 0.6065002040787122
                  }
                },
                "dirhit": null,
                "rmse": 0.015016662012684605,
                "mape": 793442.5607756905,
                "nrmse": 1.0766885966589794,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 547,
                "test_days": 30,
                "train_end_idx": 547,
                "test_end_idx": 577,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.007009284160016634,
                    "rmse": 0.0244490343816407,
                    "mape": 1.645794509223893,
                    "confidence": 0.6306944605394171
                  },
                  "lightgbm": {
                    "raw_r2": -0.023848899662045103,
                    "rmse": 0.024842737204981504,
                    "mape": 1.702521755865616,
                    "confidence": 0.6056456972311872
                  },
                  "catboost": {
                    "raw_r2": -0.023935250804654678,
                    "rmse": 0.02486137837626615,
                    "mape": 1.658648715952168,
                    "confidence": 0.6055757866445217
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.011845184370051986,
                "mape": 3964522.857684345,
                "nrmse": 0.970937425783072,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 83.33333333333333,
            "avg_nrmse": 1.0504310269243988,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": 0.008961279148549144,
                "rmse": 0.026132161978643303,
                "mape": 1.6281537667965387,
                "confidence": 0.6322723071148979
              },
              "lightgbm": {
                "raw_r2": -0.019989339052631505,
                "rmse": 0.02650947710466834,
                "mape": 1.6751774875670806,
                "confidence": 0.6087735371194468
              },
              "catboost": {
                "raw_r2": -0.008381612668755922,
                "rmse": 0.026362524185768704,
                "mape": 1.6617416324531145,
                "confidence": 0.618199787530733
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AGYO_h1_c3",
  "symbols": [
    "AGYO"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "n_seeds": 4,
    "ml_adaptive_k_1d": 1.5647669145215104,
    "ml_pattern_weight_scale_1d": 1.0769084519817553,
    "external_min_days": 26,
    "external_smooth_alpha": 0.11716641217721781,
    "regime_scale_low": 0.886858196987584,
    "regime_scale_high": 1.1050943155404669,
    "yolo_min_conf": 0.624387631451469,
    "fingpt_confidence_threshold": 0.47403440397321617
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 556,
    "xgb_max_depth": 5,
    "xgb_learning_rate": 0.03863299418506865,
    "xgb_subsample": 0.8722724080332139,
    "xgb_colsample_bytree": 0.5083769546943541,
    "xgb_reg_alpha": 0.37396931838107633,
    "xgb_reg_lambda": 13.19822706472489,
    "xgb_min_child_weight": 12,
    "xgb_gamma": 0.0001334691908639132,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 341,
    "lgb_n_estimators": 274,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.04339793322390948,
    "lgb_num_leaves": 41,
    "lgb_subsample": 0.5590038929827179,
    "lgb_colsample_bytree": 0.7989039476972158,
    "lgb_reg_alpha": 0.08533126189086238,
    "lgb_reg_lambda": 0.0005008059382108562,
    "lgb_min_data_in_leaf": 23,
    "lgb_feature_fraction_bynode": 0.7210834465084097,
    "lgb_bagging_freq": 3,
    "lgb_min_gain_to_split": 0.6540425989690917,
    "cat_iterations": 273,
    "cat_depth": 5,
    "cat_learning_rate": 0.03728567791484031,
    "cat_l2_leaf_reg": 6.964043526786673,
    "cat_subsample": 0.7732561081974748,
    "cat_rsm": 0.7648458444447277,
    "cat_border_count": 118,
    "cat_random_strength": 0.2698523632458157,
    "cat_leaf_estimation_iterations": 14,
    "cat_bootstrap_type": "No"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AGYO_1d": {
      "symbol": "AGYO",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 457,
          "test_days": 30,
          "train_end_idx": 457,
          "test_end_idx": 487,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-19T00:00:00",
          "test_start": "2025-06-20T00:00:00",
          "test_end": "2025-08-01T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.00898095657983274,
              "rmse": 0.02749820962909613,
              "mape": 1.6127343102492286,
              "confidence": 0.6322958013004696
            },
            "lightgbm": {
              "raw_r2": -0.02097856144373626,
              "rmse": 0.02794080923530631,
              "mape": 1.648798072593829,
              "confidence": 0.6079705298613769
            },
            "catboost": {
              "raw_r2": 0.018559403942077557,
              "rmse": 0.027393493885276662,
              "mape": 1.6221254391988216,
              "confidence": 0.6400687038436168
            }
          },
          "dirhit": null,
          "rmse": 0.017729124916013198,
          "mape": 865967.3023081359,
          "nrmse": 1.074673987787856,
          "mask_count": 2,
          "mask_pct": 6.896551724137931,
          "low_support": true,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 2,
          "train_days": 487,
          "test_days": 30,
          "train_end_idx": 487,
          "test_end_idx": 517,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-08-01T00:00:00",
          "test_start": "2025-08-04T00:00:00",
          "test_end": "2025-09-12T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.019549051088729768,
              "rmse": 0.026911105899782663,
              "mape": 1.6642384144568436,
              "confidence": 0.6408709699055504
            },
            "lightgbm": {
              "raw_r2": -0.013721139146248692,
              "rmse": 0.027340699386301848,
              "mape": 1.65690096731612,
              "confidence": 0.6138559451162784
            },
            "catboost": {
              "raw_r2": 0.007844303353550316,
              "rmse": 0.027102604342470957,
              "mape": 1.6104961245079494,
              "confidence": 0.6313726795567516
            }
          },
          "dirhit": 100.0,
          "rmse": 0.017873859977493255,
          "mape": 95.9177392927533,
          "nrmse": 1.02150373711997,
          "mask_count": 5,
          "mask_pct": 17.24137931034483,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 3,
          "train_days": 517,
          "test_days": 30,
          "train_end_idx": 517,
          "test_end_idx": 547,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-12T00:00:00",
          "test_start": "2025-09-15T00:00:00",
          "test_end": "2025-10-24T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.009015444309352602,
              "rmse": 0.025726840310386082,
              "mape": 1.7156221058848098,
              "confidence": 0.617676191594631
            },
            "lightgbm": {
              "raw_r2": -0.021408755958495968,
              "rmse": 0.025913662592083695,
              "mape": 1.6924891544927578,
              "confidence": 0.6076219762689448
            },
            "catboost": {
              "raw_r2": -0.005019579131024872,
              "rmse": 0.02572434954402162,
              "mape": 1.6813520261788653,
              "confidence": 0.6209218060264774
            }
          },
          "dirhit": null,
          "rmse": 0.014235395908464699,
          "mape": 476577.8691620569,
          "nrmse": 1.0206721327697867,
          "mask_count": 3,
          "mask_pct": 10.344827586206897,
          "low_support": true,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 4,
          "train_days": 547,
          "test_days": 30,
          "train_end_idx": 547,
          "test_end_idx": 577,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-24T00:00:00",
          "test_start": "2025-10-27T00:00:00",
          "test_end": "2025-12-05T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.006671047747819496,
              "rmse": 0.024572255137980118,
              "mape": 1.6676175675387763,
              "confidence": 0.619580276181638
            },
            "lightgbm": {
              "raw_r2": -0.023848899662045103,
              "rmse": 0.024842737204981504,
              "mape": 1.702521755865616,
              "confidence": 0.6056456972311872
            },
            "catboost": {
              "raw_r2": -0.01509725496329728,
              "rmse": 0.024719602829638206,
              "mape": 1.6637891923456567,
              "confidence": 0.6127393017592462
            }
          },
          "dirhit": 80.0,
          "rmse": 0.012223940871304812,
          "mape": 2540135.2671229867,
          "nrmse": 0.9865607147199675,
          "mask_count": 5,
          "mask_pct": 17.24137931034483,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        }
      ],
      "avg_dirhit": 90.0,
      "avg_nrmse": 1.025852643099395,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": 0.0032108789028476017,
          "rmse": 0.026177102744311245,
          "mape": 1.6650530995324146,
          "confidence": 0.6276058097455722
        },
        "lightgbm": {
          "raw_r2": -0.019989339052631505,
          "rmse": 0.02650947710466834,
          "mape": 1.6751774875670806,
          "confidence": 0.6087735371194468
        },
        "catboost": {
          "raw_r2": 0.001571718300326431,
          "rmse": 0.026235012650351858,
          "mape": 1.6444406955578232,
          "confidence": 0.6262756227965229
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 5,
    "min_mask_pct": 2.5,
    "best_trial_number": 1034,
    "best_trial_seed": 1076,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "AGYO_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 457,
            "test_end_idx": 487,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-19T00:00:00",
            "test_start": "2025-06-20T00:00:00",
            "test_end": "2025-08-01T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 487,
            "test_end_idx": 517,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-08-01T00:00:00",
            "test_start": "2025-08-04T00:00:00",
            "test_end": "2025-09-12T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 517,
            "test_end_idx": 547,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-12T00:00:00",
            "test_start": "2025-09-15T00:00:00",
            "test_end": "2025-10-24T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 547,
            "test_end_idx": 577,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-24T00:00:00",
            "test_start": "2025-10-27T00:00:00",
            "test_end": "2025-12-05T00:00:00"
          }
        ]
      }
    }
  }
}