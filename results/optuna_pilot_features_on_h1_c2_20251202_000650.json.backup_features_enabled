{
  "best_value": 64.07201112152201,
  "best_dirhit": 100.0,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "model_choice": "xgb",
    "ml_adaptive_k_1d": 1.6106200317407866,
    "ml_pattern_weight_scale_1d": 1.0643692904273718,
    "enable_talib_patterns_short": true,
    "external_min_days": 55,
    "external_smooth_alpha": 0.44283082896348325,
    "regime_scale_low": 0.8017739821041817,
    "regime_scale_high": 1.1223507818184466,
    "smart_consensus_weight": 0.5883032090577394,
    "smart_performance_weight": 0.6099332986975894,
    "smart_sigma": 0.006797616492136454,
    "smart_weight_xgb": 1.1860130158069424,
    "smart_weight_lgbm": 0.9901860434380174,
    "smart_weight_cat": 0.6484061814147355,
    "xgb_n_estimators": 287,
    "xgb_max_depth": 2,
    "xgb_learning_rate": 0.031167032901372103,
    "xgb_subsample": 0.6027745895749358,
    "xgb_colsample_bytree": 0.8753200539586905,
    "xgb_reg_alpha": 0.009736335326377988,
    "xgb_reg_lambda": 4.436298857716252,
    "xgb_min_child_weight": 5,
    "xgb_gamma": 0.048328305860223505,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 279
  },
  "best_trial": {
    "number": 55,
    "value": 100.0,
    "state": "1"
  },
  "best_trial_number": 55,
  "best_trial_seed": 1244,
  "n_trials": 1425,
  "pruned_count": 0,
  "avg_trial_time": 255.7265132891396,
  "top_k_trials": [
    {
      "number": 1202,
      "value": 64.07201112152201,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "n_seeds": 4,
        "meta_stacking_alpha": 4.275656358363654,
        "ml_adaptive_k_1d": 2.50445330038274,
        "ml_pattern_weight_scale_1d": 1.5766927605878487,
        "enable_talib_patterns_short": true,
        "external_min_days": 51,
        "external_smooth_alpha": 0.17471207224616342,
        "yolo_min_conf": 0.3521889522581932,
        "cat_iterations": 226,
        "cat_depth": 2,
        "cat_learning_rate": 0.01606696830448191,
        "cat_l2_leaf_reg": 6.74860658424201,
        "cat_subsample": 0.9401252943378509,
        "cat_rsm": 0.7533934112948097,
        "cat_border_count": 246,
        "cat_random_strength": 1.7823104660300113,
        "cat_leaf_estimation_iterations": 11,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9879981464129981,
        "model_choice": "cat",
        "symbol_metrics": {
          "COSMO_1d": {
            "symbol": "COSMO",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 452,
                "test_days": 30,
                "train_end_idx": 452,
                "test_end_idx": 482,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.008201680352879825,
                    "rmse": 0.02966345751037716,
                    "mape": 1.7638941802815769,
                    "confidence": 0.6316629315646499
                  },
                  "catboost": {
                    "raw_r2": 0.0076214434074702115,
                    "rmse": 0.029678265429135462,
                    "mape": 1.8106725397718597,
                    "confidence": 0.6311916735116578
                  }
                },
                "dirhit": null,
                "rmse": 0.024011784603262705,
                "mape": 25159.828015980118,
                "nrmse": 0.9807798517785928,
                "mask_count": 0,
                "mask_pct": 0.0,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 482,
                "test_days": 30,
                "train_end_idx": 482,
                "test_end_idx": 512,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.009680395643761183,
                    "rmse": 0.028878032528024296,
                    "mape": 1.7384658089051381,
                    "confidence": 0.6328637862790754
                  },
                  "catboost": {
                    "raw_r2": 0.01892859999667451,
                    "rmse": 0.028751316261233933,
                    "mape": 1.6748177800997655,
                    "confidence": 0.6403680178838559
                  }
                },
                "dirhit": null,
                "rmse": 0.022988054353430085,
                "mape": 1469651.2582211704,
                "nrmse": 0.9937583972117102,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 512,
                "test_days": 30,
                "train_end_idx": 512,
                "test_end_idx": 542,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.015197310396276106,
                    "rmse": 0.028654302655268638,
                    "mape": 1.7156432587150234,
                    "confidence": 0.637341876813811
                  },
                  "catboost": {
                    "raw_r2": 0.017215338051798684,
                    "rmse": 0.02862087521600578,
                    "mape": 1.6830543613286986,
                    "confidence": 0.6389788322396783
                  }
                },
                "dirhit": null,
                "rmse": 0.05790911512870253,
                "mape": 99.79242284479255,
                "nrmse": 1.0028471871185107,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 542,
                "test_days": 30,
                "train_end_idx": 542,
                "test_end_idx": 572,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.010666222386268501,
                    "rmse": 0.031070512201533226,
                    "mape": 1.6905010170345498,
                    "confidence": 0.6336642522085906
                  },
                  "catboost": {
                    "raw_r2": 0.004030690546165672,
                    "rmse": 0.03115961430410008,
                    "mape": 1.789196991500904,
                    "confidence": 0.6282748252271398
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.049637966265093106,
                "mape": 39541.50473885974,
                "nrmse": 0.9746071495431787,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 100.0,
            "avg_nrmse": 0.9879981464129981,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": 0.010936402194796404,
                "rmse": 0.02956657622380083,
                "mape": 1.7271260662340722,
                "confidence": 0.6338832117165317
              },
              "catboost": {
                "raw_r2": 0.01194901800052727,
                "rmse": 0.029552517802618812,
                "mape": 1.739435418175307,
                "confidence": 0.6347033372155829
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 205,
      "value": 61.14019299385707,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "n_seeds": 4,
        "meta_stacking_alpha": 2.8351125659254803,
        "ml_adaptive_k_1d": 2.2693177518762244,
        "ml_pattern_weight_scale_1d": 1.7324137524067673,
        "enable_talib_patterns_short": true,
        "external_min_days": 59,
        "external_smooth_alpha": 0.3560336248940503,
        "yolo_min_conf": 0.38655579550977004,
        "fingpt_confidence_threshold": 0.4541623780775181,
        "cat_iterations": 132,
        "cat_depth": 2,
        "cat_learning_rate": 0.017598961303470703,
        "cat_l2_leaf_reg": 6.730567833298529,
        "cat_subsample": 0.9391238385378546,
        "cat_rsm": 0.6888250111835333,
        "cat_border_count": 247,
        "cat_random_strength": 1.8288599232844722,
        "cat_leaf_estimation_iterations": 6,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 95.83333333333334,
        "avg_nrmse": 0.9905233899127123,
        "model_choice": "cat",
        "symbol_metrics": {
          "COSMO_1d": {
            "symbol": "COSMO",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 452,
                "test_days": 30,
                "train_end_idx": 452,
                "test_end_idx": 482,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0024938163604365147,
                    "rmse": 0.029831266241355296,
                    "mape": 1.8155754350882685,
                    "confidence": 0.6229738004595318
                  },
                  "catboost": {
                    "raw_r2": 0.006902762496724206,
                    "rmse": 0.029681150597319697,
                    "mape": 1.7759103402822998,
                    "confidence": 0.6306079378568223
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.024304957498324873,
                "mape": 320642.96490968054,
                "nrmse": 0.9927547246718597,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 2,
                "train_days": 482,
                "test_days": 30,
                "train_end_idx": 482,
                "test_end_idx": 512,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00020132205635481348,
                    "rmse": 0.029007312347457664,
                    "mape": 1.9148151488116971,
                    "confidence": 0.6248364258430237
                  },
                  "catboost": {
                    "raw_r2": 0.012764113286371429,
                    "rmse": 0.028838425518126615,
                    "mape": 1.733129006063012,
                    "confidence": 0.6353673233857893
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.022754795411657234,
                "mape": 490063.6905152111,
                "nrmse": 0.9836747673164772,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 3,
                "train_days": 512,
                "test_days": 30,
                "train_end_idx": 512,
                "test_end_idx": 542,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00313653189087885,
                    "rmse": 0.028899121156903594,
                    "mape": 1.8265919031577393,
                    "confidence": 0.6224516200687268
                  },
                  "catboost": {
                    "raw_r2": 0.01049013248507961,
                    "rmse": 0.02871958829768946,
                    "mape": 1.726974790209488,
                    "confidence": 0.6335212791793225
                  }
                },
                "dirhit": 83.33333333333334,
                "rmse": 0.057496077623227,
                "mape": 100.84527490000829,
                "nrmse": 0.9956943667098411,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 4,
                "train_days": 542,
                "test_days": 30,
                "train_end_idx": 542,
                "test_end_idx": 572,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0028625066964410215,
                    "rmse": 0.031283025450388365,
                    "mape": 1.839092270583489,
                    "confidence": 0.6226742530111768
                  },
                  "catboost": {
                    "raw_r2": 0.006004297540214365,
                    "rmse": 0.031151275784132966,
                    "mape": 1.7107225098481835,
                    "confidence": 0.6298781253732385
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.050406403023275,
                "mape": 471902.78656900954,
                "nrmse": 0.9899697009526714,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              }
            ],
            "avg_dirhit": 95.83333333333334,
            "avg_nrmse": 0.9905233899127123,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.0021735442510278,
                "rmse": 0.029755181299026226,
                "mape": 1.8490186894102985,
                "confidence": 0.6232340248456147
              },
              "catboost": {
                "raw_r2": 0.009040326452097402,
                "rmse": 0.029597610049317186,
                "mape": 1.736684161600746,
                "confidence": 0.6323436664487931
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 237,
      "value": 60.54706325136555,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.508328281553938,
        "ml_loss_threshold": 0.001752907166982238,
        "ml_dir_penalty": 1.9329332951832878,
        "meta_stacking_alpha": 5.568167719105576,
        "ml_adaptive_k_1d": 1.949851073726726,
        "ml_pattern_weight_scale_1d": 1.6974333204707852,
        "enable_talib_patterns_short": true,
        "external_min_days": 54,
        "external_smooth_alpha": 0.3578030148324883,
        "yolo_min_conf": 0.4469706568014996,
        "fingpt_confidence_threshold": 0.4445624189910933,
        "cat_iterations": 195,
        "cat_depth": 2,
        "cat_learning_rate": 0.02092219890471267,
        "cat_l2_leaf_reg": 7.377758790718653,
        "cat_subsample": 0.8953281658210884,
        "cat_rsm": 0.7234166795160674,
        "cat_border_count": 255,
        "cat_random_strength": 2.154282673886772,
        "cat_leaf_estimation_iterations": 5,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 95.0,
        "avg_nrmse": 0.9921561247724083,
        "model_choice": "cat",
        "symbol_metrics": {
          "COSMO_1d": {
            "symbol": "COSMO",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 452,
                "test_days": 30,
                "train_end_idx": 452,
                "test_end_idx": 482,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -100.18702429470801,
                    "rmse": 0.29516464793843034,
                    "mape": 1.8738799484428124,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.003990470437145954,
                    "rmse": 0.029735149037333902,
                    "mape": 1.7550164961892298,
                    "confidence": 0.6282421496735633
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.023905772621968982,
                "mape": 740209.7844967117,
                "nrmse": 0.9764497106825459,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 2,
                "train_days": 482,
                "test_days": 30,
                "train_end_idx": 482,
                "test_end_idx": 512,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -104.41235794476798,
                    "rmse": 0.29513142213266896,
                    "mape": 1.8788479743388362,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.010723787093277148,
                    "rmse": 0.028861176839687835,
                    "mape": 1.781342660350514,
                    "confidence": 0.6337109901123195
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.023009851199837176,
                "mape": 1262124.4516969384,
                "nrmse": 0.9947006604766545,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 3,
                "train_days": 512,
                "test_days": 30,
                "train_end_idx": 512,
                "test_end_idx": 542,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -105.96359837580097,
                    "rmse": 0.2949155115289515,
                    "mape": 1.8778513313073188,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.0087117886589639,
                    "rmse": 0.028740057191301703,
                    "mape": 1.6845246441862636,
                    "confidence": 0.6320772093069349
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.05768897127101214,
                "mape": 98.13206099573635,
                "nrmse": 0.9990348227272476,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              },
              {
                "split_index": 4,
                "train_days": 542,
                "test_days": 30,
                "train_end_idx": 542,
                "test_end_idx": 572,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -89.6970626305711,
                    "rmse": 0.2948915351580653,
                    "mape": 1.8689396753190837,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.010868708384382217,
                    "rmse": 0.03106942814480674,
                    "mape": 1.6536540604782541,
                    "confidence": 0.633828652922644
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.050834743603528736,
                "mape": 153533.80168204298,
                "nrmse": 0.9984393052031852,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": false,
                "min_mask_count": 0,
                "min_mask_pct": 0.0
              }
            ],
            "avg_dirhit": 95.0,
            "avg_nrmse": 0.9921561247724083,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -100.06501081146202,
                "rmse": 0.295025779189529,
                "mape": 1.8748797323520128,
                "confidence": 0.3
              },
              "catboost": {
                "raw_r2": 0.008573688643442306,
                "rmse": 0.029601452803282545,
                "mape": 1.7186344653010652,
                "confidence": 0.6319647505038655
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_COSMO_h1_c2",
  "symbols": [
    "COSMO"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {},
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 226,
    "cat_depth": 2,
    "cat_learning_rate": 0.01606696830448191,
    "cat_l2_leaf_reg": 6.74860658424201,
    "cat_subsample": 0.9401252943378509,
    "cat_rsm": 0.7533934112948097,
    "cat_border_count": 246,
    "cat_random_strength": 1.7823104660300113,
    "cat_leaf_estimation_iterations": 11,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {},
  "best_trial_metrics": {
    "COSMO_1d": {
      "symbol": "COSMO",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 452,
          "test_days": 30,
          "train_end_idx": 452,
          "test_end_idx": 482,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-12T00:00:00",
          "test_start": "2025-06-13T00:00:00",
          "test_end": "2025-07-25T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.008201680352879825,
              "rmse": 0.02966345751037716,
              "mape": 1.7638941802815769,
              "confidence": 0.6316629315646499
            },
            "catboost": {
              "raw_r2": 0.0076214434074702115,
              "rmse": 0.029678265429135462,
              "mape": 1.8106725397718597,
              "confidence": 0.6311916735116578
            }
          },
          "dirhit": null,
          "rmse": 0.024011784603262705,
          "mape": 25159.828015980118,
          "nrmse": 0.9807798517785928,
          "mask_count": 0,
          "mask_pct": 0.0,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 2,
          "train_days": 482,
          "test_days": 30,
          "train_end_idx": 482,
          "test_end_idx": 512,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-25T00:00:00",
          "test_start": "2025-07-28T00:00:00",
          "test_end": "2025-09-05T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.009680395643761183,
              "rmse": 0.028878032528024296,
              "mape": 1.7384658089051381,
              "confidence": 0.6328637862790754
            },
            "catboost": {
              "raw_r2": 0.01892859999667451,
              "rmse": 0.028751316261233933,
              "mape": 1.6748177800997655,
              "confidence": 0.6403680178838559
            }
          },
          "dirhit": null,
          "rmse": 0.022988054353430085,
          "mape": 1469651.2582211704,
          "nrmse": 0.9937583972117102,
          "mask_count": 3,
          "mask_pct": 10.344827586206897,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 3,
          "train_days": 512,
          "test_days": 30,
          "train_end_idx": 512,
          "test_end_idx": 542,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-05T00:00:00",
          "test_start": "2025-09-08T00:00:00",
          "test_end": "2025-10-17T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.015197310396276106,
              "rmse": 0.028654302655268638,
              "mape": 1.7156432587150234,
              "confidence": 0.637341876813811
            },
            "catboost": {
              "raw_r2": 0.017215338051798684,
              "rmse": 0.02862087521600578,
              "mape": 1.6830543613286986,
              "confidence": 0.6389788322396783
            }
          },
          "dirhit": null,
          "rmse": 0.05790911512870253,
          "mape": 99.79242284479255,
          "nrmse": 1.0028471871185107,
          "mask_count": 2,
          "mask_pct": 6.896551724137931,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 4,
          "train_days": 542,
          "test_days": 30,
          "train_end_idx": 542,
          "test_end_idx": 572,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-17T00:00:00",
          "test_start": "2025-10-20T00:00:00",
          "test_end": "2025-11-28T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": 0.010666222386268501,
              "rmse": 0.031070512201533226,
              "mape": 1.6905010170345498,
              "confidence": 0.6336642522085906
            },
            "catboost": {
              "raw_r2": 0.004030690546165672,
              "rmse": 0.03115961430410008,
              "mape": 1.789196991500904,
              "confidence": 0.6282748252271398
            }
          },
          "dirhit": 100.0,
          "rmse": 0.049637966265093106,
          "mape": 39541.50473885974,
          "nrmse": 0.9746071495431787,
          "mask_count": 10,
          "mask_pct": 34.48275862068966,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        }
      ],
      "avg_dirhit": 100.0,
      "avg_nrmse": 0.9879981464129981,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": 0.010936402194796404,
          "rmse": 0.02956657622380083,
          "mape": 1.7271260662340722,
          "confidence": 0.6338832117165317
        },
        "catboost": {
          "raw_r2": 0.01194901800052727,
          "rmse": 0.029552517802618812,
          "mape": 1.739435418175307,
          "confidence": 0.6347033372155829
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 10,
    "min_mask_pct": 5.0,
    "best_trial_number": 1202,
    "best_trial_seed": 1244,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "COSMO_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 452,
            "test_end_idx": 482,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-12T00:00:00",
            "test_start": "2025-06-13T00:00:00",
            "test_end": "2025-07-25T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 482,
            "test_end_idx": 512,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-25T00:00:00",
            "test_start": "2025-07-28T00:00:00",
            "test_end": "2025-09-05T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 512,
            "test_end_idx": 542,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-05T00:00:00",
            "test_start": "2025-09-08T00:00:00",
            "test_end": "2025-10-17T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 542,
            "test_end_idx": 572,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-17T00:00:00",
            "test_start": "2025-10-20T00:00:00",
            "test_end": "2025-11-28T00:00:00"
          }
        ]
      }
    }
  },
  "_updated_at": "2025-12-02T19:55:53.903485",
  "_updated_reason": "filtered_best_params_from_study",
  "_filter_used": {
    "min_mask_count": 10,
    "min_mask_pct": 5.0
  }
}