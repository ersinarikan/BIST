{
  "best_value": 47.395521092632144,
  "best_dirhit": 76.78571428571428,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.2910770964172315,
    "ml_loss_threshold": 0.0076585988599232645,
    "ml_dir_penalty": 1.0818495215145842,
    "n_seeds": 3,
    "meta_stacking_alpha": 0.5807789821024015,
    "ml_adaptive_k_1d": 2.36181562819835,
    "ml_pattern_weight_scale_1d": 1.6646333215616844,
    "enable_talib_patterns_short": false,
    "external_min_days": 33,
    "external_smooth_alpha": 0.4279790039001304,
    "regime_scale_low": 0.9797354002051938,
    "regime_scale_high": 1.131871054120744,
    "smart_consensus_weight": 0.7901282525159447,
    "smart_performance_weight": 0.5115412539155766,
    "smart_sigma": 0.005437962057614654,
    "smart_weight_xgb": 1.1251418869370364,
    "smart_weight_lgbm": 0.9071934823315996,
    "smart_weight_cat": 1.252175032409932,
    "cat_iterations": 386,
    "cat_depth": 3,
    "cat_learning_rate": 0.015329798870630755,
    "cat_l2_leaf_reg": 3.286345280740631,
    "cat_subsample": 0.5134037559370983,
    "cat_rsm": 0.9354162226854027,
    "cat_border_count": 98,
    "cat_random_strength": 1.3518625206716888,
    "cat_leaf_estimation_iterations": 2,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 1349,
    "value": 47.395521092632144,
    "state": "1"
  },
  "n_trials": 1390,
  "pruned_count": 0,
  "avg_trial_time": 187.91694385529155,
  "top_k_trials": [
    {
      "number": 1349,
      "value": 47.395521092632144,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.2910770964172315,
        "ml_loss_threshold": 0.0076585988599232645,
        "ml_dir_penalty": 1.0818495215145842,
        "n_seeds": 3,
        "meta_stacking_alpha": 0.5807789821024015,
        "ml_adaptive_k_1d": 2.36181562819835,
        "ml_pattern_weight_scale_1d": 1.6646333215616844,
        "enable_talib_patterns_short": false,
        "external_min_days": 33,
        "external_smooth_alpha": 0.4279790039001304,
        "regime_scale_low": 0.9797354002051938,
        "regime_scale_high": 1.131871054120744,
        "smart_consensus_weight": 0.7901282525159447,
        "smart_performance_weight": 0.5115412539155766,
        "smart_sigma": 0.005437962057614654,
        "smart_weight_xgb": 1.1251418869370364,
        "smart_weight_lgbm": 0.9071934823315996,
        "smart_weight_cat": 1.252175032409932,
        "cat_iterations": 386,
        "cat_depth": 3,
        "cat_learning_rate": 0.015329798870630755,
        "cat_l2_leaf_reg": 3.286345280740631,
        "cat_subsample": 0.5134037559370983,
        "cat_rsm": 0.9354162226854027,
        "cat_border_count": 98,
        "cat_random_strength": 1.3518625206716888,
        "cat_leaf_estimation_iterations": 2,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 76.78571428571428,
        "avg_nrmse": 1.059079817894641,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 818,
      "value": 46.9459401370762,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "n_seeds": 4,
        "meta_stacking_alpha": 0.051314444767228566,
        "ml_adaptive_k_1d": 1.644485756170381,
        "ml_pattern_weight_scale_1d": 1.910368519873774,
        "enable_talib_patterns_short": true,
        "external_min_days": 39,
        "external_smooth_alpha": 0.3510270553341038,
        "yolo_min_conf": 0.3360839700682013,
        "fingpt_confidence_threshold": 0.47100757640627855,
        "cat_iterations": 438,
        "cat_depth": 6,
        "cat_learning_rate": 0.01070898635903919,
        "cat_l2_leaf_reg": 6.767890060660097,
        "cat_subsample": 0.6384231614145536,
        "cat_rsm": 0.7287239599481766,
        "cat_border_count": 249,
        "cat_random_strength": 1.9146752621977914,
        "cat_leaf_estimation_iterations": 9,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 76.04166666666666,
        "avg_nrmse": 1.0472044215984095,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 1231,
      "value": 46.40987446348503,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.37166591722469144,
        "ml_loss_threshold": 0.0071433858101691014,
        "ml_dir_penalty": 1.3497402445919298,
        "n_seeds": 3,
        "meta_stacking_alpha": 1.5598453741844136,
        "ml_adaptive_k_1d": 2.319982390108048,
        "ml_pattern_weight_scale_1d": 1.558192411144876,
        "enable_talib_patterns_short": false,
        "external_min_days": 36,
        "external_smooth_alpha": 0.4559600705280461,
        "regime_scale_low": 0.9775212627119343,
        "regime_scale_high": 1.140460166873027,
        "smart_consensus_weight": 0.7408438592232642,
        "smart_performance_weight": 0.5206256536353209,
        "smart_sigma": 0.007540761903123631,
        "smart_weight_xgb": 1.095238766990696,
        "smart_weight_lgbm": 0.79274499058758,
        "smart_weight_cat": 0.6271594112318885,
        "cat_iterations": 369,
        "cat_depth": 3,
        "cat_learning_rate": 0.014221212298767053,
        "cat_l2_leaf_reg": 3.3797131954770645,
        "cat_subsample": 0.5004108029881326,
        "cat_rsm": 0.9491181081534382,
        "cat_border_count": 94,
        "cat_random_strength": 1.4703957760710185,
        "cat_leaf_estimation_iterations": 3,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 75.41666666666667,
        "avg_nrmse": 1.0636320338636052,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ADGYO_h1_c1",
  "symbols": [
    "ADGYO"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.2910770964172315,
    "ml_loss_threshold": 0.0076585988599232645,
    "ml_dir_penalty": 1.0818495215145842,
    "n_seeds": 3,
    "meta_stacking_alpha": 0.5807789821024015,
    "ml_adaptive_k_1d": 2.36181562819835,
    "ml_pattern_weight_scale_1d": 1.6646333215616844,
    "external_min_days": 33,
    "external_smooth_alpha": 0.4279790039001304,
    "regime_scale_low": 0.9797354002051938,
    "regime_scale_high": 1.131871054120744,
    "smart_consensus_weight": 0.7901282525159447,
    "smart_performance_weight": 0.5115412539155766,
    "smart_sigma": 0.005437962057614654,
    "smart_weight_xgb": 1.1251418869370364,
    "smart_weight_lgbm": 0.9071934823315996,
    "smart_weight_cat": 1.252175032409932
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 386,
    "cat_depth": 3,
    "cat_learning_rate": 0.015329798870630755,
    "cat_l2_leaf_reg": 3.286345280740631,
    "cat_subsample": 0.5134037559370983,
    "cat_rsm": 0.9354162226854027,
    "cat_border_count": 98,
    "cat_random_strength": 1.3518625206716888,
    "cat_leaf_estimation_iterations": 2,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ADGYO_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 422,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.02215592206529012,
              "rmse": 0.025557520638694122,
              "mape": 1.6098052195940484,
              "confidence": 0.6070167006651321
            },
            "catboost": {
              "raw_r2": 0.0011138994573161771,
              "rmse": 0.025256237752196483,
              "mape": 1.6401173673473368,
              "confidence": 0.6259050409695925
            }
          },
          "dirhit": 100.0,
          "rmse": 0.02651781978946919,
          "mape": 90.34711422657534,
          "nrmse": 1.0583614823841714,
          "mask_count": 3,
          "mask_pct": 10.344827586206897
        },
        {
          "split_index": 2,
          "train_days": 452,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.02259470211454147,
              "rmse": 0.025561172754575114,
              "mape": 1.5994460623728621,
              "confidence": 0.606661305135952
            },
            "catboost": {
              "raw_r2": 0.018113452439498284,
              "rmse": 0.025045751115299015,
              "mape": 1.5626765304775065,
              "confidence": 0.6397071286329419
            }
          },
          "dirhit": 50.0,
          "rmse": 0.028018124782355644,
          "mape": 110.97696730260857,
          "nrmse": 1.1173182505681143,
          "mask_count": 4,
          "mask_pct": 13.793103448275861
        },
        {
          "split_index": 3,
          "train_days": 482,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.029298198188456432,
              "rmse": 0.02529769101780188,
              "mape": 1.6212333239584957,
              "confidence": 0.6012376929355452
            },
            "catboost": {
              "raw_r2": -0.006066966313371632,
              "rmse": 0.02505923360741209,
              "mape": 1.6496293084208087,
              "confidence": 0.620070967840029
            }
          },
          "dirhit": 66.66666666666666,
          "rmse": 0.03797651798931048,
          "mape": 105.43506246443033,
          "nrmse": 1.008313421991317,
          "mask_count": 3,
          "mask_pct": 10.344827586206897
        },
        {
          "split_index": 4,
          "train_days": 512,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.014031249571551477,
              "rmse": 0.0255960165428423,
              "mape": 1.6368272718259556,
              "confidence": 0.6136042833870308
            },
            "catboost": {
              "raw_r2": -0.005665005579661357,
              "rmse": 0.025474569919015207,
              "mape": 1.6963102447264506,
              "confidence": 0.6203974906812763
            }
          },
          "dirhit": 50.0,
          "rmse": 0.030608368123482343,
          "mape": 118.8220156683759,
          "nrmse": 1.0165776077758593,
          "mask_count": 14,
          "mask_pct": 48.275862068965516
        }
      ],
      "avg_dirhit": 66.66666666666666,
      "avg_nrmse": 1.0501426906798654,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.022020017984959877,
          "rmse": 0.025503100238478352,
          "mape": 1.6168279694378405,
          "confidence": 0.6071299955309151
        },
        "catboost": {
          "raw_r2": 0.001873845000945368,
          "rmse": 0.025208948098480698,
          "mape": 1.6371833627430257,
          "confidence": 0.6265201570309599
        }
      }
    }
  }
}