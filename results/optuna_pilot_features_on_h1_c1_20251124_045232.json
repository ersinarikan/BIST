{
  "best_value": 60.7327525448672,
  "best_dirhit": 95.83333333333334,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "model_choice": "all",
    "ml_adaptive_k_1d": 1.8259756498732127,
    "ml_pattern_weight_scale_1d": 0.6208924801551614,
    "enable_talib_patterns_short": true,
    "external_min_days": 53,
    "external_smooth_alpha": 0.18583719817868904,
    "yolo_min_conf": 0.7337827152743697,
    "fingpt_confidence_threshold": 0.49536664701191435,
    "xgb_n_estimators": 405,
    "xgb_max_depth": 4,
    "xgb_learning_rate": 0.07107777340621375,
    "xgb_subsample": 0.616836650416478,
    "xgb_colsample_bytree": 0.7826978823671097,
    "xgb_reg_alpha": 5.723208499907667e-06,
    "xgb_reg_lambda": 0.009091851741452564,
    "xgb_min_child_weight": 14,
    "xgb_gamma": 0.30776871683047624,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 467,
    "lgb_n_estimators": 174,
    "lgb_max_depth": 3,
    "lgb_learning_rate": 0.013116775420387963,
    "lgb_num_leaves": 41,
    "lgb_subsample": 0.6243240218789444,
    "lgb_colsample_bytree": 0.5434817604756949,
    "lgb_reg_alpha": 0.012498449913635426,
    "lgb_reg_lambda": 2.402588708001269,
    "lgb_min_data_in_leaf": 27,
    "lgb_feature_fraction_bynode": 0.5489285670336946,
    "lgb_bagging_freq": 0,
    "lgb_min_gain_to_split": 0.3294344681408719,
    "cat_iterations": 419,
    "cat_depth": 7,
    "cat_learning_rate": 0.04526162375289825,
    "cat_l2_leaf_reg": 6.415701960526871,
    "cat_subsample": 0.8852594505110294,
    "cat_rsm": 0.8328423677611595,
    "cat_border_count": 16,
    "cat_random_strength": 0.19722710442893343,
    "cat_leaf_estimation_iterations": 10,
    "cat_bootstrap_type": "No"
  },
  "best_trial": {
    "number": 1198,
    "value": 60.7327525448672,
    "state": "1"
  },
  "n_trials": 1399,
  "pruned_count": 0,
  "avg_trial_time": 186.77313474892702,
  "top_k_trials": [
    {
      "number": 1198,
      "value": 60.7327525448672,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.8259756498732127,
        "ml_pattern_weight_scale_1d": 0.6208924801551614,
        "enable_talib_patterns_short": true,
        "external_min_days": 53,
        "external_smooth_alpha": 0.18583719817868904,
        "yolo_min_conf": 0.7337827152743697,
        "fingpt_confidence_threshold": 0.49536664701191435,
        "xgb_n_estimators": 405,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.07107777340621375,
        "xgb_subsample": 0.616836650416478,
        "xgb_colsample_bytree": 0.7826978823671097,
        "xgb_reg_alpha": 5.723208499907667e-06,
        "xgb_reg_lambda": 0.009091851741452564,
        "xgb_min_child_weight": 14,
        "xgb_gamma": 0.30776871683047624,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 467,
        "lgb_n_estimators": 174,
        "lgb_max_depth": 3,
        "lgb_learning_rate": 0.013116775420387963,
        "lgb_num_leaves": 41,
        "lgb_subsample": 0.6243240218789444,
        "lgb_colsample_bytree": 0.5434817604756949,
        "lgb_reg_alpha": 0.012498449913635426,
        "lgb_reg_lambda": 2.402588708001269,
        "lgb_min_data_in_leaf": 27,
        "lgb_feature_fraction_bynode": 0.5489285670336946,
        "lgb_bagging_freq": 0,
        "lgb_min_gain_to_split": 0.3294344681408719,
        "cat_iterations": 419,
        "cat_depth": 7,
        "cat_learning_rate": 0.04526162375289825,
        "cat_l2_leaf_reg": 6.415701960526871,
        "cat_subsample": 0.8852594505110294,
        "cat_rsm": 0.8328423677611595,
        "cat_border_count": 16,
        "cat_random_strength": 0.19722710442893343,
        "cat_leaf_estimation_iterations": 10,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 95.83333333333334,
        "avg_nrmse": 1.0584301314110236,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 1236,
      "value": 60.18040266642922,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_adaptive_k_1d": 2.2222385712866313,
        "ml_pattern_weight_scale_1d": 0.6012192199426064,
        "enable_talib_patterns_short": true,
        "external_min_days": 49,
        "external_smooth_alpha": 0.15655154610601613,
        "fingpt_confidence_threshold": 0.356002459767968,
        "xgb_n_estimators": 482,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.05577424339507831,
        "xgb_subsample": 0.6061383649322969,
        "xgb_colsample_bytree": 0.852977312754028,
        "xgb_reg_alpha": 2.6136681071543807e-06,
        "xgb_reg_lambda": 0.009701945820063009,
        "xgb_min_child_weight": 14,
        "xgb_gamma": 0.30388966066169615,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 452,
        "lgb_n_estimators": 176,
        "lgb_max_depth": 3,
        "lgb_learning_rate": 0.013412949775936897,
        "lgb_num_leaves": 41,
        "lgb_subsample": 0.7781636747047801,
        "lgb_colsample_bytree": 0.548244632002071,
        "lgb_reg_alpha": 0.00616879072838126,
        "lgb_reg_lambda": 3.2163525471659384,
        "lgb_min_data_in_leaf": 25,
        "lgb_feature_fraction_bynode": 0.5382194532076933,
        "lgb_bagging_freq": 1,
        "lgb_min_gain_to_split": 0.1079446622868828,
        "cat_iterations": 410,
        "cat_depth": 7,
        "cat_learning_rate": 0.03812895568991587,
        "cat_l2_leaf_reg": 5.748308590656666,
        "cat_subsample": 0.8952662419229198,
        "cat_rsm": 0.8037321154093539,
        "cat_border_count": 24,
        "cat_random_strength": 0.2553615141074615,
        "cat_leaf_estimation_iterations": 16,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 95.0,
        "avg_nrmse": 1.0532662222617972,
        "model_choice": "all"
      },
      "state": "1"
    },
    {
      "number": 1194,
      "value": 59.323381859121525,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.9115679879629521,
        "ml_pattern_weight_scale_1d": 0.6203303093246021,
        "enable_talib_patterns_short": true,
        "external_min_days": 53,
        "external_smooth_alpha": 0.18080416011024883,
        "yolo_min_conf": 0.68947740564388,
        "fingpt_confidence_threshold": 0.4762567202494943,
        "xgb_n_estimators": 401,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.06575673826506448,
        "xgb_subsample": 0.6200742532820664,
        "xgb_colsample_bytree": 0.8367149211997186,
        "xgb_reg_alpha": 0.002886459111187247,
        "xgb_reg_lambda": 0.010031783243046558,
        "xgb_min_child_weight": 14,
        "xgb_gamma": 0.36543137575723833,
        "xgb_grow_policy": "depthwise",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 479,
        "lgb_n_estimators": 179,
        "lgb_max_depth": 3,
        "lgb_learning_rate": 0.01250109725411566,
        "lgb_num_leaves": 41,
        "lgb_subsample": 0.6249725150720495,
        "lgb_colsample_bytree": 0.5395911145743431,
        "lgb_reg_alpha": 0.01396826829323178,
        "lgb_reg_lambda": 1.757418783586801,
        "lgb_min_data_in_leaf": 26,
        "lgb_feature_fraction_bynode": 0.5223799379318126,
        "lgb_bagging_freq": 0,
        "lgb_min_gain_to_split": 0.43726234263622066,
        "cat_iterations": 430,
        "cat_depth": 7,
        "cat_learning_rate": 0.034459294804676466,
        "cat_l2_leaf_reg": 6.393890488829336,
        "cat_subsample": 0.8946388330864907,
        "cat_rsm": 0.8414091084808483,
        "cat_border_count": 16,
        "cat_random_strength": 0.20059619746354115,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 93.75,
        "avg_nrmse": 1.0502696901464126,
        "model_choice": "all"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AKFGY_h1_c1",
  "symbols": [
    "AKFGY"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": false,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_adaptive_k_1d": 1.8259756498732127,
    "ml_pattern_weight_scale_1d": 0.6208924801551614,
    "external_min_days": 53,
    "external_smooth_alpha": 0.18583719817868904,
    "yolo_min_conf": 0.7337827152743697,
    "fingpt_confidence_threshold": 0.49536664701191435
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 405,
    "xgb_max_depth": 4,
    "xgb_learning_rate": 0.07107777340621375,
    "xgb_subsample": 0.616836650416478,
    "xgb_colsample_bytree": 0.7826978823671097,
    "xgb_reg_alpha": 5.723208499907667e-06,
    "xgb_reg_lambda": 0.009091851741452564,
    "xgb_min_child_weight": 14,
    "xgb_gamma": 0.30776871683047624,
    "xgb_grow_policy": "depthwise",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 467,
    "lgb_n_estimators": 174,
    "lgb_max_depth": 3,
    "lgb_learning_rate": 0.013116775420387963,
    "lgb_num_leaves": 41,
    "lgb_subsample": 0.6243240218789444,
    "lgb_colsample_bytree": 0.5434817604756949,
    "lgb_reg_alpha": 0.012498449913635426,
    "lgb_reg_lambda": 2.402588708001269,
    "lgb_min_data_in_leaf": 27,
    "lgb_feature_fraction_bynode": 0.5489285670336946,
    "lgb_bagging_freq": 0,
    "lgb_min_gain_to_split": 0.3294344681408719,
    "cat_iterations": 419,
    "cat_depth": 7,
    "cat_learning_rate": 0.04526162375289825,
    "cat_l2_leaf_reg": 6.415701960526871,
    "cat_subsample": 0.8852594505110294,
    "cat_rsm": 0.8328423677611595,
    "cat_border_count": 16,
    "cat_random_strength": 0.19722710442893343,
    "cat_leaf_estimation_iterations": 10,
    "cat_bootstrap_type": "No"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AKFGY_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 448,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.009152038001463211,
              "rmse": 0.02429280772283775,
              "mape": 1.8542304410888464,
              "confidence": 0.6175652664364383
            },
            "lightgbm": {
              "raw_r2": -0.008702326669641991,
              "rmse": 0.024272597440550957,
              "mape": 1.925335322093842,
              "confidence": 0.6179304749177951
            },
            "catboost": {
              "raw_r2": 0.01486149939896153,
              "rmse": 0.024085761708632653,
              "mape": 1.7042630527749003,
              "confidence": 0.6370694152282699
            }
          },
          "dirhit": 0.0,
          "rmse": 0.03788739633018053,
          "mape": 1226573.6562871654,
          "nrmse": 1.0848672686393532,
          "mask_count": 0,
          "mask_pct": 0.0
        },
        {
          "split_index": 2,
          "train_days": 478,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.004667117895098401,
              "rmse": 0.02577396681688766,
              "mape": 1.9455427391106872,
              "confidence": 0.6212081387800897
            },
            "lightgbm": {
              "raw_r2": -0.00503231093732559,
              "rmse": 0.025777481773485444,
              "mape": 1.9272191454231922,
              "confidence": 0.6209114630668476
            },
            "catboost": {
              "raw_r2": -0.003770006849862839,
              "rmse": 0.02577971359036291,
              "mape": 1.8164576182737524,
              "confidence": 0.6219369601315275
            }
          },
          "dirhit": 0.0,
          "rmse": 0.013502732997335135,
          "mape": 3643623.00924148,
          "nrmse": 1.0559298395814862,
          "mask_count": 0,
          "mask_pct": 0.0
        },
        {
          "split_index": 3,
          "train_days": 508,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.009065390099924686,
              "rmse": 0.024917220107877242,
              "mape": 1.914261694786156,
              "confidence": 0.6176356313618285
            },
            "lightgbm": {
              "raw_r2": -0.009989574389093573,
              "rmse": 0.024924854838785464,
              "mape": 1.9701168948237218,
              "confidence": 0.6168851578075875
            },
            "catboost": {
              "raw_r2": 0.0032067911064209698,
              "rmse": 0.02478865635913144,
              "mape": 1.76364948874995,
              "confidence": 0.6276054619548479
            }
          },
          "dirhit": 0.0,
          "rmse": 0.018651712448295738,
          "mape": 1152708.215725572,
          "nrmse": 0.9976522792823076,
          "mask_count": 0,
          "mask_pct": 0.0
        },
        {
          "split_index": 4,
          "train_days": 538,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0034757974149918582,
              "rmse": 0.0247294893720067,
              "mape": 1.9524853931315185,
              "confidence": 0.6221759856778584
            },
            "lightgbm": {
              "raw_r2": -0.004236311892580336,
              "rmse": 0.024740528633552188,
              "mape": 1.9762863582452044,
              "confidence": 0.6215581252718345
            },
            "catboost": {
              "raw_r2": 0.013774465423545545,
              "rmse": 0.02451627323651123,
              "mape": 1.699322399316125,
              "confidence": 0.6361873313429525
            }
          },
          "dirhit": 0.0,
          "rmse": 0.024989529623891824,
          "mape": 2100595.167843659,
          "nrmse": 1.0500751924358236,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        }
      ],
      "avg_dirhit": 0.0,
      "avg_nrmse": 1.0471311449847427,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.00659008585286954,
          "rmse": 0.024928371004902337,
          "mape": 1.916630067029302,
          "confidence": 0.6196462555640537
        },
        "lightgbm": {
          "raw_r2": -0.006990130972160372,
          "rmse": 0.02492886567159351,
          "mape": 1.94973943014649,
          "confidence": 0.6193213052660161
        },
        "catboost": {
          "raw_r2": 0.007018187269766302,
          "rmse": 0.02479260122365956,
          "mape": 1.7459231397786819,
          "confidence": 0.6306997921643994
        }
      }
    }
  }
}