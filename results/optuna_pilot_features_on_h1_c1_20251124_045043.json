{
  "best_value": 64.03809969800591,
  "best_dirhit": 100.0,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.2654469802501633,
    "ml_loss_threshold": 0.003618778298315882,
    "ml_dir_penalty": 3.9386596278801114,
    "ml_adaptive_k_1d": 2.252801186651593,
    "ml_pattern_weight_scale_1d": 1.025457741742499,
    "enable_talib_patterns_short": false,
    "external_min_days": 38,
    "external_smooth_alpha": 0.4534375267398381,
    "smart_consensus_weight": 0.47439343016730223,
    "smart_performance_weight": 0.6577647176630447,
    "smart_sigma": 0.002780591985682414,
    "smart_weight_xgb": 0.9651552317802486,
    "smart_weight_lgbm": 1.3446217623046182,
    "smart_weight_cat": 0.7277159067550059,
    "fingpt_confidence_threshold": 0.3138067156578057,
    "cat_iterations": 180,
    "cat_depth": 8,
    "cat_learning_rate": 0.01457290982435101,
    "cat_l2_leaf_reg": 4.152234674789956,
    "cat_subsample": 0.6978259565298652,
    "cat_rsm": 0.6032475221471466,
    "cat_border_count": 133,
    "cat_random_strength": 4.562068239484178,
    "cat_leaf_estimation_iterations": 15,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 591,
    "value": 64.03809969800591,
    "state": "1"
  },
  "n_trials": 1314,
  "pruned_count": 0,
  "avg_trial_time": 198.7912542399086,
  "top_k_trials": [
    {
      "number": 591,
      "value": 64.03809969800591,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": false,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.2654469802501633,
        "ml_loss_threshold": 0.003618778298315882,
        "ml_dir_penalty": 3.9386596278801114,
        "ml_adaptive_k_1d": 2.252801186651593,
        "ml_pattern_weight_scale_1d": 1.025457741742499,
        "enable_talib_patterns_short": false,
        "external_min_days": 38,
        "external_smooth_alpha": 0.4534375267398381,
        "smart_consensus_weight": 0.47439343016730223,
        "smart_performance_weight": 0.6577647176630447,
        "smart_sigma": 0.002780591985682414,
        "smart_weight_xgb": 0.9651552317802486,
        "smart_weight_lgbm": 1.3446217623046182,
        "smart_weight_cat": 0.7277159067550059,
        "fingpt_confidence_threshold": 0.3138067156578057,
        "cat_iterations": 180,
        "cat_depth": 8,
        "cat_learning_rate": 0.01457290982435101,
        "cat_l2_leaf_reg": 4.152234674789956,
        "cat_subsample": 0.6978259565298652,
        "cat_rsm": 0.6032475221471466,
        "cat_border_count": 133,
        "cat_random_strength": 4.562068239484178,
        "cat_leaf_estimation_iterations": 15,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9936500503323481,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 609,
      "value": 64.03571994402135,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.3383823804627931,
        "ml_loss_threshold": 0.007138117623908855,
        "ml_dir_penalty": 3.7799362808938697,
        "meta_stacking_alpha": 3.0167743902127477,
        "ml_adaptive_k_1d": 1.8311215722800585,
        "ml_pattern_weight_scale_1d": 1.037116681238913,
        "enable_talib_patterns_short": false,
        "external_min_days": 21,
        "external_smooth_alpha": 0.47559001426341496,
        "smart_consensus_weight": 0.5116651429779479,
        "smart_performance_weight": 0.3618705327057862,
        "smart_sigma": 0.001953830623841061,
        "smart_weight_xgb": 1.2315416545325608,
        "smart_weight_lgbm": 0.9267573738323166,
        "smart_weight_cat": 1.0529868004894596,
        "fingpt_confidence_threshold": 0.4559969517075997,
        "cat_iterations": 190,
        "cat_depth": 8,
        "cat_learning_rate": 0.013727263309668105,
        "cat_l2_leaf_reg": 4.668435106682505,
        "cat_subsample": 0.700752640454226,
        "cat_rsm": 0.5561374958340422,
        "cat_border_count": 142,
        "cat_random_strength": 3.3574443178218174,
        "cat_leaf_estimation_iterations": 11,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9940466759964415,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 985,
      "value": 64.00579820953446,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.5595840182492778,
        "ml_loss_threshold": 0.007911138574807684,
        "ml_dir_penalty": 2.0538066947545843,
        "meta_stacking_alpha": 0.13037882813452759,
        "ml_adaptive_k_1d": 2.5172935346764005,
        "ml_pattern_weight_scale_1d": 1.0896503930139865,
        "enable_talib_patterns_short": true,
        "external_min_days": 21,
        "external_smooth_alpha": 0.4465777547803494,
        "fingpt_confidence_threshold": 0.32418989507583895,
        "cat_iterations": 204,
        "cat_depth": 8,
        "cat_learning_rate": 0.010820420593336634,
        "cat_l2_leaf_reg": 4.259959628420279,
        "cat_subsample": 0.6886189746879606,
        "cat_rsm": 0.500145144884722,
        "cat_border_count": 147,
        "cat_random_strength": 2.7231993471784977,
        "cat_leaf_estimation_iterations": 12,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.9990336317442564,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ASGYO_h1_c1",
  "symbols": [
    "ASGYO"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": false,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.2654469802501633,
    "ml_loss_threshold": 0.003618778298315882,
    "ml_dir_penalty": 3.9386596278801114,
    "ml_adaptive_k_1d": 2.252801186651593,
    "ml_pattern_weight_scale_1d": 1.025457741742499,
    "external_min_days": 38,
    "external_smooth_alpha": 0.4534375267398381,
    "smart_consensus_weight": 0.47439343016730223,
    "smart_performance_weight": 0.6577647176630447,
    "smart_sigma": 0.002780591985682414,
    "smart_weight_xgb": 0.9651552317802486,
    "smart_weight_lgbm": 1.3446217623046182,
    "smart_weight_cat": 0.7277159067550059,
    "fingpt_confidence_threshold": 0.3138067156578057
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 180,
    "cat_depth": 8,
    "cat_learning_rate": 0.01457290982435101,
    "cat_l2_leaf_reg": 4.152234674789956,
    "cat_subsample": 0.6978259565298652,
    "cat_rsm": 0.6032475221471466,
    "cat_border_count": 133,
    "cat_random_strength": 4.562068239484178,
    "cat_leaf_estimation_iterations": 15,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ASGYO_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 442,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.030408927551207943,
              "rmse": 0.02113178088915824,
              "mape": 1.6242518808559583,
              "confidence": 0.6003402342298865
            },
            "catboost": {
              "raw_r2": 0.01093307188298013,
              "rmse": 0.020595330495800264,
              "mape": 1.6339417390216715,
              "confidence": 0.6338809094454613
            }
          },
          "dirhit": 100.0,
          "rmse": 0.022172722578348184,
          "mape": 97.59057523143441,
          "nrmse": 1.0049169682858496,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        },
        {
          "split_index": 2,
          "train_days": 472,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.037131011647469646,
              "rmse": 0.02125164320146781,
              "mape": 1.6439567360292389,
              "confidence": 0.5949174101654204
            },
            "catboost": {
              "raw_r2": 0.012366252322157267,
              "rmse": 0.020572376619678864,
              "mape": 1.6440990699136033,
              "confidence": 0.6350443801557107
            }
          },
          "dirhit": 100.0,
          "rmse": 0.016636208223106044,
          "mape": 922239.7257845835,
          "nrmse": 0.9587047270933461,
          "mask_count": 3,
          "mask_pct": 10.344827586206897
        },
        {
          "split_index": 3,
          "train_days": 502,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.03480728899390084,
              "rmse": 0.02082963372576093,
              "mape": 1.63196141706213,
              "confidence": 0.5967902448047421
            },
            "catboost": {
              "raw_r2": 0.029792147022225064,
              "rmse": 0.020119323338837314,
              "mape": 1.5984091205631363,
              "confidence": 0.6491614588133592
            }
          },
          "dirhit": 0.0,
          "rmse": 0.032306019014717254,
          "mape": 123.10925515055693,
          "nrmse": 1.0113934557207027,
          "mask_count": 0,
          "mask_pct": 0.0
        },
        {
          "split_index": 4,
          "train_days": 532,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0909457751180105,
              "rmse": 0.022496997772955045,
              "mape": 1.5776947329881177,
              "confidence": 0.5523540653037339
            },
            "catboost": {
              "raw_r2": 0.014774474643655888,
              "rmse": 0.02135895343594214,
              "mape": 1.6586001200954315,
              "confidence": 0.6369988045603079
            }
          },
          "dirhit": 0.0,
          "rmse": 0.016807823104591557,
          "mape": 1292175.9785157237,
          "nrmse": 0.9933111792208227,
          "mask_count": 0,
          "mask_pct": 0.0
        }
      ],
      "avg_dirhit": 50.0,
      "avg_nrmse": 0.9920815825801803,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.048323250827647234,
          "rmse": 0.021427513897335507,
          "mape": 1.619466191733861,
          "confidence": 0.5861004886259457
        },
        "catboost": {
          "raw_r2": 0.016966486467754588,
          "rmse": 0.020661495972564645,
          "mape": 1.6337625123984607,
          "confidence": 0.6387713882437098
        }
      }
    }
  }
}