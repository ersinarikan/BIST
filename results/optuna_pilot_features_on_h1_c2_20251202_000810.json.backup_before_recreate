{
  "best_value": 49.80707105849596,
  "best_dirhit": 80.0,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.23225419565478644,
    "ml_loss_threshold": 0.0031861901283546734,
    "ml_dir_penalty": 4.84505053289241,
    "n_seeds": 3,
    "meta_stacking_alpha": 0.010349165947336649,
    "ml_adaptive_k_1d": 1.3327694792139704,
    "ml_pattern_weight_scale_1d": 1.4457995575567213,
    "enable_talib_patterns_short": true,
    "external_min_days": 24,
    "external_smooth_alpha": 0.3936376270835187,
    "yolo_min_conf": 0.510158278526352,
    "smart_consensus_weight": 0.5679317457978428,
    "smart_performance_weight": 0.25585521792844335,
    "smart_sigma": 0.002614324668224684,
    "smart_weight_xgb": 1.4597408404551717,
    "smart_weight_lgbm": 0.5582052274386272,
    "smart_weight_cat": 1.3139429575885893,
    "fingpt_confidence_threshold": 0.3662315711118022,
    "cat_iterations": 292,
    "cat_depth": 2,
    "cat_learning_rate": 0.02706310760484352,
    "cat_l2_leaf_reg": 5.868462309067568,
    "cat_subsample": 0.8800304401549438,
    "cat_rsm": 0.531991605181242,
    "cat_border_count": 103,
    "cat_random_strength": 0.12784796668450574,
    "cat_leaf_estimation_iterations": 2,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 880,
    "value": 49.80707105849596,
    "state": "1"
  },
  "best_trial_number": 880,
  "best_trial_seed": 922,
  "n_trials": 1376,
  "pruned_count": 0,
  "avg_trial_time": 264.82822746165084,
  "top_k_trials": [
    {
      "number": 880,
      "value": 49.80707105849596,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.23225419565478644,
        "ml_loss_threshold": 0.0031861901283546734,
        "ml_dir_penalty": 4.84505053289241,
        "n_seeds": 3,
        "meta_stacking_alpha": 0.010349165947336649,
        "ml_adaptive_k_1d": 1.3327694792139704,
        "ml_pattern_weight_scale_1d": 1.4457995575567213,
        "enable_talib_patterns_short": true,
        "external_min_days": 24,
        "external_smooth_alpha": 0.3936376270835187,
        "yolo_min_conf": 0.510158278526352,
        "smart_consensus_weight": 0.5679317457978428,
        "smart_performance_weight": 0.25585521792844335,
        "smart_sigma": 0.002614324668224684,
        "smart_weight_xgb": 1.4597408404551717,
        "smart_weight_lgbm": 0.5582052274386272,
        "smart_weight_cat": 1.3139429575885893,
        "fingpt_confidence_threshold": 0.3662315711118022,
        "cat_iterations": 292,
        "cat_depth": 2,
        "cat_learning_rate": 0.02706310760484352,
        "cat_l2_leaf_reg": 5.868462309067568,
        "cat_subsample": 0.8800304401549438,
        "cat_rsm": 0.531991605181242,
        "cat_border_count": 103,
        "cat_random_strength": 0.12784796668450574,
        "cat_leaf_estimation_iterations": 2,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 80.0,
        "avg_nrmse": 1.0321548235840072,
        "model_choice": "cat",
        "symbol_metrics": {
          "CVKMD_1d": {
            "symbol": "CVKMD",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -54.24512202719913,
                    "rmse": 0.2630752064947498,
                    "mape": 1.830550171350748,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.014355693700360606,
                    "rmse": 0.03522388654910351,
                    "mape": 1.6909556550558222,
                    "confidence": 0.6366589958214701
                  }
                },
                "dirhit": null,
                "rmse": 0.030661792697105467,
                "mape": 4390539.738806076,
                "nrmse": 1.0167914244553125,
                "mask_count": 1,
                "mask_pct": 3.4482758620689653,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -57.060810620122254,
                    "rmse": 0.2638089941116832,
                    "mape": 1.837365487407253,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.01755384834527618,
                    "rmse": 0.034375420741067336,
                    "mape": 1.6578949651824975,
                    "confidence": 0.639253352967891
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.028519495784206345,
                "mape": 536346.8739076258,
                "nrmse": 0.9771847528508942,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -56.7952601270548,
                    "rmse": 0.26293963035567897,
                    "mape": 1.8316885621186987,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.0049454151118249285,
                    "rmse": 0.034516921533870384,
                    "mape": 1.7100922833610028,
                    "confidence": 0.6290179450566791
                  }
                },
                "dirhit": null,
                "rmse": 0.036011037833389756,
                "mape": 1257678.8961307937,
                "nrmse": 1.1236648412190744,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -56.73891929787857,
                    "rmse": 0.26214920560586363,
                    "mape": 1.8254649440024102,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.003013622924273799,
                    "rmse": 0.03452720182656123,
                    "mape": 1.7041824666458025,
                    "confidence": 0.6274485222984576
                  }
                },
                "dirhit": null,
                "rmse": 0.02925107185240969,
                "mape": 103573.93397143182,
                "nrmse": 1.0109782758107484,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 80.0,
            "avg_nrmse": 1.0321548235840072,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -56.21002801806369,
                "rmse": 0.2629932591419939,
                "mape": 1.8312672912197776,
                "confidence": 0.3
              },
              "catboost": {
                "raw_r2": 0.009967145020433877,
                "rmse": 0.03466085766265062,
                "mape": 1.6907813425612812,
                "confidence": 0.6330947040361244
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 375,
      "value": 46.31699161208056,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.3650142175488449,
        "ml_loss_threshold": 0.008560542299474951,
        "ml_dir_penalty": 3.549669937845293,
        "n_seeds": 3,
        "meta_stacking_alpha": 0.024749585928967293,
        "ml_adaptive_k_1d": 1.5637981790350792,
        "ml_pattern_weight_scale_1d": 1.4051203840246937,
        "enable_talib_patterns_short": true,
        "external_min_days": 20,
        "external_smooth_alpha": 0.3867076552959183,
        "yolo_min_conf": 0.5545263537146283,
        "smart_consensus_weight": 0.5271071918864906,
        "smart_performance_weight": 0.2969727297372153,
        "smart_sigma": 0.0028870388216472313,
        "smart_weight_xgb": 0.982704098089861,
        "smart_weight_lgbm": 0.9226457884576896,
        "smart_weight_cat": 1.2413283420631753,
        "fingpt_confidence_threshold": 0.277049314235954,
        "cat_iterations": 337,
        "cat_depth": 3,
        "cat_learning_rate": 0.0180514710537109,
        "cat_l2_leaf_reg": 6.3298822421166,
        "cat_subsample": 0.7169282006325144,
        "cat_rsm": 0.7835960198174405,
        "cat_border_count": 123,
        "cat_random_strength": 0.11474696417902852,
        "cat_leaf_estimation_iterations": 3,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 75.0,
        "avg_nrmse": 1.0305013979865736,
        "model_choice": "cat",
        "symbol_metrics": {
          "CVKMD_1d": {
            "symbol": "CVKMD",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.7586523791624732,
                    "rmse": 0.047620640444695266,
                    "mape": 1.4865800485576233,
                    "confidence": 0.31431686660995684
                  },
                  "catboost": {
                    "raw_r2": 0.0179086407668394,
                    "rmse": 0.03515478845649056,
                    "mape": 1.689996568993287,
                    "confidence": 0.639541056089937
                  }
                },
                "dirhit": null,
                "rmse": 0.030416896983582953,
                "mape": 1855010.736464678,
                "nrmse": 1.0086703121689111,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.9263788911785437,
                    "rmse": 0.048028919937430435,
                    "mape": 1.5250722850541019,
                    "confidence": 0.30626756989319615
                  },
                  "catboost": {
                    "raw_r2": 0.02737835174213458,
                    "rmse": 0.0341839894943214,
                    "mape": 1.6540528621470862,
                    "confidence": 0.6472102378264977
                  }
                },
                "dirhit": null,
                "rmse": 0.02942560901463471,
                "mape": 1074533.1754143324,
                "nrmse": 1.0082315862111604,
                "mask_count": 9,
                "mask_pct": 31.03448275862069,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -1.0622248553794733,
                    "rmse": 0.04965706534754522,
                    "mape": 1.5019293163377967,
                    "confidence": 0.3031928816774623
                  },
                  "catboost": {
                    "raw_r2": -0.010370305439135233,
                    "rmse": 0.034791659002402595,
                    "mape": 1.7573205575654758,
                    "confidence": 0.6165760141267426
                  }
                },
                "dirhit": null,
                "rmse": 0.03568273344576494,
                "mape": 1530613.6135211778,
                "nrmse": 1.1134206461114866,
                "mask_count": 9,
                "mask_pct": 31.03448275862069,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -1.085447009032148,
                    "rmse": 0.05058833536554495,
                    "mape": 1.5193413081549254,
                    "confidence": 0.302844398770902
                  },
                  "catboost": {
                    "raw_r2": -0.00033603216673809094,
                    "rmse": 0.03458134431269519,
                    "mape": 1.7286529220279634,
                    "confidence": 0.6247269739287533
                  }
                },
                "dirhit": 75.0,
                "rmse": 0.028692794662330857,
                "mape": 633767.8951091676,
                "nrmse": 0.991683047454736,
                "mask_count": 12,
                "mask_pct": 41.37931034482759,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 75.0,
            "avg_nrmse": 1.0305013979865736,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.9581757836881595,
                "rmse": 0.04897374027380397,
                "mape": 1.5082307395261119,
                "confidence": 0.3066554292378793
              },
              "catboost": {
                "raw_r2": 0.008645163725775167,
                "rmse": 0.034677945316477436,
                "mape": 1.707505727683453,
                "confidence": 0.6320135704929826
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 697,
      "value": 46.262139248901015,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "n_seeds": 3,
        "meta_stacking_alpha": 0.021443795091990632,
        "ml_adaptive_k_1d": 1.4833464812572668,
        "ml_pattern_weight_scale_1d": 1.0607798439484482,
        "enable_talib_patterns_short": true,
        "external_min_days": 20,
        "external_smooth_alpha": 0.34648550541017614,
        "yolo_min_conf": 0.5329298399594737,
        "smart_consensus_weight": 0.6585434676663533,
        "smart_performance_weight": 0.2878530906150955,
        "smart_sigma": 0.002463176329881246,
        "smart_weight_xgb": 1.4190212971870695,
        "smart_weight_lgbm": 0.9670032968632322,
        "smart_weight_cat": 0.8874373499893158,
        "fingpt_confidence_threshold": 0.2796878594490682,
        "cat_iterations": 291,
        "cat_depth": 2,
        "cat_learning_rate": 0.03281870170598964,
        "cat_l2_leaf_reg": 5.920893954352656,
        "cat_subsample": 0.9494741918881596,
        "cat_rsm": 0.6365182525469055,
        "cat_border_count": 76,
        "cat_random_strength": 0.12333750358737201,
        "cat_leaf_estimation_iterations": 11,
        "cat_bootstrap_type": "No"
      },
      "attrs": {
        "avg_dirhit": 75.0,
        "avg_nrmse": 1.0396434585164978,
        "model_choice": "cat",
        "symbol_metrics": {
          "CVKMD_1d": {
            "symbol": "CVKMD",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.004409451513635883,
                    "rmse": 0.035402212225526905,
                    "mape": 1.6720997009920666,
                    "confidence": 0.628582534239017
                  },
                  "catboost": {
                    "raw_r2": 0.01882537098381602,
                    "rmse": 0.03514490557228071,
                    "mape": 1.6716539158703794,
                    "confidence": 0.6402843308316075
                  }
                },
                "dirhit": null,
                "rmse": 0.03209964228902563,
                "mape": 2269250.923415599,
                "nrmse": 1.0644726917955292,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.0040861712584543035,
                    "rmse": 0.034574524732366566,
                    "mape": 1.6980978640843596,
                    "confidence": 0.6283198986656532
                  },
                  "catboost": {
                    "raw_r2": 0.035943880775304714,
                    "rmse": 0.03401902337575996,
                    "mape": 1.6710481909296369,
                    "confidence": 0.6541260499528397
                  }
                },
                "dirhit": 75.0,
                "rmse": 0.02791037746745532,
                "mape": 311329.62130889157,
                "nrmse": 0.9563140777058965,
                "mask_count": 12,
                "mask_pct": 41.37931034482759,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.022237174434247182,
                    "rmse": 0.034997777981493894,
                    "mape": 1.618602891865936,
                    "confidence": 0.606950885986312
                  },
                  "catboost": {
                    "raw_r2": 0.0020578506431939334,
                    "rmse": 0.0345610892460662,
                    "mape": 1.7167770742054316,
                    "confidence": 0.6266719888966757
                  }
                },
                "dirhit": null,
                "rmse": 0.03670706883031218,
                "mape": 1706808.8479518075,
                "nrmse": 1.145383336622037,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.003421322632803555,
                    "rmse": 0.0345449627889871,
                    "mape": 1.6263672313308632,
                    "confidence": 0.6277797568513568
                  },
                  "catboost": {
                    "raw_r2": -0.0038254348778962908,
                    "rmse": 0.034650358726371476,
                    "mape": 1.632681583126858,
                    "confidence": 0.6218919289181377
                  }
                },
                "dirhit": null,
                "rmse": 0.0287136464226856,
                "mape": 656899.7232081685,
                "nrmse": 0.9924037279425288,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 75.0,
            "avg_nrmse": 1.0396434585164978,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.00258005725733836,
                "rmse": 0.03487986943209362,
                "mape": 1.6537919220683064,
                "confidence": 0.6229082689355847
              },
              "catboost": {
                "raw_r2": 0.013250416881104593,
                "rmse": 0.03459384423011959,
                "mape": 1.6730401910330763,
                "confidence": 0.6357435746498151
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_CVKMD_h1_c2",
  "symbols": [
    "CVKMD"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.23225419565478644,
    "ml_loss_threshold": 0.0031861901283546734,
    "ml_dir_penalty": 4.84505053289241,
    "n_seeds": 3,
    "meta_stacking_alpha": 0.010349165947336649,
    "ml_adaptive_k_1d": 1.3327694792139704,
    "ml_pattern_weight_scale_1d": 1.4457995575567213,
    "external_min_days": 24,
    "external_smooth_alpha": 0.3936376270835187,
    "yolo_min_conf": 0.510158278526352,
    "smart_consensus_weight": 0.5679317457978428,
    "smart_performance_weight": 0.25585521792844335,
    "smart_sigma": 0.002614324668224684,
    "smart_weight_xgb": 1.4597408404551717,
    "smart_weight_lgbm": 0.5582052274386272,
    "smart_weight_cat": 1.3139429575885893,
    "fingpt_confidence_threshold": 0.3662315711118022
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 292,
    "cat_depth": 2,
    "cat_learning_rate": 0.02706310760484352,
    "cat_l2_leaf_reg": 5.868462309067568,
    "cat_subsample": 0.8800304401549438,
    "cat_rsm": 0.531991605181242,
    "cat_border_count": 103,
    "cat_random_strength": 0.12784796668450574,
    "cat_leaf_estimation_iterations": 2,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "CVKMD_1d": {
      "symbol": "CVKMD",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 453,
          "test_days": 30,
          "train_end_idx": 453,
          "test_end_idx": 483,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-12T00:00:00",
          "test_start": "2025-06-13T00:00:00",
          "test_end": "2025-07-25T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -54.24512202719913,
              "rmse": 0.2630752064947498,
              "mape": 1.830550171350748,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": 0.014355693700360606,
              "rmse": 0.03522388654910351,
              "mape": 1.6909556550558222,
              "confidence": 0.6366589958214701
            }
          },
          "dirhit": null,
          "rmse": 0.030661792697105467,
          "mape": 4390539.738806076,
          "nrmse": 1.0167914244553125,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 2,
          "train_days": 483,
          "test_days": 30,
          "train_end_idx": 483,
          "test_end_idx": 513,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-25T00:00:00",
          "test_start": "2025-07-28T00:00:00",
          "test_end": "2025-09-05T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -57.060810620122254,
              "rmse": 0.2638089941116832,
              "mape": 1.837365487407253,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": 0.01755384834527618,
              "rmse": 0.034375420741067336,
              "mape": 1.6578949651824975,
              "confidence": 0.639253352967891
            }
          },
          "dirhit": 80.0,
          "rmse": 0.028519495784206345,
          "mape": 536346.8739076258,
          "nrmse": 0.9771847528508942,
          "mask_count": 10,
          "mask_pct": 34.48275862068966,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 3,
          "train_days": 513,
          "test_days": 30,
          "train_end_idx": 513,
          "test_end_idx": 543,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-05T00:00:00",
          "test_start": "2025-09-08T00:00:00",
          "test_end": "2025-10-17T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -56.7952601270548,
              "rmse": 0.26293963035567897,
              "mape": 1.8316885621186987,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": 0.0049454151118249285,
              "rmse": 0.034516921533870384,
              "mape": 1.7100922833610028,
              "confidence": 0.6290179450566791
            }
          },
          "dirhit": null,
          "rmse": 0.036011037833389756,
          "mape": 1257678.8961307937,
          "nrmse": 1.1236648412190744,
          "mask_count": 7,
          "mask_pct": 24.137931034482758,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 4,
          "train_days": 543,
          "test_days": 30,
          "train_end_idx": 543,
          "test_end_idx": 573,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-17T00:00:00",
          "test_start": "2025-10-20T00:00:00",
          "test_end": "2025-11-28T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -56.73891929787857,
              "rmse": 0.26214920560586363,
              "mape": 1.8254649440024102,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": 0.003013622924273799,
              "rmse": 0.03452720182656123,
              "mape": 1.7041824666458025,
              "confidence": 0.6274485222984576
            }
          },
          "dirhit": null,
          "rmse": 0.02925107185240969,
          "mape": 103573.93397143182,
          "nrmse": 1.0109782758107484,
          "mask_count": 6,
          "mask_pct": 20.689655172413794,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        }
      ],
      "avg_dirhit": 80.0,
      "avg_nrmse": 1.0321548235840072,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -56.21002801806369,
          "rmse": 0.2629932591419939,
          "mape": 1.8312672912197776,
          "confidence": 0.3
        },
        "catboost": {
          "raw_r2": 0.009967145020433877,
          "rmse": 0.03466085766265062,
          "mape": 1.6907813425612812,
          "confidence": 0.6330947040361244
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 10,
    "min_mask_pct": 5.0,
    "best_trial_number": 880,
    "best_trial_seed": 922,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "CVKMD_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 453,
            "test_end_idx": 483,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-12T00:00:00",
            "test_start": "2025-06-13T00:00:00",
            "test_end": "2025-07-25T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 483,
            "test_end_idx": 513,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-25T00:00:00",
            "test_start": "2025-07-28T00:00:00",
            "test_end": "2025-09-05T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 513,
            "test_end_idx": 543,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-05T00:00:00",
            "test_start": "2025-09-08T00:00:00",
            "test_end": "2025-10-17T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 543,
            "test_end_idx": 573,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-17T00:00:00",
            "test_start": "2025-10-20T00:00:00",
            "test_end": "2025-11-28T00:00:00"
          }
        ]
      }
    }
  }
}