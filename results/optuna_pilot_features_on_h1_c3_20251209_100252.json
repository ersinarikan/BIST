{
  "best_value": 57.63035107843164,
  "best_dirhit": 90.625,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "model_choice": "all",
    "n_seeds": 2,
    "ml_adaptive_k_1d": 1.8453499073136677,
    "ml_pattern_weight_scale_1d": 1.3642207391075951,
    "enable_talib_patterns_short": true,
    "external_min_days": 50,
    "external_smooth_alpha": 0.29874633774956905,
    "regime_scale_low": 0.8881939245592773,
    "regime_scale_high": 1.1940773887883611,
    "yolo_min_conf": 0.6771279617369362,
    "fingpt_confidence_threshold": 0.3622134194018505,
    "xgb_n_estimators": 284,
    "xgb_max_depth": 4,
    "xgb_learning_rate": 0.012552628482303409,
    "xgb_subsample": 0.8986597307280297,
    "xgb_colsample_bytree": 0.5413482649198054,
    "xgb_reg_alpha": 1.5327770808334155e-06,
    "xgb_reg_lambda": 0.01728339908210673,
    "xgb_min_child_weight": 12,
    "xgb_gamma": 0.7017246169054389,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 457,
    "lgb_n_estimators": 142,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.06384551205137312,
    "lgb_num_leaves": 16,
    "lgb_subsample": 0.5260085681988844,
    "lgb_colsample_bytree": 0.8743603225389627,
    "lgb_reg_alpha": 0.0014042959726903318,
    "lgb_reg_lambda": 0.09797907272614753,
    "lgb_min_data_in_leaf": 71,
    "lgb_feature_fraction_bynode": 0.6752763700243722,
    "lgb_bagging_freq": 8,
    "lgb_min_gain_to_split": 0.2747106099647751,
    "cat_iterations": 230,
    "cat_depth": 7,
    "cat_learning_rate": 0.01825078599865841,
    "cat_l2_leaf_reg": 9.009628221011369,
    "cat_subsample": 0.9375654326462969,
    "cat_rsm": 0.6075256580057911,
    "cat_border_count": 206,
    "cat_random_strength": 1.4530229155770926,
    "cat_leaf_estimation_iterations": 11,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 388,
    "value": 57.63035107843164,
    "state": "1"
  },
  "best_trial_number": 388,
  "best_trial_seed": 430,
  "n_trials": 1499,
  "pruned_count": 0,
  "avg_trial_time": 283.3336057880617,
  "top_k_trials": [
    {
      "number": 388,
      "value": 57.63035107843164,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "n_seeds": 2,
        "ml_adaptive_k_1d": 1.8453499073136677,
        "ml_pattern_weight_scale_1d": 1.3642207391075951,
        "enable_talib_patterns_short": true,
        "external_min_days": 50,
        "external_smooth_alpha": 0.29874633774956905,
        "regime_scale_low": 0.8881939245592773,
        "regime_scale_high": 1.1940773887883611,
        "yolo_min_conf": 0.6771279617369362,
        "fingpt_confidence_threshold": 0.3622134194018505,
        "xgb_n_estimators": 284,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.012552628482303409,
        "xgb_subsample": 0.8986597307280297,
        "xgb_colsample_bytree": 0.5413482649198054,
        "xgb_reg_alpha": 1.5327770808334155e-06,
        "xgb_reg_lambda": 0.01728339908210673,
        "xgb_min_child_weight": 12,
        "xgb_gamma": 0.7017246169054389,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 457,
        "lgb_n_estimators": 142,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.06384551205137312,
        "lgb_num_leaves": 16,
        "lgb_subsample": 0.5260085681988844,
        "lgb_colsample_bytree": 0.8743603225389627,
        "lgb_reg_alpha": 0.0014042959726903318,
        "lgb_reg_lambda": 0.09797907272614753,
        "lgb_min_data_in_leaf": 71,
        "lgb_feature_fraction_bynode": 0.6752763700243722,
        "lgb_bagging_freq": 8,
        "lgb_min_gain_to_split": 0.2747106099647751,
        "cat_iterations": 230,
        "cat_depth": 7,
        "cat_learning_rate": 0.01825078599865841,
        "cat_l2_leaf_reg": 9.009628221011369,
        "cat_subsample": 0.9375654326462969,
        "cat_rsm": 0.6075256580057911,
        "cat_border_count": 206,
        "cat_random_strength": 1.4530229155770926,
        "cat_leaf_estimation_iterations": 11,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 90.625,
        "avg_nrmse": 0.9678581535947255,
        "model_choice": "all",
        "symbol_metrics": {
          "AKSUE_1d": {
            "symbol": "AKSUE",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 456,
                "test_days": 30,
                "train_end_idx": 456,
                "test_end_idx": 486,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-18T00:00:00",
                "test_start": "2025-06-19T00:00:00",
                "test_end": "2025-07-31T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.010926918735102728,
                    "rmse": 0.031592492768558335,
                    "mape": 1.7421576099566425,
                    "confidence": 0.6161240862561951
                  },
                  "lightgbm": {
                    "raw_r2": -0.010070696106586693,
                    "rmse": 0.031586942029393224,
                    "mape": 1.7283002061045103,
                    "confidence": 0.6168192878382619
                  },
                  "catboost": {
                    "raw_r2": -0.005538775753700838,
                    "rmse": 0.031519175544365965,
                    "mape": 1.7380927109003803,
                    "confidence": 0.6205000323009728
                  }
                },
                "dirhit": 81.25,
                "rmse": 0.03980134045643642,
                "mape": 973416.9179619565,
                "nrmse": 1.0021619635461327,
                "mask_count": 16,
                "mask_pct": 55.172413793103445,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 486,
                "test_days": 30,
                "train_end_idx": 486,
                "test_end_idx": 516,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-31T00:00:00",
                "test_start": "2025-08-01T00:00:00",
                "test_end": "2025-09-11T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.005094341919410124,
                    "rmse": 0.03161232404878292,
                    "mape": 1.9169572410945495,
                    "confidence": 0.6208610709689115
                  },
                  "lightgbm": {
                    "raw_r2": -0.005558149871609297,
                    "rmse": 0.031624236273616345,
                    "mape": 1.8876027342263502,
                    "confidence": 0.6204842938585875
                  },
                  "catboost": {
                    "raw_r2": 7.452962792893943e-05,
                    "rmse": 0.03153666223347594,
                    "mape": 1.8586258153885655,
                    "confidence": 0.6250605553219915
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.031904241702156375,
                "mape": 8132364.899624369,
                "nrmse": 0.9556717295653367,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 516,
                "test_days": 30,
                "train_end_idx": 516,
                "test_end_idx": 546,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-11T00:00:00",
                "test_start": "2025-09-12T00:00:00",
                "test_end": "2025-10-23T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.006111993131561484,
                    "rmse": 0.03189165370555793,
                    "mape": 1.8524071787501475,
                    "confidence": 0.6200343920277908
                  },
                  "lightgbm": {
                    "raw_r2": -0.006609871363482493,
                    "rmse": 0.03190418741454709,
                    "mape": 1.818807201002035,
                    "confidence": 0.6196299682975019
                  },
                  "catboost": {
                    "raw_r2": 0.0013640164972125908,
                    "rmse": 0.03179597166812233,
                    "mape": 1.7645182622771332,
                    "confidence": 0.6261082591082354
                  }
                },
                "dirhit": null,
                "rmse": 0.022150276708402014,
                "mape": 127.09328607355505,
                "nrmse": 0.9854335902623736,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 546,
                "test_days": 30,
                "train_end_idx": 546,
                "test_end_idx": 576,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-23T00:00:00",
                "test_start": "2025-10-24T00:00:00",
                "test_end": "2025-12-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.014015940334072866,
                    "rmse": 0.031532963994791476,
                    "mape": 1.8832437409614067,
                    "confidence": 0.6136167068661202
                  },
                  "lightgbm": {
                    "raw_r2": -0.014330583020081352,
                    "rmse": 0.03153757210656525,
                    "mape": 1.8707337717375419,
                    "confidence": 0.6133613803955826
                  },
                  "catboost": {
                    "raw_r2": -0.005589822970773113,
                    "rmse": 0.03139101577612087,
                    "mape": 1.7691189569769887,
                    "confidence": 0.6204585644620723
                  }
                },
                "dirhit": null,
                "rmse": 0.017458708790279047,
                "mape": 1283560.9341292398,
                "nrmse": 0.9281653310050587,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 90.625,
            "avg_nrmse": 0.9678581535947255,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.0090372985300368,
                "rmse": 0.03165735862942266,
                "mape": 1.8486914426906864,
                "confidence": 0.6176590640297543
              },
              "lightgbm": {
                "raw_r2": -0.009142325090439959,
                "rmse": 0.031663234456030476,
                "mape": 1.8263609782676093,
                "confidence": 0.6175737325974835
              },
              "catboost": {
                "raw_r2": -0.0024225131498331054,
                "rmse": 0.031560706305521276,
                "mape": 1.782588936385767,
                "confidence": 0.623031852798318
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1299,
      "value": 56.818650701972565,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.5618122486673125,
        "ml_pattern_weight_scale_1d": 1.3964750157075057,
        "enable_talib_patterns_short": false,
        "external_min_days": 42,
        "external_smooth_alpha": 0.4026718567637338,
        "regime_scale_low": 0.9011999451719513,
        "regime_scale_high": 1.1084450029793755,
        "yolo_min_conf": 0.48704938127898334,
        "smart_consensus_weight": 0.6084116263767392,
        "smart_performance_weight": 0.4810177647296408,
        "smart_sigma": 0.014782806577645339,
        "smart_weight_xgb": 1.3248321475424996,
        "smart_weight_lgbm": 1.0700508702475706,
        "smart_weight_cat": 0.7913413897647156,
        "fingpt_confidence_threshold": 0.30669280407766647,
        "xgb_n_estimators": 215,
        "xgb_max_depth": 5,
        "xgb_learning_rate": 0.010196390756296391,
        "xgb_subsample": 0.6911441416478915,
        "xgb_colsample_bytree": 0.5702075801388222,
        "xgb_reg_alpha": 0.0018307519153326055,
        "xgb_reg_lambda": 0.00860195168490549,
        "xgb_min_child_weight": 5,
        "xgb_gamma": 0.25816916405378576,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 270,
        "lgb_n_estimators": 197,
        "lgb_max_depth": 5,
        "lgb_learning_rate": 0.06579111475207534,
        "lgb_num_leaves": 9,
        "lgb_subsample": 0.5417853921745239,
        "lgb_colsample_bytree": 0.5039279609191298,
        "lgb_reg_alpha": 0.17924774914167785,
        "lgb_reg_lambda": 0.07894369553874647,
        "lgb_min_data_in_leaf": 50,
        "lgb_feature_fraction_bynode": 0.5982812006116603,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.5665853927495053,
        "cat_iterations": 338,
        "cat_depth": 7,
        "cat_learning_rate": 0.022876789328628248,
        "cat_l2_leaf_reg": 9.573476563396898,
        "cat_subsample": 0.7612029550083598,
        "cat_rsm": 0.7360369573734195,
        "cat_border_count": 144,
        "cat_random_strength": 0.11765219787767987,
        "cat_leaf_estimation_iterations": 6,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 90.0,
        "avg_nrmse": 1.0302248830045715,
        "model_choice": "all",
        "symbol_metrics": {
          "AKSUE_1d": {
            "symbol": "AKSUE",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 458,
                "test_days": 30,
                "train_end_idx": 458,
                "test_end_idx": 488,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-20T00:00:00",
                "test_start": "2025-06-23T00:00:00",
                "test_end": "2025-08-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.0063039480439088065,
                    "rmse": 0.031095174961621078,
                    "mape": 1.7603916278990401,
                    "confidence": 0.6198784662250696
                  },
                  "lightgbm": {
                    "raw_r2": -0.005540161338495701,
                    "rmse": 0.03109070405183745,
                    "mape": 1.7446090984302154,
                    "confidence": 0.6204989067292094
                  },
                  "catboost": {
                    "raw_r2": -0.0037873459778231164,
                    "rmse": 0.031062026877119377,
                    "mape": 1.749244816293075,
                    "confidence": 0.6219228733472038
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.040429497225499454,
                "mape": 737383.5387940133,
                "nrmse": 1.0043858103242689,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.0063039480439088065,
                    "lightgbm": -0.005540161338495701,
                    "catboost": -0.0037873459778231164
                  },
                  "ensemble_weights": {
                    "xgboost": 0.21395735611947606,
                    "lightgbm": 0.17287677152429637,
                    "catboost": 0.6131658723562275
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 2,
                "train_days": 488,
                "test_days": 30,
                "train_end_idx": 488,
                "test_end_idx": 518,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-04T00:00:00",
                "test_start": "2025-08-05T00:00:00",
                "test_end": "2025-09-15T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.005152853031521761,
                    "rmse": 0.03161345221091682,
                    "mape": 1.9193373316478808,
                    "confidence": 0.620813538489501
                  },
                  "lightgbm": {
                    "raw_r2": -0.005558149871609297,
                    "rmse": 0.031624236273616345,
                    "mape": 1.8876027342263502,
                    "confidence": 0.6204842938585875
                  },
                  "catboost": {
                    "raw_r2": -0.003244974124553305,
                    "rmse": 0.03160383313064795,
                    "mape": 1.8701250298056018,
                    "confidence": 0.6223635163606214
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.03377281290118737,
                "mape": 3532750.244414067,
                "nrmse": 0.9644863068963432,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.005152853031521761,
                    "lightgbm": -0.005558149871609297,
                    "catboost": -0.003244974124553305
                  },
                  "ensemble_weights": {
                    "xgboost": 0.21791090920770897,
                    "lightgbm": 0.34388790560871046,
                    "catboost": 0.4382011851835806
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 3,
                "train_days": 518,
                "test_days": 30,
                "train_end_idx": 518,
                "test_end_idx": 548,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-15T00:00:00",
                "test_start": "2025-09-16T00:00:00",
                "test_end": "2025-10-27T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.005407323666668813,
                    "rmse": 0.031764596727866974,
                    "mape": 1.8632665223208336,
                    "confidence": 0.6206068171278414
                  },
                  "lightgbm": {
                    "raw_r2": -0.005769540730846605,
                    "rmse": 0.03177495918686997,
                    "mape": 1.8344892542907547,
                    "confidence": 0.6203125732208219
                  },
                  "catboost": {
                    "raw_r2": -0.002139325491780123,
                    "rmse": 0.03170707378406619,
                    "mape": 1.8284666984738693,
                    "confidence": 0.6232618146111817
                  }
                },
                "dirhit": null,
                "rmse": 0.017509205135043854,
                "mape": 109.35234042734461,
                "nrmse": 1.133341198245603,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.005407323666668813,
                    "lightgbm": -0.005769540730846605,
                    "catboost": -0.002139325491780123
                  },
                  "ensemble_weights": {
                    "xgboost": 0.773326078961318,
                    "lightgbm": 0.13020753770111831,
                    "catboost": 0.09646638333756363
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 4,
                "train_days": 548,
                "test_days": 30,
                "train_end_idx": 548,
                "test_end_idx": 578,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-27T00:00:00",
                "test_start": "2025-10-28T00:00:00",
                "test_end": "2025-12-08T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.014067899128829294,
                    "rmse": 0.03153366677128149,
                    "mape": 1.8847166273577092,
                    "confidence": 0.6135745423281272
                  },
                  "lightgbm": {
                    "raw_r2": -0.014330583020081352,
                    "rmse": 0.03153757210656525,
                    "mape": 1.8707337717375419,
                    "confidence": 0.6133613803955826
                  },
                  "catboost": {
                    "raw_r2": -0.008528546785939839,
                    "rmse": 0.03143106312700947,
                    "mape": 1.8029482961193897,
                    "confidence": 0.6180716055888982
                  }
                },
                "dirhit": null,
                "rmse": 0.02033516032282846,
                "mape": 550855.6339652104,
                "nrmse": 1.018686216552071,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.014067899128829294,
                    "lightgbm": -0.014330583020081352,
                    "catboost": -0.008528546785939839
                  },
                  "ensemble_weights": {
                    "xgboost": 0.21766635080159732,
                    "lightgbm": 0.17245534387382935,
                    "catboost": 0.6098783053245733
                  },
                  "source": "model"
                }
              }
            ],
            "avg_dirhit": 90.0,
            "avg_nrmse": 1.0302248830045715,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.007733005967732168,
                "rmse": 0.03150172266792159,
                "mape": 1.8569280273063657,
                "confidence": 0.6187183410426348
              },
              "lightgbm": {
                "raw_r2": -0.00779960874025824,
                "rmse": 0.031506867904722256,
                "mape": 1.8343587146712157,
                "confidence": 0.6186642885510504
              },
              "catboost": {
                "raw_r2": -0.004425048095024095,
                "rmse": 0.031450999229710744,
                "mape": 1.8126962101729838,
                "confidence": 0.6214049524769762
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 115,
      "value": 56.60664453204092,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "all",
        "ml_adaptive_k_1d": 1.6888043426195682,
        "ml_pattern_weight_scale_1d": 1.2429185587736957,
        "enable_talib_patterns_short": true,
        "external_min_days": 47,
        "external_smooth_alpha": 0.08595062695275293,
        "regime_scale_low": 0.8368367559841329,
        "regime_scale_high": 1.1066663730229238,
        "yolo_min_conf": 0.5068788448707146,
        "smart_consensus_weight": 0.6668174214391791,
        "smart_performance_weight": 0.4601855878656635,
        "smart_sigma": 0.00259445832523353,
        "smart_weight_xgb": 1.3475803717583332,
        "smart_weight_lgbm": 1.3206695766236691,
        "smart_weight_cat": 0.836028819580313,
        "fingpt_confidence_threshold": 0.2642388660430371,
        "xgb_n_estimators": 206,
        "xgb_max_depth": 4,
        "xgb_learning_rate": 0.011150718985942049,
        "xgb_subsample": 0.8548163601873487,
        "xgb_colsample_bytree": 0.5595594590609678,
        "xgb_reg_alpha": 0.002909101089253773,
        "xgb_reg_lambda": 0.0034219107185203042,
        "xgb_min_child_weight": 5,
        "xgb_gamma": 0.09444867851157994,
        "xgb_grow_policy": "lossguide",
        "xgb_tree_method": "hist",
        "xgb_max_bin": 358,
        "lgb_n_estimators": 135,
        "lgb_max_depth": 7,
        "lgb_learning_rate": 0.08958718633049192,
        "lgb_num_leaves": 14,
        "lgb_subsample": 0.519419498703289,
        "lgb_colsample_bytree": 0.7926304758354447,
        "lgb_reg_alpha": 0.26746364170155584,
        "lgb_reg_lambda": 0.00021058244936136467,
        "lgb_min_data_in_leaf": 53,
        "lgb_feature_fraction_bynode": 0.6659374971233218,
        "lgb_bagging_freq": 8,
        "lgb_min_gain_to_split": 0.1688785266405311,
        "cat_iterations": 219,
        "cat_depth": 4,
        "cat_learning_rate": 0.019503533220866304,
        "cat_l2_leaf_reg": 9.16197030185757,
        "cat_subsample": 0.7409517947321344,
        "cat_rsm": 0.6603739569858242,
        "cat_border_count": 93,
        "cat_random_strength": 0.10359871468291701,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 89.28571428571428,
        "avg_nrmse": 0.9822259113265122,
        "model_choice": "all",
        "symbol_metrics": {
          "AKSUE_1d": {
            "symbol": "AKSUE",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 455,
                "test_days": 30,
                "train_end_idx": 455,
                "test_end_idx": 485,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-17T00:00:00",
                "test_start": "2025-06-18T00:00:00",
                "test_end": "2025-07-30T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.010260386757347343,
                    "rmse": 0.03157744337479511,
                    "mape": 1.7335288715174424,
                    "confidence": 0.616665263687467
                  },
                  "lightgbm": {
                    "raw_r2": -0.010070696106586693,
                    "rmse": 0.031586942029393224,
                    "mape": 1.7283002061045103,
                    "confidence": 0.6168192878382619
                  },
                  "catboost": {
                    "raw_r2": -0.007626476644297793,
                    "rmse": 0.03155963879785855,
                    "mape": 1.7592320111817654,
                    "confidence": 0.6188042384686946
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.0404403068968129,
                "mape": 742874.6295682971,
                "nrmse": 0.9928484451215213,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.010260386757347343,
                    "lightgbm": -0.010070696106586693,
                    "catboost": -0.007626476644297793
                  },
                  "ensemble_weights": {
                    "xgboost": 0.14569644492041972,
                    "lightgbm": 0.7637954498233903,
                    "catboost": 0.09050810525619003
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 2,
                "train_days": 485,
                "test_days": 30,
                "train_end_idx": 485,
                "test_end_idx": 515,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-30T00:00:00",
                "test_start": "2025-07-31T00:00:00",
                "test_end": "2025-09-10T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.00455474042242295,
                    "rmse": 0.03159851673447477,
                    "mape": 1.903927501665582,
                    "confidence": 0.6212994333443547
                  },
                  "lightgbm": {
                    "raw_r2": -0.005558149871609297,
                    "rmse": 0.031624236273616345,
                    "mape": 1.8876027342263502,
                    "confidence": 0.6204842938585875
                  },
                  "catboost": {
                    "raw_r2": 0.0002816791070877252,
                    "rmse": 0.03155710793029331,
                    "mape": 1.824903011844533,
                    "confidence": 0.6252288642366779
                  }
                },
                "dirhit": 78.57142857142857,
                "rmse": 0.03127311687467603,
                "mape": 3945842.1096512973,
                "nrmse": 0.9382239743502504,
                "mask_count": 14,
                "mask_pct": 48.275862068965516,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.00455474042242295,
                    "lightgbm": -0.005558149871609297,
                    "catboost": 0.0002816791070877252
                  },
                  "ensemble_weights": {
                    "xgboost": 0.7696200450346944,
                    "lightgbm": 0.14091506862589323,
                    "catboost": 0.08946488633941246
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 3,
                "train_days": 515,
                "test_days": 30,
                "train_end_idx": 515,
                "test_end_idx": 545,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-10T00:00:00",
                "test_start": "2025-09-11T00:00:00",
                "test_end": "2025-10-22T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.005798800182056659,
                    "rmse": 0.031880345866938165,
                    "mape": 1.8484102530782842,
                    "confidence": 0.6202888048871227
                  },
                  "lightgbm": {
                    "raw_r2": -0.006609871363482493,
                    "rmse": 0.03190418741454709,
                    "mape": 1.818807201002035,
                    "confidence": 0.6196299682975019
                  },
                  "catboost": {
                    "raw_r2": -0.003201797490529882,
                    "rmse": 0.031842282866689324,
                    "mape": 1.7619906066797284,
                    "confidence": 0.6223985950977092
                  }
                },
                "dirhit": null,
                "rmse": 0.02309641023534561,
                "mape": 96.82815250873362,
                "nrmse": 1.0302297241127758,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.005798800182056659,
                    "lightgbm": -0.006609871363482493,
                    "catboost": -0.003201797490529882
                  },
                  "ensemble_weights": {
                    "xgboost": 0.18873209196176213,
                    "lightgbm": 0.18488817205063132,
                    "catboost": 0.6263797359876065
                  },
                  "source": "model"
                }
              },
              {
                "split_index": 4,
                "train_days": 545,
                "test_days": 30,
                "train_end_idx": 545,
                "test_end_idx": 575,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-22T00:00:00",
                "test_start": "2025-10-23T00:00:00",
                "test_end": "2025-12-03T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.012265629904002115,
                    "rmse": 0.03150819380687407,
                    "mape": 1.8794242173031315,
                    "confidence": 0.6150372981019221
                  },
                  "lightgbm": {
                    "raw_r2": -0.014330583020081352,
                    "rmse": 0.03153757210656525,
                    "mape": 1.8707337717375419,
                    "confidence": 0.6133613803955826
                  },
                  "catboost": {
                    "raw_r2": -0.00866667973267099,
                    "rmse": 0.0314335256093205,
                    "mape": 1.7025435767385404,
                    "confidence": 0.6179594244057478
                  }
                },
                "dirhit": null,
                "rmse": 0.018440179123200676,
                "mape": 93373.66767207804,
                "nrmse": 0.9676015017215012,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5,
                "ensemble_debug": {
                  "historical_r2": {
                    "xgboost": -0.012265629904002115,
                    "lightgbm": -0.014330583020081352,
                    "catboost": -0.00866667973267099
                  },
                  "ensemble_weights": {
                    "xgboost": 0.14573292973701435,
                    "lightgbm": 0.7636926068189197,
                    "catboost": 0.09057446344406599
                  },
                  "source": "model"
                }
              }
            ],
            "avg_dirhit": 89.28571428571428,
            "avg_nrmse": 0.9822259113265122,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.008219889316457266,
                "rmse": 0.031641124945770524,
                "mape": 1.8413227108911099,
                "confidence": 0.6183227000052166
              },
              "lightgbm": {
                "raw_r2": -0.009142325090439959,
                "rmse": 0.031663234456030476,
                "mape": 1.8263609782676093,
                "confidence": 0.6175737325974835
              },
              "catboost": {
                "raw_r2": -0.0048033186901027345,
                "rmse": 0.03159813880104042,
                "mape": 1.7621673016111417,
                "confidence": 0.6210977805522074
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AKSUE_h1_c3",
  "symbols": [
    "AKSUE"
  ],
  "horizon": 1,
  "best_model_choice": "all",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": false,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "n_seeds": 2,
    "ml_adaptive_k_1d": 1.8453499073136677,
    "ml_pattern_weight_scale_1d": 1.3642207391075951,
    "external_min_days": 50,
    "external_smooth_alpha": 0.29874633774956905,
    "regime_scale_low": 0.8881939245592773,
    "regime_scale_high": 1.1940773887883611,
    "yolo_min_conf": 0.6771279617369362,
    "fingpt_confidence_threshold": 0.3622134194018505
  },
  "hyperparameters": {
    "model_choice": "all",
    "xgb_n_estimators": 284,
    "xgb_max_depth": 4,
    "xgb_learning_rate": 0.012552628482303409,
    "xgb_subsample": 0.8986597307280297,
    "xgb_colsample_bytree": 0.5413482649198054,
    "xgb_reg_alpha": 1.5327770808334155e-06,
    "xgb_reg_lambda": 0.01728339908210673,
    "xgb_min_child_weight": 12,
    "xgb_gamma": 0.7017246169054389,
    "xgb_grow_policy": "lossguide",
    "xgb_tree_method": "hist",
    "xgb_max_bin": 457,
    "lgb_n_estimators": 142,
    "lgb_max_depth": 5,
    "lgb_learning_rate": 0.06384551205137312,
    "lgb_num_leaves": 16,
    "lgb_subsample": 0.5260085681988844,
    "lgb_colsample_bytree": 0.8743603225389627,
    "lgb_reg_alpha": 0.0014042959726903318,
    "lgb_reg_lambda": 0.09797907272614753,
    "lgb_min_data_in_leaf": 71,
    "lgb_feature_fraction_bynode": 0.6752763700243722,
    "lgb_bagging_freq": 8,
    "lgb_min_gain_to_split": 0.2747106099647751,
    "cat_iterations": 230,
    "cat_depth": 7,
    "cat_learning_rate": 0.01825078599865841,
    "cat_l2_leaf_reg": 9.009628221011369,
    "cat_subsample": 0.9375654326462969,
    "cat_rsm": 0.6075256580057911,
    "cat_border_count": 206,
    "cat_random_strength": 1.4530229155770926,
    "cat_leaf_estimation_iterations": 11,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "1",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AKSUE_1d": {
      "symbol": "AKSUE",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 456,
          "test_days": 30,
          "train_end_idx": 456,
          "test_end_idx": 486,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-18T00:00:00",
          "test_start": "2025-06-19T00:00:00",
          "test_end": "2025-07-31T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.010926918735102728,
              "rmse": 0.031592492768558335,
              "mape": 1.7421576099566425,
              "confidence": 0.6161240862561951
            },
            "lightgbm": {
              "raw_r2": -0.010070696106586693,
              "rmse": 0.031586942029393224,
              "mape": 1.7283002061045103,
              "confidence": 0.6168192878382619
            },
            "catboost": {
              "raw_r2": -0.005538775753700838,
              "rmse": 0.031519175544365965,
              "mape": 1.7380927109003803,
              "confidence": 0.6205000323009728
            }
          },
          "dirhit": 81.25,
          "rmse": 0.03980134045643642,
          "mape": 973416.9179619565,
          "nrmse": 1.0021619635461327,
          "mask_count": 16,
          "mask_pct": 55.172413793103445,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 2,
          "train_days": 486,
          "test_days": 30,
          "train_end_idx": 486,
          "test_end_idx": 516,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-31T00:00:00",
          "test_start": "2025-08-01T00:00:00",
          "test_end": "2025-09-11T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.005094341919410124,
              "rmse": 0.03161232404878292,
              "mape": 1.9169572410945495,
              "confidence": 0.6208610709689115
            },
            "lightgbm": {
              "raw_r2": -0.005558149871609297,
              "rmse": 0.031624236273616345,
              "mape": 1.8876027342263502,
              "confidence": 0.6204842938585875
            },
            "catboost": {
              "raw_r2": 7.452962792893943e-05,
              "rmse": 0.03153666223347594,
              "mape": 1.8586258153885655,
              "confidence": 0.6250605553219915
            }
          },
          "dirhit": 100.0,
          "rmse": 0.031904241702156375,
          "mape": 8132364.899624369,
          "nrmse": 0.9556717295653367,
          "mask_count": 5,
          "mask_pct": 17.24137931034483,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 3,
          "train_days": 516,
          "test_days": 30,
          "train_end_idx": 516,
          "test_end_idx": 546,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-11T00:00:00",
          "test_start": "2025-09-12T00:00:00",
          "test_end": "2025-10-23T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.006111993131561484,
              "rmse": 0.03189165370555793,
              "mape": 1.8524071787501475,
              "confidence": 0.6200343920277908
            },
            "lightgbm": {
              "raw_r2": -0.006609871363482493,
              "rmse": 0.03190418741454709,
              "mape": 1.818807201002035,
              "confidence": 0.6196299682975019
            },
            "catboost": {
              "raw_r2": 0.0013640164972125908,
              "rmse": 0.03179597166812233,
              "mape": 1.7645182622771332,
              "confidence": 0.6261082591082354
            }
          },
          "dirhit": null,
          "rmse": 0.022150276708402014,
          "mape": 127.09328607355505,
          "nrmse": 0.9854335902623736,
          "mask_count": 3,
          "mask_pct": 10.344827586206897,
          "low_support": true,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 4,
          "train_days": 546,
          "test_days": 30,
          "train_end_idx": 546,
          "test_end_idx": 576,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-23T00:00:00",
          "test_start": "2025-10-24T00:00:00",
          "test_end": "2025-12-04T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.014015940334072866,
              "rmse": 0.031532963994791476,
              "mape": 1.8832437409614067,
              "confidence": 0.6136167068661202
            },
            "lightgbm": {
              "raw_r2": -0.014330583020081352,
              "rmse": 0.03153757210656525,
              "mape": 1.8707337717375419,
              "confidence": 0.6133613803955826
            },
            "catboost": {
              "raw_r2": -0.005589822970773113,
              "rmse": 0.03139101577612087,
              "mape": 1.7691189569769887,
              "confidence": 0.6204585644620723
            }
          },
          "dirhit": null,
          "rmse": 0.017458708790279047,
          "mape": 1283560.9341292398,
          "nrmse": 0.9281653310050587,
          "mask_count": 4,
          "mask_pct": 13.793103448275861,
          "low_support": true,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        }
      ],
      "avg_dirhit": 90.625,
      "avg_nrmse": 0.9678581535947255,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.0090372985300368,
          "rmse": 0.03165735862942266,
          "mape": 1.8486914426906864,
          "confidence": 0.6176590640297543
        },
        "lightgbm": {
          "raw_r2": -0.009142325090439959,
          "rmse": 0.031663234456030476,
          "mape": 1.8263609782676093,
          "confidence": 0.6175737325974835
        },
        "catboost": {
          "raw_r2": -0.0024225131498331054,
          "rmse": 0.031560706305521276,
          "mape": 1.782588936385767,
          "confidence": 0.623031852798318
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 5,
    "min_mask_pct": 2.5,
    "best_trial_number": 388,
    "best_trial_seed": 430,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "AKSUE_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 456,
            "test_end_idx": 486,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-18T00:00:00",
            "test_start": "2025-06-19T00:00:00",
            "test_end": "2025-07-31T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 486,
            "test_end_idx": 516,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-31T00:00:00",
            "test_start": "2025-08-01T00:00:00",
            "test_end": "2025-09-11T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 516,
            "test_end_idx": 546,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-11T00:00:00",
            "test_start": "2025-09-12T00:00:00",
            "test_end": "2025-10-23T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 546,
            "test_end_idx": 576,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-23T00:00:00",
            "test_start": "2025-10-24T00:00:00",
            "test_end": "2025-12-04T00:00:00"
          }
        ]
      }
    }
  }
}