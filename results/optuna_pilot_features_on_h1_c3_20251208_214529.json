{
  "best_value": 48.63709756169003,
  "best_dirhit": 78.027950310559,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "model_choice": "lgbm",
    "ml_adaptive_k_1d": 2.32813932891499,
    "ml_pattern_weight_scale_1d": 1.0904769764867948,
    "enable_talib_patterns_short": true,
    "external_min_days": 42,
    "external_smooth_alpha": 0.2653885257433061,
    "regime_scale_low": 0.8020136945941214,
    "regime_scale_high": 1.1734125754064815,
    "fingpt_confidence_threshold": 0.3747448912655915,
    "lgb_n_estimators": 244,
    "lgb_max_depth": 8,
    "lgb_learning_rate": 0.010672810658123267,
    "lgb_num_leaves": 40,
    "lgb_subsample": 0.8787761849801659,
    "lgb_colsample_bytree": 0.7192825808581239,
    "lgb_reg_alpha": 4.207927517499452e-06,
    "lgb_reg_lambda": 0.014529581569188819,
    "lgb_min_data_in_leaf": 69,
    "lgb_feature_fraction_bynode": 0.7895909174765832,
    "lgb_bagging_freq": 10,
    "lgb_min_gain_to_split": 0.7992016182690836
  },
  "best_trial": {
    "number": 243,
    "value": 48.63709756169003,
    "state": "1"
  },
  "best_trial_number": 243,
  "best_trial_seed": 285,
  "n_trials": 1067,
  "pruned_count": 0,
  "avg_trial_time": 280.22748563841805,
  "top_k_trials": [
    {
      "number": 243,
      "value": 48.63709756169003,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "lgbm",
        "ml_adaptive_k_1d": 2.32813932891499,
        "ml_pattern_weight_scale_1d": 1.0904769764867948,
        "enable_talib_patterns_short": true,
        "external_min_days": 42,
        "external_smooth_alpha": 0.2653885257433061,
        "regime_scale_low": 0.8020136945941214,
        "regime_scale_high": 1.1734125754064815,
        "fingpt_confidence_threshold": 0.3747448912655915,
        "lgb_n_estimators": 244,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.010672810658123267,
        "lgb_num_leaves": 40,
        "lgb_subsample": 0.8787761849801659,
        "lgb_colsample_bytree": 0.7192825808581239,
        "lgb_reg_alpha": 4.207927517499452e-06,
        "lgb_reg_lambda": 0.014529581569188819,
        "lgb_min_data_in_leaf": 69,
        "lgb_feature_fraction_bynode": 0.7895909174765832,
        "lgb_bagging_freq": 10,
        "lgb_min_gain_to_split": 0.7992016182690836
      },
      "attrs": {
        "avg_dirhit": 78.027950310559,
        "avg_nrmse": 0.9970779426168791,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "AYCES_1d": {
            "symbol": "AYCES",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 457,
                "test_days": 30,
                "train_end_idx": 457,
                "test_end_idx": 487,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.02277753936165894,
                    "rmse": 0.03547650115595241,
                    "mape": 1.6618725268185353,
                    "confidence": 0.6065132266990272
                  },
                  "lightgbm": {
                    "raw_r2": -0.04831894933593395,
                    "rmse": 0.0358471314247813,
                    "mape": 1.6572045125847386,
                    "confidence": 0.5859307021917256
                  }
                },
                "dirhit": 60.86956521739131,
                "rmse": 0.03771507675604071,
                "mape": 142.2201145931352,
                "nrmse": 1.0424146610614922,
                "mask_count": 23,
                "mask_pct": 79.3103448275862,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 487,
                "test_days": 30,
                "train_end_idx": 487,
                "test_end_idx": 517,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.04802552775446656,
                    "rmse": 0.03588394720569324,
                    "mape": 1.663089830925367,
                    "confidence": 0.5861656826623505
                  },
                  "lightgbm": {
                    "raw_r2": -0.051832823913877446,
                    "rmse": 0.035987048088042775,
                    "mape": 1.663672305410114,
                    "confidence": 0.5831199781875557
                  }
                },
                "dirhit": 85.71428571428571,
                "rmse": 0.016900477544530553,
                "mape": 767529.0916869524,
                "nrmse": 0.9040794887469007,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 517,
                "test_days": 30,
                "train_end_idx": 517,
                "test_end_idx": 547,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.044415696190201914,
                    "rmse": 0.03388416947123084,
                    "mape": 1.6354749501692698,
                    "confidence": 0.5890598362065654
                  },
                  "lightgbm": {
                    "raw_r2": -0.08191970783819406,
                    "rmse": 0.03454423381053708,
                    "mape": 1.6784140873700615,
                    "confidence": 0.5593554520882079
                  }
                },
                "dirhit": null,
                "rmse": 0.01663975291445992,
                "mape": 169.38351733537436,
                "nrmse": 1.1128273243059201,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 547,
                "test_days": 30,
                "train_end_idx": 547,
                "test_end_idx": 577,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.03323878612336991,
                    "rmse": 0.030772467271780096,
                    "mape": 1.6188752419029444,
                    "confidence": 0.598055476005579
                  },
                  "lightgbm": {
                    "raw_r2": -0.06721029708750259,
                    "rmse": 0.03126928166162497,
                    "mape": 1.672330151122855,
                    "confidence": 0.5708998085064032
                  }
                },
                "dirhit": 87.5,
                "rmse": 0.024911259866227206,
                "mape": 244297.31920592368,
                "nrmse": 0.9289902963532035,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 78.027950310559,
            "avg_nrmse": 0.9970779426168791,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.03711438735742433,
                "rmse": 0.03400427127616415,
                "mape": 1.644828137454029,
                "confidence": 0.5949485553933805
              },
              "lightgbm": {
                "raw_r2": -0.062320444543877015,
                "rmse": 0.034411923746246534,
                "mape": 1.6679052641219423,
                "confidence": 0.574826485243473
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 201,
      "value": 47.634549489920126,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "lgbm",
        "ml_adaptive_k_1d": 2.5476270469699958,
        "ml_pattern_weight_scale_1d": 1.614919315916694,
        "enable_talib_patterns_short": true,
        "external_min_days": 30,
        "external_smooth_alpha": 0.470525042331485,
        "regime_scale_low": 0.9152570862653394,
        "regime_scale_high": 1.1698625295058565,
        "smart_consensus_weight": 0.7756962748074803,
        "smart_performance_weight": 0.29631204830825186,
        "smart_sigma": 0.004768628204039307,
        "smart_weight_xgb": 0.7880958601495379,
        "smart_weight_lgbm": 1.4282996385992168,
        "smart_weight_cat": 1.1569411695987966,
        "fingpt_confidence_threshold": 0.3614152232764464,
        "lgb_n_estimators": 176,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.012544445083558009,
        "lgb_num_leaves": 43,
        "lgb_subsample": 0.5821741904201807,
        "lgb_colsample_bytree": 0.8473792506617293,
        "lgb_reg_alpha": 0.01569394095749916,
        "lgb_reg_lambda": 2.2908529757480327,
        "lgb_min_data_in_leaf": 78,
        "lgb_feature_fraction_bynode": 0.975988422437203,
        "lgb_bagging_freq": 7,
        "lgb_min_gain_to_split": 0.566130204365253
      },
      "attrs": {
        "avg_dirhit": 76.66666666666667,
        "avg_nrmse": 1.00535286279109,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "AYCES_1d": {
            "symbol": "AYCES",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 457,
                "test_days": 30,
                "train_end_idx": 457,
                "test_end_idx": 487,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.046755436022033026,
                    "rmse": 0.03580695744469733,
                    "mape": 1.6649620724272898,
                    "confidence": 0.5871832807786567
                  },
                  "lightgbm": {
                    "raw_r2": -0.04831894933593395,
                    "rmse": 0.0358471314247813,
                    "mape": 1.6572045125847386,
                    "confidence": 0.5859307021917256
                  }
                },
                "dirhit": 70.0,
                "rmse": 0.038463116839881045,
                "mape": 167.43826592897148,
                "nrmse": 1.063089892759965,
                "mask_count": 20,
                "mask_pct": 68.96551724137932,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 487,
                "test_days": 30,
                "train_end_idx": 487,
                "test_end_idx": 517,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.05358053055881388,
                    "rmse": 0.035975273754896994,
                    "mape": 1.6519942542778585,
                    "confidence": 0.5817243409447476
                  },
                  "lightgbm": {
                    "raw_r2": -0.051832823913877446,
                    "rmse": 0.035987048088042775,
                    "mape": 1.663672305410114,
                    "confidence": 0.5831199781875557
                  }
                },
                "dirhit": null,
                "rmse": 0.018337286623096926,
                "mape": 369636.61942741985,
                "nrmse": 0.9809406078338924,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 517,
                "test_days": 30,
                "train_end_idx": 517,
                "test_end_idx": 547,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.07142731013712296,
                    "rmse": 0.03434112913418203,
                    "mape": 1.6218880464487402,
                    "confidence": 0.5675743866740885
                  },
                  "lightgbm": {
                    "raw_r2": -0.08191970783819406,
                    "rmse": 0.03454423381053708,
                    "mape": 1.6784140873700615,
                    "confidence": 0.5593554520882079
                  }
                },
                "dirhit": null,
                "rmse": 0.015471667604491179,
                "mape": 139.6576249301383,
                "nrmse": 1.0347085411283181,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 547,
                "test_days": 30,
                "train_end_idx": 547,
                "test_end_idx": 577,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.04333058517627734,
                    "rmse": 0.030942794941658174,
                    "mape": 1.6117633206056807,
                    "confidence": 0.5899309663098768
                  },
                  "lightgbm": {
                    "raw_r2": -0.06721029708750259,
                    "rmse": 0.03126928166162497,
                    "mape": 1.672330151122855,
                    "confidence": 0.5708998085064032
                  }
                },
                "dirhit": 83.33333333333334,
                "rmse": 0.02527815139998884,
                "mape": 242124.5400507989,
                "nrmse": 0.942672409442184,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 76.66666666666667,
            "avg_nrmse": 1.00535286279109,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.0537734654735618,
                "rmse": 0.034266538818858626,
                "mape": 1.6376519234398923,
                "confidence": 0.5816032436768424
              },
              "lightgbm": {
                "raw_r2": -0.062320444543877015,
                "rmse": 0.034411923746246534,
                "mape": 1.6679052641219423,
                "confidence": 0.574826485243473
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 588,
      "value": 47.297080502881656,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": true,
        "enable_stacked_short": false,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "lgbm",
        "meta_stacking_alpha": 0.025405306676107006,
        "ml_adaptive_k_1d": 2.276244302393464,
        "ml_pattern_weight_scale_1d": 1.1953278909107645,
        "enable_talib_patterns_short": true,
        "external_min_days": 49,
        "external_smooth_alpha": 0.4597786332061494,
        "regime_scale_low": 0.9095739315320884,
        "regime_scale_high": 1.10972534430727,
        "smart_consensus_weight": 0.5429920586440488,
        "smart_performance_weight": 0.45275039815623497,
        "smart_sigma": 0.002561652913811266,
        "smart_weight_xgb": 0.7281415689981758,
        "smart_weight_lgbm": 1.475150095634041,
        "smart_weight_cat": 0.7180999820458643,
        "fingpt_confidence_threshold": 0.38740357881496146,
        "lgb_n_estimators": 250,
        "lgb_max_depth": 8,
        "lgb_learning_rate": 0.012743411631091307,
        "lgb_num_leaves": 44,
        "lgb_subsample": 0.5748271729461265,
        "lgb_colsample_bytree": 0.7924682138032914,
        "lgb_reg_alpha": 5.602095919190112e-05,
        "lgb_reg_lambda": 1.8407112065762994,
        "lgb_min_data_in_leaf": 68,
        "lgb_feature_fraction_bynode": 0.7672915890466067,
        "lgb_bagging_freq": 6,
        "lgb_min_gain_to_split": 0.3098137831102562
      },
      "attrs": {
        "avg_dirhit": 76.11111111111111,
        "avg_nrmse": 0.9967828791493545,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "AYCES_1d": {
            "symbol": "AYCES",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 457,
                "test_days": 30,
                "train_end_idx": 457,
                "test_end_idx": 487,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.02322018517948443,
                    "rmse": 0.03548169081375734,
                    "mape": 1.65886050744369,
                    "confidence": 0.6061547633669978
                  },
                  "lightgbm": {
                    "raw_r2": -0.04831894933593395,
                    "rmse": 0.0358471314247813,
                    "mape": 1.6572045125847386,
                    "confidence": 0.5859307021917256
                  }
                },
                "dirhit": 65.0,
                "rmse": 0.03832115924646819,
                "mape": 171.23179791939867,
                "nrmse": 1.0591662980241048,
                "mask_count": 20,
                "mask_pct": 68.96551724137932,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 487,
                "test_days": 30,
                "train_end_idx": 487,
                "test_end_idx": 517,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.04097934923749439,
                    "rmse": 0.035771934256799504,
                    "mape": 1.6649020584901142,
                    "confidence": 0.5918202787280162
                  },
                  "lightgbm": {
                    "raw_r2": -0.051832823913877446,
                    "rmse": 0.035987048088042775,
                    "mape": 1.663672305410114,
                    "confidence": 0.5831199781875557
                  }
                },
                "dirhit": 83.33333333333334,
                "rmse": 0.01741451789116176,
                "mape": 228947.9800225733,
                "nrmse": 0.9315777255602161,
                "mask_count": 12,
                "mask_pct": 41.37931034482759,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 517,
                "test_days": 30,
                "train_end_idx": 517,
                "test_end_idx": 547,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.05671554406533267,
                    "rmse": 0.03407165356223594,
                    "mape": 1.6945454272780254,
                    "confidence": 0.5792249650984789
                  },
                  "lightgbm": {
                    "raw_r2": -0.08191970783819406,
                    "rmse": 0.03454423381053708,
                    "mape": 1.6784140873700615,
                    "confidence": 0.5593554520882079
                  }
                },
                "dirhit": null,
                "rmse": 0.015957234834780752,
                "mape": 131.25234532626882,
                "nrmse": 1.0671821291936925,
                "mask_count": 4,
                "mask_pct": 13.793103448275861,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 547,
                "test_days": 30,
                "train_end_idx": 547,
                "test_end_idx": 577,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.037712781332434574,
                    "rmse": 0.030849293212872556,
                    "mape": 1.6584001903398826,
                    "confidence": 0.5944488355511697
                  },
                  "lightgbm": {
                    "raw_r2": -0.06721029708750259,
                    "rmse": 0.03126928166162497,
                    "mape": 1.672330151122855,
                    "confidence": 0.5708998085064032
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.02491702698947956,
                "mape": 2784055.8837452396,
                "nrmse": 0.9292053638194047,
                "mask_count": 10,
                "mask_pct": 34.48275862068966,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 76.11111111111111,
            "avg_nrmse": 0.9967828791493545,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.039656964953686515,
                "rmse": 0.034043642961416334,
                "mape": 1.669177045887928,
                "confidence": 0.5929122106861657
              },
              "lightgbm": {
                "raw_r2": -0.062320444543877015,
                "rmse": 0.034411923746246534,
                "mape": 1.6679052641219423,
                "confidence": 0.574826485243473
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AYCES_h1_c3",
  "symbols": [
    "AYCES"
  ],
  "horizon": 1,
  "best_model_choice": "lgbm",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": true,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_adaptive_k_1d": 2.32813932891499,
    "ml_pattern_weight_scale_1d": 1.0904769764867948,
    "external_min_days": 42,
    "external_smooth_alpha": 0.2653885257433061,
    "regime_scale_low": 0.8020136945941214,
    "regime_scale_high": 1.1734125754064815,
    "fingpt_confidence_threshold": 0.3747448912655915
  },
  "hyperparameters": {
    "model_choice": "lgbm",
    "lgb_n_estimators": 244,
    "lgb_max_depth": 8,
    "lgb_learning_rate": 0.010672810658123267,
    "lgb_num_leaves": 40,
    "lgb_subsample": 0.8787761849801659,
    "lgb_colsample_bytree": 0.7192825808581239,
    "lgb_reg_alpha": 4.207927517499452e-06,
    "lgb_reg_lambda": 0.014529581569188819,
    "lgb_min_data_in_leaf": 69,
    "lgb_feature_fraction_bynode": 0.7895909174765832,
    "lgb_bagging_freq": 10,
    "lgb_min_gain_to_split": 0.7992016182690836
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "1",
    "ENABLE_CATBOOST": "0"
  },
  "best_trial_metrics": {
    "AYCES_1d": {
      "symbol": "AYCES",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 457,
          "test_days": 30,
          "train_end_idx": 457,
          "test_end_idx": 487,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-19T00:00:00",
          "test_start": "2025-06-20T00:00:00",
          "test_end": "2025-08-01T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.02277753936165894,
              "rmse": 0.03547650115595241,
              "mape": 1.6618725268185353,
              "confidence": 0.6065132266990272
            },
            "lightgbm": {
              "raw_r2": -0.04831894933593395,
              "rmse": 0.0358471314247813,
              "mape": 1.6572045125847386,
              "confidence": 0.5859307021917256
            }
          },
          "dirhit": 60.86956521739131,
          "rmse": 0.03771507675604071,
          "mape": 142.2201145931352,
          "nrmse": 1.0424146610614922,
          "mask_count": 23,
          "mask_pct": 79.3103448275862,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 2,
          "train_days": 487,
          "test_days": 30,
          "train_end_idx": 487,
          "test_end_idx": 517,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-08-01T00:00:00",
          "test_start": "2025-08-04T00:00:00",
          "test_end": "2025-09-12T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.04802552775446656,
              "rmse": 0.03588394720569324,
              "mape": 1.663089830925367,
              "confidence": 0.5861656826623505
            },
            "lightgbm": {
              "raw_r2": -0.051832823913877446,
              "rmse": 0.035987048088042775,
              "mape": 1.663672305410114,
              "confidence": 0.5831199781875557
            }
          },
          "dirhit": 85.71428571428571,
          "rmse": 0.016900477544530553,
          "mape": 767529.0916869524,
          "nrmse": 0.9040794887469007,
          "mask_count": 7,
          "mask_pct": 24.137931034482758,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 3,
          "train_days": 517,
          "test_days": 30,
          "train_end_idx": 517,
          "test_end_idx": 547,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-12T00:00:00",
          "test_start": "2025-09-15T00:00:00",
          "test_end": "2025-10-24T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.044415696190201914,
              "rmse": 0.03388416947123084,
              "mape": 1.6354749501692698,
              "confidence": 0.5890598362065654
            },
            "lightgbm": {
              "raw_r2": -0.08191970783819406,
              "rmse": 0.03454423381053708,
              "mape": 1.6784140873700615,
              "confidence": 0.5593554520882079
            }
          },
          "dirhit": null,
          "rmse": 0.01663975291445992,
          "mape": 169.38351733537436,
          "nrmse": 1.1128273243059201,
          "mask_count": 3,
          "mask_pct": 10.344827586206897,
          "low_support": true,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 4,
          "train_days": 547,
          "test_days": 30,
          "train_end_idx": 547,
          "test_end_idx": 577,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-24T00:00:00",
          "test_start": "2025-10-27T00:00:00",
          "test_end": "2025-12-05T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.03323878612336991,
              "rmse": 0.030772467271780096,
              "mape": 1.6188752419029444,
              "confidence": 0.598055476005579
            },
            "lightgbm": {
              "raw_r2": -0.06721029708750259,
              "rmse": 0.03126928166162497,
              "mape": 1.672330151122855,
              "confidence": 0.5708998085064032
            }
          },
          "dirhit": 87.5,
          "rmse": 0.024911259866227206,
          "mape": 244297.31920592368,
          "nrmse": 0.9289902963532035,
          "mask_count": 8,
          "mask_pct": 27.586206896551722,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        }
      ],
      "avg_dirhit": 78.027950310559,
      "avg_nrmse": 0.9970779426168791,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.03711438735742433,
          "rmse": 0.03400427127616415,
          "mape": 1.644828137454029,
          "confidence": 0.5949485553933805
        },
        "lightgbm": {
          "raw_r2": -0.062320444543877015,
          "rmse": 0.034411923746246534,
          "mape": 1.6679052641219423,
          "confidence": 0.574826485243473
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 5,
    "min_mask_pct": 2.5,
    "best_trial_number": 243,
    "best_trial_seed": 285,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "AYCES_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 457,
            "test_end_idx": 487,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-19T00:00:00",
            "test_start": "2025-06-20T00:00:00",
            "test_end": "2025-08-01T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 487,
            "test_end_idx": 517,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-08-01T00:00:00",
            "test_start": "2025-08-04T00:00:00",
            "test_end": "2025-09-12T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 517,
            "test_end_idx": 547,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-12T00:00:00",
            "test_start": "2025-09-15T00:00:00",
            "test_end": "2025-10-24T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 547,
            "test_end_idx": 577,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-24T00:00:00",
            "test_start": "2025-10-27T00:00:00",
            "test_end": "2025-12-05T00:00:00"
          }
        ]
      }
    }
  }
}