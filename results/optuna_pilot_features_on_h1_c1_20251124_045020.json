{
  "best_value": 58.125921776049026,
  "best_dirhit": 91.66666666666666,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "model_choice": "cat",
    "meta_stacking_alpha": 4.2469593453770775,
    "ml_adaptive_k_1d": 1.8635441574149558,
    "ml_pattern_weight_scale_1d": 1.101729135553627,
    "enable_talib_patterns_short": false,
    "external_min_days": 24,
    "external_smooth_alpha": 0.24574986009588887,
    "smart_consensus_weight": 0.4682778115130205,
    "smart_performance_weight": 0.27822757131013603,
    "smart_sigma": 0.005929005099327745,
    "smart_weight_xgb": 1.2011572652242188,
    "smart_weight_lgbm": 1.0237665037354147,
    "smart_weight_cat": 0.5541471680001886,
    "cat_iterations": 260,
    "cat_depth": 3,
    "cat_learning_rate": 0.017100502907345,
    "cat_l2_leaf_reg": 1.41846772502671,
    "cat_subsample": 0.586400026826895,
    "cat_rsm": 0.8353406469449106,
    "cat_border_count": 230,
    "cat_random_strength": 1.0690520672103878,
    "cat_leaf_estimation_iterations": 19,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 925,
    "value": 58.125921776049026,
    "state": "1"
  },
  "n_trials": 1394,
  "pruned_count": 0,
  "avg_trial_time": 187.36694209547738,
  "top_k_trials": [
    {
      "number": 925,
      "value": 58.125921776049026,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "meta_stacking_alpha": 4.2469593453770775,
        "ml_adaptive_k_1d": 1.8635441574149558,
        "ml_pattern_weight_scale_1d": 1.101729135553627,
        "enable_talib_patterns_short": false,
        "external_min_days": 24,
        "external_smooth_alpha": 0.24574986009588887,
        "smart_consensus_weight": 0.4682778115130205,
        "smart_performance_weight": 0.27822757131013603,
        "smart_sigma": 0.005929005099327745,
        "smart_weight_xgb": 1.2011572652242188,
        "smart_weight_lgbm": 1.0237665037354147,
        "smart_weight_cat": 0.5541471680001886,
        "cat_iterations": 260,
        "cat_depth": 3,
        "cat_learning_rate": 0.017100502907345,
        "cat_l2_leaf_reg": 1.41846772502671,
        "cat_subsample": 0.586400026826895,
        "cat_rsm": 0.8353406469449106,
        "cat_border_count": 230,
        "cat_random_strength": 1.0690520672103878,
        "cat_leaf_estimation_iterations": 19,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 91.66666666666666,
        "avg_nrmse": 1.0067908151029383,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 755,
      "value": 58.08998180071404,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": false,
        "model_choice": "cat",
        "meta_stacking_alpha": 0.013784879035605099,
        "ml_adaptive_k_1d": 1.8905048055612403,
        "ml_pattern_weight_scale_1d": 1.180994815571547,
        "enable_talib_patterns_short": true,
        "external_min_days": 32,
        "external_smooth_alpha": 0.24411430454629796,
        "smart_consensus_weight": 0.5389161659210459,
        "smart_performance_weight": 0.3030970762824787,
        "smart_sigma": 0.005013777241601905,
        "smart_weight_xgb": 1.0901043465318332,
        "smart_weight_lgbm": 0.9118729204460804,
        "smart_weight_cat": 0.8510931077936973,
        "cat_iterations": 246,
        "cat_depth": 3,
        "cat_learning_rate": 0.01828583134920198,
        "cat_l2_leaf_reg": 2.124642435829408,
        "cat_subsample": 0.5759529537587167,
        "cat_rsm": 0.8360311650870266,
        "cat_border_count": 227,
        "cat_random_strength": 1.1318910060984269,
        "cat_leaf_estimation_iterations": 17,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 91.66666666666666,
        "avg_nrmse": 1.012780810992102,
        "model_choice": "cat"
      },
      "state": "1"
    },
    {
      "number": 944,
      "value": 58.05824121593309,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": false,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": false,
        "enable_fingpt": true,
        "model_choice": "cat",
        "meta_stacking_alpha": 0.015169258354710956,
        "ml_adaptive_k_1d": 2.4158347416083656,
        "ml_pattern_weight_scale_1d": 1.4832548692481449,
        "enable_talib_patterns_short": false,
        "external_min_days": 21,
        "external_smooth_alpha": 0.2759155338001122,
        "smart_consensus_weight": 0.44759923255788053,
        "smart_performance_weight": 0.2318224819852585,
        "smart_sigma": 0.006135403849872942,
        "smart_weight_xgb": 1.048667992150056,
        "smart_weight_lgbm": 0.9651528540809736,
        "smart_weight_cat": 0.5202585461390566,
        "cat_iterations": 265,
        "cat_depth": 3,
        "cat_learning_rate": 0.018744720300856398,
        "cat_l2_leaf_reg": 7.790627785641557,
        "cat_subsample": 0.6062796320290644,
        "cat_rsm": 0.8470221859050745,
        "cat_border_count": 243,
        "cat_random_strength": 1.2053911654689593,
        "cat_leaf_estimation_iterations": 20,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 91.66666666666666,
        "avg_nrmse": 1.0180709084555954,
        "model_choice": "cat"
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_AGHOL_h1_c1",
  "symbols": [
    "AGHOL"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": false,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": false,
    "enable_fingpt": true,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "meta_stacking_alpha": 4.2469593453770775,
    "ml_adaptive_k_1d": 1.8635441574149558,
    "ml_pattern_weight_scale_1d": 1.101729135553627,
    "external_min_days": 24,
    "external_smooth_alpha": 0.24574986009588887,
    "smart_consensus_weight": 0.4682778115130205,
    "smart_performance_weight": 0.27822757131013603,
    "smart_sigma": 0.005929005099327745,
    "smart_weight_xgb": 1.2011572652242188,
    "smart_weight_lgbm": 1.0237665037354147,
    "smart_weight_cat": 0.5541471680001886
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 260,
    "cat_depth": 3,
    "cat_learning_rate": 0.017100502907345,
    "cat_l2_leaf_reg": 1.41846772502671,
    "cat_subsample": 0.586400026826895,
    "cat_rsm": 0.8353406469449106,
    "cat_border_count": 230,
    "cat_random_strength": 1.0690520672103878,
    "cat_leaf_estimation_iterations": 19,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "0",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "0",
    "ENABLE_FINGPT": "1",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "AGHOL_1d": {
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 449,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.03574720698142442,
              "rmse": 0.02688081125292803,
              "mape": 1.7814070025647095,
              "confidence": 0.5960324710643243
            },
            "catboost": {
              "raw_r2": -0.029859512626688883,
              "rmse": 0.026798300809030555,
              "mape": 1.7089045914330483,
              "confidence": 0.6007841098260254
            }
          },
          "dirhit": 100.0,
          "rmse": 0.023000562805820288,
          "mape": 101.96475118846706,
          "nrmse": 0.9981173476607502,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        },
        {
          "split_index": 2,
          "train_days": 479,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.025963353710070153,
              "rmse": 0.026715698158164294,
              "mape": 1.7299430704718428,
              "confidence": 0.6039343506886926
            },
            "catboost": {
              "raw_r2": -0.007626254589143937,
              "rmse": 0.026480881220903127,
              "mape": 1.6771282288122684,
              "confidence": 0.6188044188229388
            }
          },
          "dirhit": 100.0,
          "rmse": 0.012752052623156965,
          "mape": 533958.0239650742,
          "nrmse": 1.0031753435783215,
          "mask_count": 1,
          "mask_pct": 3.4482758620689653
        },
        {
          "split_index": 3,
          "train_days": 509,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0026782878415284963,
              "rmse": 0.025696099718797074,
              "mape": 1.7302314408994885,
              "confidence": 0.6228239236484254
            },
            "catboost": {
              "raw_r2": -0.0009169166091061628,
              "rmse": 0.025673183266868318,
              "mape": 1.6956753635183082,
              "confidence": 0.6242550065599817
            }
          },
          "dirhit": 50.0,
          "rmse": 0.022031957308324756,
          "mape": 379131.53526637005,
          "nrmse": 1.0039928326349299,
          "mask_count": 2,
          "mask_pct": 6.896551724137931
        },
        {
          "split_index": 4,
          "train_days": 539,
          "test_days": 30,
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.0016061900627954613,
              "rmse": 0.02570680416514923,
              "mape": 1.7305033745490472,
              "confidence": 0.6236949775880494
            },
            "catboost": {
              "raw_r2": 0.003660526275254372,
              "rmse": 0.025645344042669434,
              "mape": 1.74365310602648,
              "confidence": 0.6279740945756924
            }
          },
          "dirhit": 0.0,
          "rmse": 0.0185954574936124,
          "mape": 1460938.6216736475,
          "nrmse": 1.0422337383751883,
          "mask_count": 0,
          "mask_pct": 0.0
        }
      ],
      "avg_dirhit": 62.5,
      "avg_nrmse": 1.0118798155622974,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.01649875964895463,
          "rmse": 0.026249853323759658,
          "mape": 1.743021222121272,
          "confidence": 0.611621430747373
        },
        "catboost": {
          "raw_r2": -0.008685539387421153,
          "rmse": 0.02614942733486786,
          "mape": 1.7063403224475262,
          "confidence": 0.6179544074461596
        }
      }
    }
  }
}