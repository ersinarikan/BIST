{
  "best_value": 64.02791075199998,
  "best_dirhit": 100.0,
  "best_params": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.6088813900906859,
    "ml_loss_threshold": 0.0010704753046354393,
    "ml_dir_penalty": 3.956487354624233,
    "meta_stacking_alpha": 0.09260914532994126,
    "ml_adaptive_k_1d": 1.536661259170353,
    "ml_pattern_weight_scale_1d": 1.2542472200033723,
    "enable_talib_patterns_short": true,
    "external_min_days": 56,
    "external_smooth_alpha": 0.10704283302006457,
    "regime_scale_low": 0.8174553104364549,
    "regime_scale_high": 1.0810225590626346,
    "yolo_min_conf": 0.6239930404026538,
    "smart_consensus_weight": 0.4531604498805715,
    "smart_performance_weight": 0.3902528693466217,
    "smart_sigma": 0.005724177438016753,
    "smart_weight_xgb": 0.8650957405322477,
    "smart_weight_lgbm": 0.7361264666993936,
    "smart_weight_cat": 1.072336720024487,
    "fingpt_confidence_threshold": 0.21488692545426802,
    "cat_iterations": 182,
    "cat_depth": 3,
    "cat_learning_rate": 0.027748187898508733,
    "cat_l2_leaf_reg": 1.673714248948534,
    "cat_subsample": 0.5577735539223329,
    "cat_rsm": 0.6854585661800942,
    "cat_border_count": 230,
    "cat_random_strength": 0.1538314982790878,
    "cat_leaf_estimation_iterations": 3,
    "cat_bootstrap_type": "MVS"
  },
  "best_trial": {
    "number": 204,
    "value": 64.02791075199998,
    "state": "1"
  },
  "best_trial_number": 204,
  "best_trial_seed": 246,
  "n_trials": 1144,
  "pruned_count": 0,
  "avg_trial_time": 238.45248468744512,
  "top_k_trials": [
    {
      "number": 204,
      "value": 64.02791075199998,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": false,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.6088813900906859,
        "ml_loss_threshold": 0.0010704753046354393,
        "ml_dir_penalty": 3.956487354624233,
        "meta_stacking_alpha": 0.09260914532994126,
        "ml_adaptive_k_1d": 1.536661259170353,
        "ml_pattern_weight_scale_1d": 1.2542472200033723,
        "enable_talib_patterns_short": true,
        "external_min_days": 56,
        "external_smooth_alpha": 0.10704283302006457,
        "regime_scale_low": 0.8174553104364549,
        "regime_scale_high": 1.0810225590626346,
        "yolo_min_conf": 0.6239930404026538,
        "smart_consensus_weight": 0.4531604498805715,
        "smart_performance_weight": 0.3902528693466217,
        "smart_sigma": 0.005724177438016753,
        "smart_weight_xgb": 0.8650957405322477,
        "smart_weight_lgbm": 0.7361264666993936,
        "smart_weight_cat": 1.072336720024487,
        "fingpt_confidence_threshold": 0.21488692545426802,
        "cat_iterations": 182,
        "cat_depth": 3,
        "cat_learning_rate": 0.027748187898508733,
        "cat_l2_leaf_reg": 1.673714248948534,
        "cat_subsample": 0.5577735539223329,
        "cat_rsm": 0.6854585661800942,
        "cat_border_count": 230,
        "cat_random_strength": 0.1538314982790878,
        "cat_leaf_estimation_iterations": 3,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 100.0,
        "avg_nrmse": 0.995348208000003,
        "model_choice": "cat",
        "symbol_metrics": {
          "EKSUN_1d": {
            "symbol": "EKSUN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -125.90576644321986,
                    "rmse": 0.29585129775015767,
                    "mape": 1.8847851968195686,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": -0.0038172689385748506,
                    "rmse": 0.027473384954053146,
                    "mape": 1.7138215153383087,
                    "confidence": 0.621898563138332
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.028640085967201145,
                "mape": 99.1975368404358,
                "nrmse": 0.9493544494972483,
                "mask_count": 11,
                "mask_pct": 37.93103448275862,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -123.72012996377585,
                    "rmse": 0.29584413121075565,
                    "mape": 1.8838973302130688,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.016900724816591106,
                    "rmse": 0.027552541427850328,
                    "mape": 1.6819774334981215,
                    "confidence": 0.6387236733132634
                  }
                },
                "dirhit": null,
                "rmse": 0.016894030128804978,
                "mape": 2178109.3173538116,
                "nrmse": 0.9598991243818482,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -123.66058458776924,
                    "rmse": 0.29565644104081396,
                    "mape": 1.8848995814165397,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.020676163189308244,
                    "rmse": 0.026877394734454423,
                    "mape": 1.6155499865651581,
                    "confidence": 0.641784436484437
                  }
                },
                "dirhit": null,
                "rmse": 0.02217245857957988,
                "mape": 4039506.7851063847,
                "nrmse": 1.0538966446855693,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -120.93317254510015,
                    "rmse": 0.2955751238383033,
                    "mape": 1.8859862797734166,
                    "confidence": 0.3
                  },
                  "catboost": {
                    "raw_r2": 0.016064111572505497,
                    "rmse": 0.026666540618908902,
                    "mape": 1.7001086617762597,
                    "confidence": 0.6380450781638723
                  }
                },
                "dirhit": null,
                "rmse": 0.01848868842730357,
                "mape": 993155.3982840544,
                "nrmse": 1.0182426134353464,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 100.0,
            "avg_nrmse": 0.995348208000003,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -123.55491338496627,
                "rmse": 0.29573174846000766,
                "mape": 1.8848920970556484,
                "confidence": 0.3
              },
              "catboost": {
                "raw_r2": 0.012455932659957498,
                "rmse": 0.0271424654338167,
                "mape": 1.677864399294462,
                "confidence": 0.6351129377749761
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 444,
      "value": 58.56447070783189,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.2220414267416334,
        "ml_loss_threshold": 0.0013771237525186941,
        "ml_dir_penalty": 2.084825152331971,
        "n_seeds": 5,
        "meta_stacking_alpha": 0.02027296475583817,
        "ml_adaptive_k_1d": 1.2856502551073408,
        "ml_pattern_weight_scale_1d": 1.205392057294001,
        "enable_talib_patterns_short": true,
        "external_min_days": 38,
        "external_smooth_alpha": 0.07819911851477529,
        "regime_scale_low": 0.872726501646585,
        "regime_scale_high": 1.0920645252862913,
        "yolo_min_conf": 0.618457361128135,
        "smart_consensus_weight": 0.49814198801828957,
        "smart_performance_weight": 0.5238881516815708,
        "smart_sigma": 0.005248520922166786,
        "smart_weight_xgb": 0.8197906192995061,
        "smart_weight_lgbm": 0.5917279523413137,
        "smart_weight_cat": 1.0298674118875568,
        "fingpt_confidence_threshold": 0.46354949799936646,
        "cat_iterations": 200,
        "cat_depth": 2,
        "cat_learning_rate": 0.03814460621195352,
        "cat_l2_leaf_reg": 7.192022229702709,
        "cat_subsample": 0.525896587684089,
        "cat_rsm": 0.7354590382021987,
        "cat_border_count": 211,
        "cat_random_strength": 4.615697479159879,
        "cat_leaf_estimation_iterations": 9,
        "cat_bootstrap_type": "Bayesian"
      },
      "attrs": {
        "avg_dirhit": 92.3076923076923,
        "avg_nrmse": 1.008485651258788,
        "model_choice": "cat",
        "symbol_metrics": {
          "EKSUN_1d": {
            "symbol": "EKSUN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -1.0998522783662048,
                    "rmse": 0.03904112760988091,
                    "mape": 1.4414711657865107,
                    "confidence": 0.30264753632911645
                  },
                  "catboost": {
                    "raw_r2": 0.015642057139099608,
                    "rmse": 0.027177478539868613,
                    "mape": 1.68632547811328,
                    "confidence": 0.6377026970457833
                  }
                },
                "dirhit": 92.3076923076923,
                "rmse": 0.02861836057865084,
                "mape": 83.86678415880023,
                "nrmse": 0.9486343017186799,
                "mask_count": 13,
                "mask_pct": 44.827586206896555,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -1.0680677063017032,
                    "rmse": 0.03924922408818317,
                    "mape": 1.4348019350435328,
                    "confidence": 0.3031013919900422
                  },
                  "catboost": {
                    "raw_r2": 0.022826352915953623,
                    "rmse": 0.02747610747334083,
                    "mape": 1.6442657719003395,
                    "confidence": 0.6435263057118488
                  }
                },
                "dirhit": null,
                "rmse": 0.017251078340357138,
                "mape": 1877505.3178592639,
                "nrmse": 0.980186188097134,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -1.062894263898728,
                    "rmse": 0.03869283389372717,
                    "mape": 1.4314716707474464,
                    "confidence": 0.3031822650634423
                  },
                  "catboost": {
                    "raw_r2": 0.021694394813437195,
                    "rmse": 0.026873738366871198,
                    "mape": 1.6514496403341106,
                    "confidence": 0.6426094328737748
                  }
                },
                "dirhit": null,
                "rmse": 0.022505945971844236,
                "mape": 3119500.342078197,
                "nrmse": 1.0697478973777734,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -1.021636006332202,
                    "rmse": 0.038307981579761924,
                    "mape": 1.4381559373642723,
                    "confidence": 0.3039069751787234
                  },
                  "catboost": {
                    "raw_r2": 0.006427361507831446,
                    "rmse": 0.02684299955749058,
                    "mape": 1.7427453127512957,
                    "confidence": 0.6302217818226332
                  }
                },
                "dirhit": null,
                "rmse": 0.018799754662351217,
                "mape": 986607.2946278226,
                "nrmse": 1.0353742178415657,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 92.3076923076923,
            "avg_nrmse": 1.008485651258788,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -1.0631125637247096,
                "rmse": 0.03882279179288829,
                "mape": 1.4364751772354405,
                "confidence": 0.3032095421403311
              },
              "catboost": {
                "raw_r2": 0.01664754159408047,
                "rmse": 0.02709258098439281,
                "mape": 1.6811965507747564,
                "confidence": 0.6385150543635101
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 253,
      "value": 58.06092760763411,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": false,
        "enable_smart_ensemble": true,
        "enable_stacked_short": true,
        "enable_meta_stacking": true,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "n_seeds": 4,
        "meta_stacking_alpha": 1.2141581477713235,
        "ml_adaptive_k_1d": 1.2420366672305434,
        "ml_pattern_weight_scale_1d": 1.2230457574625155,
        "enable_talib_patterns_short": true,
        "external_min_days": 56,
        "external_smooth_alpha": 0.05040912586706646,
        "regime_scale_low": 0.8133704721889148,
        "regime_scale_high": 1.0467410633141179,
        "yolo_min_conf": 0.6126018759501295,
        "smart_consensus_weight": 0.3632126793008984,
        "smart_performance_weight": 0.4470871047294145,
        "smart_sigma": 0.00751924222985414,
        "smart_weight_xgb": 0.7533358813003144,
        "smart_weight_lgbm": 0.6826002338510564,
        "smart_weight_cat": 1.0784163589580282,
        "fingpt_confidence_threshold": 0.20520663275620354,
        "cat_iterations": 146,
        "cat_depth": 3,
        "cat_learning_rate": 0.04363429139362561,
        "cat_l2_leaf_reg": 7.369368227544042,
        "cat_subsample": 0.5207841374847533,
        "cat_rsm": 0.7204361214787698,
        "cat_border_count": 224,
        "cat_random_strength": 0.15592955831559144,
        "cat_leaf_estimation_iterations": 7,
        "cat_bootstrap_type": "MVS"
      },
      "attrs": {
        "avg_dirhit": 91.66666666666666,
        "avg_nrmse": 1.017623176505424,
        "model_choice": "cat",
        "symbol_metrics": {
          "EKSUN_1d": {
            "symbol": "EKSUN",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 453,
                "test_days": 30,
                "train_end_idx": 453,
                "test_end_idx": 483,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-12T00:00:00",
                "test_start": "2025-06-13T00:00:00",
                "test_end": "2025-07-25T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.000828366937996076,
                    "rmse": 0.027373674588151018,
                    "mape": 1.6720849630177061,
                    "confidence": 0.6256730471749565
                  },
                  "catboost": {
                    "raw_r2": -0.002871428169209452,
                    "rmse": 0.02744206858904072,
                    "mape": 1.7112448347917926,
                    "confidence": 0.6226670046869194
                  }
                },
                "dirhit": 91.66666666666666,
                "rmse": 0.029140660547998944,
                "mape": 84.38831799860235,
                "nrmse": 0.9659473712548798,
                "mask_count": 12,
                "mask_pct": 41.37931034482759,
                "low_support": false,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 2,
                "train_days": 483,
                "test_days": 30,
                "train_end_idx": 483,
                "test_end_idx": 513,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-25T00:00:00",
                "test_start": "2025-07-28T00:00:00",
                "test_end": "2025-09-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.027596802615508603,
                    "rmse": 0.02740406717420675,
                    "mape": 1.5409096969387062,
                    "confidence": 0.6473868936223441
                  },
                  "catboost": {
                    "raw_r2": 0.016919466161672985,
                    "rmse": 0.02755621872935654,
                    "mape": 1.671803790426179,
                    "confidence": 0.6387388734742883
                  }
                },
                "dirhit": null,
                "rmse": 0.017406899022849937,
                "mape": 2333574.553462225,
                "nrmse": 0.9890397378744836,
                "mask_count": 9,
                "mask_pct": 31.03448275862069,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 3,
                "train_days": 513,
                "test_days": 30,
                "train_end_idx": 513,
                "test_end_idx": 543,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-05T00:00:00",
                "test_start": "2025-09-08T00:00:00",
                "test_end": "2025-10-17T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.022434014958463904,
                    "rmse": 0.0268477683141379,
                    "mape": 1.5716031147547096,
                    "confidence": 0.6432085493015096
                  },
                  "catboost": {
                    "raw_r2": 0.04561869382314839,
                    "rmse": 0.026489614182516247,
                    "mape": 1.6119164143678326,
                    "confidence": 0.6619053223371231
                  }
                },
                "dirhit": null,
                "rmse": 0.02239849795376283,
                "mape": 3227196.992277551,
                "nrmse": 1.0646407007478786,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              },
              {
                "split_index": 4,
                "train_days": 543,
                "test_days": 30,
                "train_end_idx": 543,
                "test_end_idx": 573,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-17T00:00:00",
                "test_start": "2025-10-20T00:00:00",
                "test_end": "2025-11-28T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": 0.006317876466899482,
                    "rmse": 0.026832095521887412,
                    "mape": 1.674703043862317,
                    "confidence": 0.6301328478020585
                  },
                  "catboost": {
                    "raw_r2": 0.02633806689936476,
                    "rmse": 0.026531148641535135,
                    "mape": 1.6316303747708687,
                    "confidence": 0.6463688061788585
                  }
                },
                "dirhit": null,
                "rmse": 0.0190810258651969,
                "mape": 1589638.9608857702,
                "nrmse": 1.050864896144454,
                "mask_count": 6,
                "mask_pct": 20.689655172413794,
                "low_support": true,
                "min_mask_count": 10,
                "min_mask_pct": 5.0
              }
            ],
            "avg_dirhit": 91.66666666666666,
            "avg_nrmse": 1.017623176505424,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": 0.014294265244717016,
                "rmse": 0.02711440139959577,
                "mape": 1.6148252046433598,
                "confidence": 0.6366003344752171
              },
              "catboost": {
                "raw_r2": 0.02150119967874417,
                "rmse": 0.02700476253561216,
                "mape": 1.6566488535891684,
                "confidence": 0.6424200016692974
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_EKSUN_h1_c2",
  "symbols": [
    "EKSUN"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": false,
    "enable_fingpt_features": true,
    "enable_yolo_features": true,
    "enable_directional_loss": true,
    "enable_seed_bagging": false,
    "enable_talib_patterns": false,
    "enable_smart_ensemble": true,
    "enable_stacked_short": true,
    "enable_meta_stacking": true,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "enable_talib_patterns_short": true
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.6088813900906859,
    "ml_loss_threshold": 0.0010704753046354393,
    "ml_dir_penalty": 3.956487354624233,
    "meta_stacking_alpha": 0.09260914532994126,
    "ml_adaptive_k_1d": 1.536661259170353,
    "ml_pattern_weight_scale_1d": 1.2542472200033723,
    "external_min_days": 56,
    "external_smooth_alpha": 0.10704283302006457,
    "regime_scale_low": 0.8174553104364549,
    "regime_scale_high": 1.0810225590626346,
    "yolo_min_conf": 0.6239930404026538,
    "smart_consensus_weight": 0.4531604498805715,
    "smart_performance_weight": 0.3902528693466217,
    "smart_sigma": 0.005724177438016753,
    "smart_weight_xgb": 0.8650957405322477,
    "smart_weight_lgbm": 0.7361264666993936,
    "smart_weight_cat": 1.072336720024487,
    "fingpt_confidence_threshold": 0.21488692545426802
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 182,
    "cat_depth": 3,
    "cat_learning_rate": 0.027748187898508733,
    "cat_l2_leaf_reg": 1.673714248948534,
    "cat_subsample": 0.5577735539223329,
    "cat_rsm": 0.6854585661800942,
    "cat_border_count": 230,
    "cat_random_strength": 0.1538314982790878,
    "cat_leaf_estimation_iterations": 3,
    "cat_bootstrap_type": "MVS"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "0",
    "ENABLE_FINGPT_FEATURES": "1",
    "ENABLE_YOLO_FEATURES": "1",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "0",
    "ENABLE_TALIB_PATTERNS": "0",
    "ML_USE_SMART_ENSEMBLE": "1",
    "ML_USE_STACKED_SHORT": "1",
    "ENABLE_META_STACKING": "1",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "EKSUN_1d": {
      "symbol": "EKSUN",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 453,
          "test_days": 30,
          "train_end_idx": 453,
          "test_end_idx": 483,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-12T00:00:00",
          "test_start": "2025-06-13T00:00:00",
          "test_end": "2025-07-25T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -125.90576644321986,
              "rmse": 0.29585129775015767,
              "mape": 1.8847851968195686,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": -0.0038172689385748506,
              "rmse": 0.027473384954053146,
              "mape": 1.7138215153383087,
              "confidence": 0.621898563138332
            }
          },
          "dirhit": 100.0,
          "rmse": 0.028640085967201145,
          "mape": 99.1975368404358,
          "nrmse": 0.9493544494972483,
          "mask_count": 11,
          "mask_pct": 37.93103448275862,
          "low_support": false,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 2,
          "train_days": 483,
          "test_days": 30,
          "train_end_idx": 483,
          "test_end_idx": 513,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-07-25T00:00:00",
          "test_start": "2025-07-28T00:00:00",
          "test_end": "2025-09-05T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -123.72012996377585,
              "rmse": 0.29584413121075565,
              "mape": 1.8838973302130688,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": 0.016900724816591106,
              "rmse": 0.027552541427850328,
              "mape": 1.6819774334981215,
              "confidence": 0.6387236733132634
            }
          },
          "dirhit": null,
          "rmse": 0.016894030128804978,
          "mape": 2178109.3173538116,
          "nrmse": 0.9598991243818482,
          "mask_count": 7,
          "mask_pct": 24.137931034482758,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 3,
          "train_days": 513,
          "test_days": 30,
          "train_end_idx": 513,
          "test_end_idx": 543,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-05T00:00:00",
          "test_start": "2025-09-08T00:00:00",
          "test_end": "2025-10-17T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -123.66058458776924,
              "rmse": 0.29565644104081396,
              "mape": 1.8848995814165397,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": 0.020676163189308244,
              "rmse": 0.026877394734454423,
              "mape": 1.6155499865651581,
              "confidence": 0.641784436484437
            }
          },
          "dirhit": null,
          "rmse": 0.02217245857957988,
          "mape": 4039506.7851063847,
          "nrmse": 1.0538966446855693,
          "mask_count": 6,
          "mask_pct": 20.689655172413794,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        },
        {
          "split_index": 4,
          "train_days": 543,
          "test_days": 30,
          "train_end_idx": 543,
          "test_end_idx": 573,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-17T00:00:00",
          "test_start": "2025-10-20T00:00:00",
          "test_end": "2025-11-28T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -120.93317254510015,
              "rmse": 0.2955751238383033,
              "mape": 1.8859862797734166,
              "confidence": 0.3
            },
            "catboost": {
              "raw_r2": 0.016064111572505497,
              "rmse": 0.026666540618908902,
              "mape": 1.7001086617762597,
              "confidence": 0.6380450781638723
            }
          },
          "dirhit": null,
          "rmse": 0.01848868842730357,
          "mape": 993155.3982840544,
          "nrmse": 1.0182426134353464,
          "mask_count": 5,
          "mask_pct": 17.24137931034483,
          "low_support": true,
          "min_mask_count": 10,
          "min_mask_pct": 5.0
        }
      ],
      "avg_dirhit": 100.0,
      "avg_nrmse": 0.995348208000003,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -123.55491338496627,
          "rmse": 0.29573174846000766,
          "mape": 1.8848920970556484,
          "confidence": 0.3
        },
        "catboost": {
          "raw_r2": 0.012455932659957498,
          "rmse": 0.0271424654338167,
          "mape": 1.677864399294462,
          "confidence": 0.6351129377749761
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 10,
    "min_mask_pct": 5.0,
    "best_trial_number": 204,
    "best_trial_seed": 246,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "EKSUN_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 453,
            "test_end_idx": 483,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-12T00:00:00",
            "test_start": "2025-06-13T00:00:00",
            "test_end": "2025-07-25T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 483,
            "test_end_idx": 513,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-07-25T00:00:00",
            "test_start": "2025-07-28T00:00:00",
            "test_end": "2025-09-05T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 513,
            "test_end_idx": 543,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-05T00:00:00",
            "test_start": "2025-09-08T00:00:00",
            "test_end": "2025-10-17T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 543,
            "test_end_idx": 573,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-17T00:00:00",
            "test_start": "2025-10-20T00:00:00",
            "test_end": "2025-11-28T00:00:00"
          }
        ]
      }
    }
  }
}