{
  "best_value": 44.16815011274653,
  "best_dirhit": 72.05128205128204,
  "best_params": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "model_choice": "cat",
    "ml_loss_mse_weight": 0.7286020389171008,
    "ml_loss_threshold": 0.0023965836015761416,
    "ml_dir_penalty": 3.3521410746244853,
    "n_seeds": 3,
    "ml_adaptive_k_1d": 2.7284602287154627,
    "ml_pattern_weight_scale_1d": 1.9492035354194837,
    "enable_talib_patterns_short": false,
    "external_min_days": 35,
    "external_smooth_alpha": 0.4922839034268237,
    "regime_scale_low": 0.9672333002773179,
    "regime_scale_high": 1.091532129271878,
    "cat_iterations": 139,
    "cat_depth": 7,
    "cat_learning_rate": 0.16017214596864654,
    "cat_l2_leaf_reg": 5.161942461672505,
    "cat_subsample": 0.6119396469500619,
    "cat_rsm": 0.7110442291976553,
    "cat_border_count": 50,
    "cat_random_strength": 0.10655293769137114,
    "cat_leaf_estimation_iterations": 5,
    "cat_bootstrap_type": "Bernoulli"
  },
  "best_trial": {
    "number": 1350,
    "value": 44.16815011274653,
    "state": "1"
  },
  "best_trial_number": 1350,
  "best_trial_seed": 1392,
  "n_trials": 1500,
  "pruned_count": 0,
  "avg_trial_time": 278.87957380660373,
  "top_k_trials": [
    {
      "number": 1350,
      "value": 44.16815011274653,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": false,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": false,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.7286020389171008,
        "ml_loss_threshold": 0.0023965836015761416,
        "ml_dir_penalty": 3.3521410746244853,
        "n_seeds": 3,
        "ml_adaptive_k_1d": 2.7284602287154627,
        "ml_pattern_weight_scale_1d": 1.9492035354194837,
        "enable_talib_patterns_short": false,
        "external_min_days": 35,
        "external_smooth_alpha": 0.4922839034268237,
        "regime_scale_low": 0.9672333002773179,
        "regime_scale_high": 1.091532129271878,
        "cat_iterations": 139,
        "cat_depth": 7,
        "cat_learning_rate": 0.16017214596864654,
        "cat_l2_leaf_reg": 5.161942461672505,
        "cat_subsample": 0.6119396469500619,
        "cat_rsm": 0.7110442291976553,
        "cat_border_count": 50,
        "cat_random_strength": 0.10655293769137114,
        "cat_leaf_estimation_iterations": 5,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 72.05128205128204,
        "avg_nrmse": 1.0446245538584826,
        "model_choice": "cat",
        "symbol_metrics": {
          "ATEKS_1d": {
            "symbol": "ATEKS",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 457,
                "test_days": 30,
                "train_end_idx": 457,
                "test_end_idx": 487,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.033573424817122,
                    "rmse": 0.03932206980981947,
                    "mape": 1.5703274195315096,
                    "confidence": 0.5977854697046631
                  },
                  "catboost": {
                    "raw_r2": -0.031429344945090344,
                    "rmse": 0.03924797042337364,
                    "mape": 1.583394350382481,
                    "confidence": 0.5995160796417803
                  }
                },
                "dirhit": 60.0,
                "rmse": 0.030035086859534498,
                "mape": 4117242.011221201,
                "nrmse": 1.1030717946428885,
                "mask_count": 15,
                "mask_pct": 51.724137931034484,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 487,
                "test_days": 30,
                "train_end_idx": 487,
                "test_end_idx": 517,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.027011468995826293,
                    "rmse": 0.038548410282074,
                    "mape": 1.5652849268179454,
                    "confidence": 0.603086480756486
                  },
                  "catboost": {
                    "raw_r2": -0.011772177595670211,
                    "rmse": 0.03817030167696548,
                    "mape": 1.6273064149564278,
                    "confidence": 0.6154378662947795
                  }
                },
                "dirhit": 66.66666666666666,
                "rmse": 0.02211905960651244,
                "mape": 237.60729410554453,
                "nrmse": 1.0135320413487798,
                "mask_count": 9,
                "mask_pct": 31.03448275862069,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 517,
                "test_days": 30,
                "train_end_idx": 517,
                "test_end_idx": 547,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.030977948573627383,
                    "rmse": 0.03751794238675032,
                    "mape": 1.5648637698401555,
                    "confidence": 0.5998806162923724
                  },
                  "catboost": {
                    "raw_r2": -0.04480499868894775,
                    "rmse": 0.03765489948397626,
                    "mape": 1.6671480020009064,
                    "confidence": 0.5887474298042095
                  }
                },
                "dirhit": 100.0,
                "rmse": 0.019492024144324303,
                "mape": 454381.1113718923,
                "nrmse": 0.9805691936508201,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 547,
                "test_days": 30,
                "train_end_idx": 547,
                "test_end_idx": 577,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.03530218596529503,
                    "rmse": 0.03686342970512489,
                    "mape": 1.5967651295141594,
                    "confidence": 0.5963912135656129
                  },
                  "catboost": {
                    "raw_r2": -0.02079773314423002,
                    "rmse": 0.03658890023450704,
                    "mape": 1.6045432178102856,
                    "confidence": 0.6081170529253734
                  }
                },
                "dirhit": 61.53846153846154,
                "rmse": 0.03554331525838173,
                "mape": 5808236.792395403,
                "nrmse": 1.081325185791442,
                "mask_count": 13,
                "mask_pct": 44.827586206896555,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 72.05128205128204,
            "avg_nrmse": 1.0446245538584826,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.03171625708796768,
                "rmse": 0.03806296304594217,
                "mape": 1.5743103114259425,
                "confidence": 0.5992859450797836
              },
              "catboost": {
                "raw_r2": -0.027201063593484582,
                "rmse": 0.0379155179547056,
                "mape": 1.6205979962875252,
                "confidence": 0.6029546071665357
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 556,
      "value": 43.08749894251956,
      "params": {
        "enable_external_features": false,
        "enable_fingpt_features": true,
        "enable_yolo_features": true,
        "enable_directional_loss": true,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": true,
        "model_choice": "cat",
        "ml_loss_mse_weight": 0.7713798284403642,
        "ml_loss_threshold": 0.002253910672590661,
        "ml_dir_penalty": 4.784174904062578,
        "n_seeds": 3,
        "ml_adaptive_k_1d": 2.7959847682553156,
        "ml_pattern_weight_scale_1d": 1.8946644276523,
        "enable_talib_patterns_short": false,
        "external_min_days": 60,
        "external_smooth_alpha": 0.4583554768230304,
        "regime_scale_low": 0.875490549409503,
        "regime_scale_high": 1.1160996019622758,
        "yolo_min_conf": 0.7318438460158416,
        "fingpt_confidence_threshold": 0.4921054871555699,
        "cat_iterations": 201,
        "cat_depth": 8,
        "cat_learning_rate": 0.12913586752469597,
        "cat_l2_leaf_reg": 4.187542049416932,
        "cat_subsample": 0.8766198984571636,
        "cat_rsm": 0.6478096490414076,
        "cat_border_count": 127,
        "cat_random_strength": 0.19144125135451207,
        "cat_leaf_estimation_iterations": 19,
        "cat_bootstrap_type": "Bernoulli"
      },
      "attrs": {
        "avg_dirhit": 70.09844322344323,
        "avg_nrmse": 0.9969018856484491,
        "model_choice": "cat",
        "symbol_metrics": {
          "ATEKS_1d": {
            "symbol": "ATEKS",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 456,
                "test_days": 30,
                "train_end_idx": 456,
                "test_end_idx": 486,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-18T00:00:00",
                "test_start": "2025-06-19T00:00:00",
                "test_end": "2025-07-31T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -2.454237858371105,
                    "rmse": 0.06780025144850199,
                    "mape": 1.5250905359021318,
                    "confidence": 0.3000030450997682
                  },
                  "catboost": {
                    "raw_r2": -0.02770291425617148,
                    "rmse": 0.03911640978576866,
                    "mape": 1.6244724820831213,
                    "confidence": 0.6025273013187125
                  }
                },
                "dirhit": 53.84615384615385,
                "rmse": 0.02734531280746313,
                "mape": 3730867.967115769,
                "nrmse": 1.0045535389384659,
                "mask_count": 13,
                "mask_pct": 44.827586206896555,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 486,
                "test_days": 30,
                "train_end_idx": 486,
                "test_end_idx": 516,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-07-31T00:00:00",
                "test_start": "2025-08-01T00:00:00",
                "test_end": "2025-09-11T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -2.617579485042502,
                    "rmse": 0.06795236914786819,
                    "mape": 1.5479405967135504,
                    "confidence": 0.3000013455840363
                  },
                  "catboost": {
                    "raw_r2": -0.011261458238851866,
                    "rmse": 0.038100581031514424,
                    "mape": 1.6109110970932394,
                    "confidence": 0.6158524819121562
                  }
                },
                "dirhit": 53.333333333333336,
                "rmse": 0.02263663099461949,
                "mape": 289.66966581290296,
                "nrmse": 1.0392844461403101,
                "mask_count": 15,
                "mask_pct": 51.724137931034484,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 516,
                "test_days": 30,
                "train_end_idx": 516,
                "test_end_idx": 546,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-11T00:00:00",
                "test_start": "2025-09-12T00:00:00",
                "test_end": "2025-10-23T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -2.772951508761268,
                    "rmse": 0.06783952124427613,
                    "mape": 1.5524855150740187,
                    "confidence": 0.30000061876430023
                  },
                  "catboost": {
                    "raw_r2": -0.013700260952094978,
                    "rmse": 0.03743779472883046,
                    "mape": 1.649076077558315,
                    "confidence": 0.6138728887342448
                  }
                },
                "dirhit": 85.71428571428571,
                "rmse": 0.019806656888826085,
                "mape": 5265038.872294555,
                "nrmse": 0.9324815661032576,
                "mask_count": 7,
                "mask_pct": 24.137931034482758,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 546,
                "test_days": 30,
                "train_end_idx": 546,
                "test_end_idx": 576,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-23T00:00:00",
                "test_start": "2025-10-24T00:00:00",
                "test_end": "2025-12-04T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -2.3209647259764328,
                    "rmse": 0.06603763132055962,
                    "mape": 1.5689814989992976,
                    "confidence": 0.30000592923316444
                  },
                  "catboost": {
                    "raw_r2": -0.017712596188718715,
                    "rmse": 0.036558548755483825,
                    "mape": 1.6318883448739503,
                    "confidence": 0.6106179147405841
                  }
                },
                "dirhit": 87.5,
                "rmse": 0.03333268064750617,
                "mape": 2555577.0202337345,
                "nrmse": 1.0112879914117625,
                "mask_count": 8,
                "mask_pct": 27.586206896551722,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 70.09844322344323,
            "avg_nrmse": 0.9969018856484491,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -2.541433394537827,
                "rmse": 0.06740744329030147,
                "mape": 1.5486245366722498,
                "confidence": 0.3000027346703173
              },
              "catboost": {
                "raw_r2": -0.01759430740895926,
                "rmse": 0.03780333357539935,
                "mape": 1.6290870004021567,
                "confidence": 0.6107176466764244
              }
            }
          }
        }
      },
      "state": "1"
    },
    {
      "number": 1030,
      "value": 42.875113384662875,
      "params": {
        "enable_external_features": true,
        "enable_fingpt_features": false,
        "enable_yolo_features": true,
        "enable_directional_loss": false,
        "enable_seed_bagging": true,
        "enable_talib_patterns": true,
        "enable_smart_ensemble": false,
        "enable_stacked_short": true,
        "enable_meta_stacking": false,
        "enable_regime_detection": true,
        "enable_fingpt": false,
        "model_choice": "lgbm",
        "n_seeds": 3,
        "ml_adaptive_k_1d": 2.834844873394849,
        "ml_pattern_weight_scale_1d": 1.8816271143480519,
        "enable_talib_patterns_short": false,
        "external_min_days": 36,
        "external_smooth_alpha": 0.43666575322985335,
        "regime_scale_low": 0.9775975404131736,
        "regime_scale_high": 1.1056788377796356,
        "yolo_min_conf": 0.3823182299448662,
        "lgb_n_estimators": 371,
        "lgb_max_depth": 7,
        "lgb_learning_rate": 0.03149335944148583,
        "lgb_num_leaves": 34,
        "lgb_subsample": 0.7676989211093885,
        "lgb_colsample_bytree": 0.6670417096829228,
        "lgb_reg_alpha": 0.6770719562631374,
        "lgb_reg_lambda": 0.0012061972295281222,
        "lgb_min_data_in_leaf": 86,
        "lgb_feature_fraction_bynode": 0.567831593514776,
        "lgb_bagging_freq": 2,
        "lgb_min_gain_to_split": 0.9817968710160704
      },
      "attrs": {
        "avg_dirhit": 70.0,
        "avg_nrmse": 1.0208144358895213,
        "model_choice": "lgbm",
        "symbol_metrics": {
          "ATEKS_1d": {
            "symbol": "ATEKS",
            "horizon": 1,
            "split_metrics": [
              {
                "split_index": 1,
                "train_days": 457,
                "test_days": 30,
                "train_end_idx": 457,
                "test_end_idx": 487,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-06-19T00:00:00",
                "test_start": "2025-06-20T00:00:00",
                "test_end": "2025-08-01T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.02181897904132002,
                    "rmse": 0.03908686295835647,
                    "mape": 1.5885645215708804,
                    "confidence": 0.607289641321295
                  },
                  "lightgbm": {
                    "raw_r2": -0.02348052556627378,
                    "rmse": 0.03915719675126103,
                    "mape": 1.6957785024071568,
                    "confidence": 0.6059439560041088
                  }
                },
                "dirhit": null,
                "rmse": 0.02783167267281603,
                "mape": 1310234.9138244425,
                "nrmse": 1.022148970858426,
                "mask_count": 3,
                "mask_pct": 10.344827586206897,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 2,
                "train_days": 487,
                "test_days": 30,
                "train_end_idx": 487,
                "test_end_idx": 517,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-08-01T00:00:00",
                "test_start": "2025-08-04T00:00:00",
                "test_end": "2025-09-12T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.011932776566246103,
                    "rmse": 0.0382519093425586,
                    "mape": 1.6118061644100554,
                    "confidence": 0.6153074941341852
                  },
                  "lightgbm": {
                    "raw_r2": -0.01193661669108607,
                    "rmse": 0.03826197464793583,
                    "mape": 1.67008919583126,
                    "confidence": 0.6153043768087165
                  }
                },
                "dirhit": 60.0,
                "rmse": 0.021400050136230492,
                "mape": 123.54125434233384,
                "nrmse": 0.9805858334571292,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 3,
                "train_days": 517,
                "test_days": 30,
                "train_end_idx": 517,
                "test_end_idx": 547,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-09-12T00:00:00",
                "test_start": "2025-09-15T00:00:00",
                "test_end": "2025-10-24T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.013499953127820152,
                    "rmse": 0.0372001240241001,
                    "mape": 1.617988598422453,
                    "confidence": 0.6140354508408994
                  },
                  "lightgbm": {
                    "raw_r2": -0.011954277408486943,
                    "rmse": 0.03717141912496558,
                    "mape": 1.6700826053756401,
                    "confidence": 0.6152900402654726
                  }
                },
                "dirhit": null,
                "rmse": 0.02149314030214676,
                "mape": 2260698.6350084804,
                "nrmse": 1.0812376949182452,
                "mask_count": 2,
                "mask_pct": 6.896551724137931,
                "low_support": true,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              },
              {
                "split_index": 4,
                "train_days": 547,
                "test_days": 30,
                "train_end_idx": 547,
                "test_end_idx": 577,
                "train_start": "2023-08-21T00:00:00",
                "train_end": "2025-10-24T00:00:00",
                "test_start": "2025-10-27T00:00:00",
                "test_end": "2025-12-05T00:00:00",
                "valid_predictions": 29,
                "model_metrics": {
                  "xgboost": {
                    "raw_r2": -0.02114070767213172,
                    "rmse": 0.03659835205898177,
                    "mape": 1.6980146451923765,
                    "confidence": 0.6078391505629389
                  },
                  "lightgbm": {
                    "raw_r2": -0.017432020486059557,
                    "rmse": 0.03653046409654988,
                    "mape": 1.7494399053044032,
                    "confidence": 0.6108454430972992
                  }
                },
                "dirhit": 80.0,
                "rmse": 0.032846650516209754,
                "mape": 2089730.5335171875,
                "nrmse": 0.999285244324285,
                "mask_count": 5,
                "mask_pct": 17.24137931034483,
                "low_support": false,
                "min_mask_count": 5,
                "min_mask_pct": 2.5
              }
            ],
            "avg_dirhit": 70.0,
            "avg_nrmse": 1.0208144358895213,
            "split_count": 4,
            "avg_model_metrics": {
              "xgboost": {
                "raw_r2": -0.0170981041018795,
                "rmse": 0.03778431209599924,
                "mape": 1.6290934823989414,
                "confidence": 0.6111179342148296
              },
              "lightgbm": {
                "raw_r2": -0.016200860037976588,
                "rmse": 0.03778026365517807,
                "mape": 1.6963475522296152,
                "confidence": 0.6118459540438993
              }
            }
          }
        }
      },
      "state": "1"
    }
  ],
  "study_name": "hpo_with_features_ATEKS_h1_c3",
  "symbols": [
    "ATEKS"
  ],
  "horizon": 1,
  "best_model_choice": "cat",
  "feature_flags": {
    "enable_external_features": true,
    "enable_fingpt_features": false,
    "enable_yolo_features": false,
    "enable_directional_loss": true,
    "enable_seed_bagging": true,
    "enable_talib_patterns": true,
    "enable_smart_ensemble": false,
    "enable_stacked_short": false,
    "enable_meta_stacking": false,
    "enable_regime_detection": true,
    "enable_fingpt": false,
    "enable_talib_patterns_short": false
  },
  "feature_params": {
    "ml_loss_mse_weight": 0.7286020389171008,
    "ml_loss_threshold": 0.0023965836015761416,
    "ml_dir_penalty": 3.3521410746244853,
    "n_seeds": 3,
    "ml_adaptive_k_1d": 2.7284602287154627,
    "ml_pattern_weight_scale_1d": 1.9492035354194837,
    "external_min_days": 35,
    "external_smooth_alpha": 0.4922839034268237,
    "regime_scale_low": 0.9672333002773179,
    "regime_scale_high": 1.091532129271878
  },
  "hyperparameters": {
    "model_choice": "cat",
    "cat_iterations": 139,
    "cat_depth": 7,
    "cat_learning_rate": 0.16017214596864654,
    "cat_l2_leaf_reg": 5.161942461672505,
    "cat_subsample": 0.6119396469500619,
    "cat_rsm": 0.7110442291976553,
    "cat_border_count": 50,
    "cat_random_strength": 0.10655293769137114,
    "cat_leaf_estimation_iterations": 5,
    "cat_bootstrap_type": "Bernoulli"
  },
  "features_enabled": {
    "ENABLE_EXTERNAL_FEATURES": "1",
    "ENABLE_FINGPT_FEATURES": "0",
    "ENABLE_YOLO_FEATURES": "0",
    "ML_USE_DIRECTIONAL_LOSS": "1",
    "ENABLE_SEED_BAGGING": "1",
    "ENABLE_TALIB_PATTERNS": "1",
    "ML_USE_SMART_ENSEMBLE": "0",
    "ML_USE_STACKED_SHORT": "0",
    "ENABLE_META_STACKING": "0",
    "ML_USE_REGIME_DETECTION": "1",
    "ENABLE_FINGPT": "0",
    "ML_USE_ADAPTIVE_LEARNING": "0",
    "ENABLE_XGBOOST": "0",
    "ENABLE_LIGHTGBM": "0",
    "ENABLE_CATBOOST": "1"
  },
  "best_trial_metrics": {
    "ATEKS_1d": {
      "symbol": "ATEKS",
      "horizon": 1,
      "split_metrics": [
        {
          "split_index": 1,
          "train_days": 457,
          "test_days": 30,
          "train_end_idx": 457,
          "test_end_idx": 487,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-06-19T00:00:00",
          "test_start": "2025-06-20T00:00:00",
          "test_end": "2025-08-01T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.033573424817122,
              "rmse": 0.03932206980981947,
              "mape": 1.5703274195315096,
              "confidence": 0.5977854697046631
            },
            "catboost": {
              "raw_r2": -0.031429344945090344,
              "rmse": 0.03924797042337364,
              "mape": 1.583394350382481,
              "confidence": 0.5995160796417803
            }
          },
          "dirhit": 60.0,
          "rmse": 0.030035086859534498,
          "mape": 4117242.011221201,
          "nrmse": 1.1030717946428885,
          "mask_count": 15,
          "mask_pct": 51.724137931034484,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 2,
          "train_days": 487,
          "test_days": 30,
          "train_end_idx": 487,
          "test_end_idx": 517,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-08-01T00:00:00",
          "test_start": "2025-08-04T00:00:00",
          "test_end": "2025-09-12T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.027011468995826293,
              "rmse": 0.038548410282074,
              "mape": 1.5652849268179454,
              "confidence": 0.603086480756486
            },
            "catboost": {
              "raw_r2": -0.011772177595670211,
              "rmse": 0.03817030167696548,
              "mape": 1.6273064149564278,
              "confidence": 0.6154378662947795
            }
          },
          "dirhit": 66.66666666666666,
          "rmse": 0.02211905960651244,
          "mape": 237.60729410554453,
          "nrmse": 1.0135320413487798,
          "mask_count": 9,
          "mask_pct": 31.03448275862069,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 3,
          "train_days": 517,
          "test_days": 30,
          "train_end_idx": 517,
          "test_end_idx": 547,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-09-12T00:00:00",
          "test_start": "2025-09-15T00:00:00",
          "test_end": "2025-10-24T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.030977948573627383,
              "rmse": 0.03751794238675032,
              "mape": 1.5648637698401555,
              "confidence": 0.5998806162923724
            },
            "catboost": {
              "raw_r2": -0.04480499868894775,
              "rmse": 0.03765489948397626,
              "mape": 1.6671480020009064,
              "confidence": 0.5887474298042095
            }
          },
          "dirhit": 100.0,
          "rmse": 0.019492024144324303,
          "mape": 454381.1113718923,
          "nrmse": 0.9805691936508201,
          "mask_count": 8,
          "mask_pct": 27.586206896551722,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        },
        {
          "split_index": 4,
          "train_days": 547,
          "test_days": 30,
          "train_end_idx": 547,
          "test_end_idx": 577,
          "train_start": "2023-08-21T00:00:00",
          "train_end": "2025-10-24T00:00:00",
          "test_start": "2025-10-27T00:00:00",
          "test_end": "2025-12-05T00:00:00",
          "valid_predictions": 29,
          "model_metrics": {
            "xgboost": {
              "raw_r2": -0.03530218596529503,
              "rmse": 0.03686342970512489,
              "mape": 1.5967651295141594,
              "confidence": 0.5963912135656129
            },
            "catboost": {
              "raw_r2": -0.02079773314423002,
              "rmse": 0.03658890023450704,
              "mape": 1.6045432178102856,
              "confidence": 0.6081170529253734
            }
          },
          "dirhit": 61.53846153846154,
          "rmse": 0.03554331525838173,
          "mape": 5808236.792395403,
          "nrmse": 1.081325185791442,
          "mask_count": 13,
          "mask_pct": 44.827586206896555,
          "low_support": false,
          "min_mask_count": 5,
          "min_mask_pct": 2.5
        }
      ],
      "avg_dirhit": 72.05128205128204,
      "avg_nrmse": 1.0446245538584826,
      "split_count": 4,
      "avg_model_metrics": {
        "xgboost": {
          "raw_r2": -0.03171625708796768,
          "rmse": 0.03806296304594217,
          "mape": 1.5743103114259425,
          "confidence": 0.5992859450797836
        },
        "catboost": {
          "raw_r2": -0.027201063593484582,
          "rmse": 0.0379155179547056,
          "mape": 1.6205979962875252,
          "confidence": 0.6029546071665357
        }
      }
    }
  },
  "evaluation_spec": {
    "horizon": 1,
    "dirhit_threshold": 0.005,
    "min_mask_count": 5,
    "min_mask_pct": 2.5,
    "best_trial_number": 1350,
    "best_trial_seed": 1392,
    "scoring": {
      "formula": "score = 0.7*avg_dirhit - k*avg_nrmse",
      "k": 6.0
    },
    "split_generation": {
      "type": "generate_walkforward_splits",
      "n_splits": 4
    },
    "symbol_specs": {
      "ATEKS_1d": {
        "splits": [
          {
            "split_index": 1,
            "train_end_idx": 457,
            "test_end_idx": 487,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-06-19T00:00:00",
            "test_start": "2025-06-20T00:00:00",
            "test_end": "2025-08-01T00:00:00"
          },
          {
            "split_index": 2,
            "train_end_idx": 487,
            "test_end_idx": 517,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-08-01T00:00:00",
            "test_start": "2025-08-04T00:00:00",
            "test_end": "2025-09-12T00:00:00"
          },
          {
            "split_index": 3,
            "train_end_idx": 517,
            "test_end_idx": 547,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-09-12T00:00:00",
            "test_start": "2025-09-15T00:00:00",
            "test_end": "2025-10-24T00:00:00"
          },
          {
            "split_index": 4,
            "train_end_idx": 547,
            "test_end_idx": 577,
            "train_start": "2023-08-21T00:00:00",
            "train_end": "2025-10-24T00:00:00",
            "test_start": "2025-10-27T00:00:00",
            "test_end": "2025-12-05T00:00:00"
          }
        ]
      }
    }
  }
}